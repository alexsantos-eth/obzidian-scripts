import{B as L,j as od,s as fr,b as Dn,e as Ao,r as gr,a as ad,c as Gs,u as Mi,i as k0,p as sd,d as fd,f as ud}from"./subscriptionManager.d032983c.js";import{c as Ie,g as T0}from"./_commonjsHelpers.2cf1d77b.js";import{m as C0,h as Vs,s as hd}from"./sha3.d3775581.js";import{i as vt,b as ce,g as tu}from"./inherits_browser.10d0dc97.js";var Hn={},ln={},Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});function ld(e){return function(t){var r=e();return r.update(t),L.from(r.digest())}}Zs.createHashFunction=ld;Object.defineProperty(ln,"__esModule",{value:!0});var Ro=Zs,ko=od;ln.keccak224=Ro.createHashFunction(function(){return ko("keccak224")});ln.keccak256=Ro.createHashFunction(function(){return ko("keccak256")});ln.keccak384=Ro.createHashFunction(function(){return ko("keccak384")});ln.keccak512=Ro.createHashFunction(function(){return ko("keccak512")});var Js={};const Ue={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function qt(e,t){if(!e)throw new Error(t)}function Le(e,t,r){if(qt(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){const n=r.join(", "),o=`Expected ${e} to be an Uint8Array with length [${n}]`;qt(r.includes(t.length),o)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;qt(t.length===r,n)}}function Vr(e){qt(_n(e)==="Boolean","Expected compressed to be a Boolean")}function ir(e=r=>new Uint8Array(r),t){return typeof e=="function"&&(e=e(t)),Le("output",e,t),e}function _n(e){return Object.prototype.toString.call(e).slice(8,-1)}var cd=e=>({contextRandomize(t){switch(qt(t===null||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),t!==null&&Le("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(Ue.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(t){return Le("private key",t,32),e.privateKeyVerify(t)===0},privateKeyNegate(t){switch(Le("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(Ue.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(t,r){switch(Le("private key",t,32),Le("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(Ue.TWEAK_ADD)}},privateKeyTweakMul(t,r){switch(Le("private key",t,32),Le("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(Ue.TWEAK_MUL)}},publicKeyVerify(t){return Le("public key",t,[33,65]),e.publicKeyVerify(t)===0},publicKeyCreate(t,r=!0,n){switch(Le("private key",t,32),Vr(r),n=ir(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(Ue.SECKEY_INVALID);case 2:throw new Error(Ue.PUBKEY_SERIALIZE)}},publicKeyConvert(t,r=!0,n){switch(Le("public key",t,[33,65]),Vr(r),n=ir(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(Ue.PUBKEY_PARSE);case 2:throw new Error(Ue.PUBKEY_SERIALIZE)}},publicKeyNegate(t,r=!0,n){switch(Le("public key",t,[33,65]),Vr(r),n=ir(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(Ue.PUBKEY_PARSE);case 2:throw new Error(Ue.IMPOSSIBLE_CASE);case 3:throw new Error(Ue.PUBKEY_SERIALIZE)}},publicKeyCombine(t,r=!0,n){qt(Array.isArray(t),"Expected public keys to be an Array"),qt(t.length>0,"Expected public keys array will have more than zero items");for(const o of t)Le("public key",o,[33,65]);switch(Vr(r),n=ir(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(Ue.PUBKEY_PARSE);case 2:throw new Error(Ue.PUBKEY_COMBINE);case 3:throw new Error(Ue.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(t,r,n=!0,o){switch(Le("public key",t,[33,65]),Le("tweak",r,32),Vr(n),o=ir(o,n?33:65),e.publicKeyTweakAdd(o,t,r)){case 0:return o;case 1:throw new Error(Ue.PUBKEY_PARSE);case 2:throw new Error(Ue.TWEAK_ADD)}},publicKeyTweakMul(t,r,n=!0,o){switch(Le("public key",t,[33,65]),Le("tweak",r,32),Vr(n),o=ir(o,n?33:65),e.publicKeyTweakMul(o,t,r)){case 0:return o;case 1:throw new Error(Ue.PUBKEY_PARSE);case 2:throw new Error(Ue.TWEAK_MUL)}},signatureNormalize(t){switch(Le("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(Ue.SIG_PARSE)}},signatureExport(t,r){Le("signature",t,64),r=ir(r,72);const n={output:r,outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Ue.SIG_PARSE);case 2:throw new Error(Ue.IMPOSSIBLE_CASE)}},signatureImport(t,r){switch(Le("signature",t),r=ir(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(Ue.SIG_PARSE);case 2:throw new Error(Ue.IMPOSSIBLE_CASE)}},ecdsaSign(t,r,n={},o){Le("message",t,32),Le("private key",r,32),qt(_n(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Le("options.data",n.data),n.noncefn!==void 0&&qt(_n(n.noncefn)==="Function","Expected options.noncefn to be a Function"),o=ir(o,64);const i={signature:o,recid:null};switch(e.ecdsaSign(i,t,r,n.data,n.noncefn)){case 0:return i;case 1:throw new Error(Ue.SIGN);case 2:throw new Error(Ue.IMPOSSIBLE_CASE)}},ecdsaVerify(t,r,n){switch(Le("signature",t,64),Le("message",r,32),Le("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Ue.SIG_PARSE);case 2:throw new Error(Ue.PUBKEY_PARSE)}},ecdsaRecover(t,r,n,o=!0,i){switch(Le("signature",t,64),qt(_n(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),Le("message",n,32),Vr(o),i=ir(i,o?33:65),e.ecdsaRecover(i,t,r,n)){case 0:return i;case 1:throw new Error(Ue.SIG_PARSE);case 2:throw new Error(Ue.RECOVER);case 3:throw new Error(Ue.IMPOSSIBLE_CASE)}},ecdh(t,r,n={},o){switch(Le("public key",t,[33,65]),Le("private key",r,32),qt(_n(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Le("options.data",n.data),n.hashfn!==void 0?(qt(_n(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&Le("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&Le("options.ybuf",n.ybuf,32),Le("output",o)):o=ir(o,32),e.ecdh(o,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return o;case 1:throw new Error(Ue.PUBKEY_PARSE);case 2:throw new Error(Ue.ECDH)}}}),To={};const dd="elliptic",vd="6.5.4",pd="EC cryptography",gd="lib/elliptic.js",md=["lib"],_d={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},yd={type:"git",url:"git@github.com:indutny/elliptic"},wd=["EC","Elliptic","curve","Cryptography"],bd="Fedor Indutny <fedor@indutny.com>",xd="MIT",Md={url:"https://github.com/indutny/elliptic/issues"},Sd="https://github.com/indutny/elliptic",Ed={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},Ad={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var Rd={name:dd,version:vd,description:pd,main:gd,files:md,scripts:_d,repository:yd,keywords:wd,author:bd,license:xd,bugs:Md,homepage:Sd,devDependencies:Ed,dependencies:Ad},Ot={},mr={exports:{}};(function(e){(function(t,r){function n(d,s){if(!d)throw new Error(s||"Assertion failed")}function o(d,s){d.super_=s;var f=function(){};f.prototype=s.prototype,d.prototype=new f,d.prototype.constructor=d}function i(d,s,f){if(i.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,d!==null&&((s==="le"||s==="be")&&(f=s,s=10),this._init(d||0,s||10,f||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=require("buffer").Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,f){return s.cmp(f)>0?s:f},i.min=function(s,f){return s.cmp(f)<0?s:f},i.prototype._init=function(s,f,a){if(typeof s=="number")return this._initNumber(s,f,a);if(typeof s=="object")return this._initArray(s,f,a);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),s=s.toString().replace(/\s+/g,"");var h=0;s[0]==="-"&&(h++,this.negative=1),h<s.length&&(f===16?this._parseHex(s,h,a):(this._parseBase(s,f,h),a==="le"&&this._initArray(this.toArray(),f,a)))},i.prototype._initNumber=function(s,f,a){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),a==="le"&&this._initArray(this.toArray(),f,a)},i.prototype._initArray=function(s,f,a){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var p,w,m=0;if(a==="be")for(h=s.length-1,p=0;h>=0;h-=3)w=s[h]|s[h-1]<<8|s[h-2]<<16,this.words[p]|=w<<m&67108863,this.words[p+1]=w>>>26-m&67108863,m+=24,m>=26&&(m-=26,p++);else if(a==="le")for(h=0,p=0;h<s.length;h+=3)w=s[h]|s[h+1]<<8|s[h+2]<<16,this.words[p]|=w<<m&67108863,this.words[p+1]=w>>>26-m&67108863,m+=24,m>=26&&(m-=26,p++);return this.strip()};function v(d,s){var f=d.charCodeAt(s);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function g(d,s,f){var a=v(d,f);return f-1>=s&&(a|=v(d,f-1)<<4),a}i.prototype._parseHex=function(s,f,a){this.length=Math.ceil((s.length-f)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var p=0,w=0,m;if(a==="be")for(h=s.length-1;h>=f;h-=2)m=g(s,f,h)<<p,this.words[w]|=m&67108863,p>=18?(p-=18,w+=1,this.words[w]|=m>>>26):p+=8;else{var u=s.length-f;for(h=u%2===0?f+1:f;h<s.length;h+=2)m=g(s,f,h)<<p,this.words[w]|=m&67108863,p>=18?(p-=18,w+=1,this.words[w]|=m>>>26):p+=8}this.strip()};function x(d,s,f,a){for(var h=0,p=Math.min(d.length,f),w=s;w<p;w++){var m=d.charCodeAt(w)-48;h*=a,m>=49?h+=m-49+10:m>=17?h+=m-17+10:h+=m}return h}i.prototype._parseBase=function(s,f,a){this.words=[0],this.length=1;for(var h=0,p=1;p<=67108863;p*=f)h++;h--,p=p/f|0;for(var w=s.length-a,m=w%h,u=Math.min(w,w-m)+a,c=0,b=a;b<u;b+=h)c=x(s,b,b+h,f),this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(m!==0){var _=1;for(c=x(s,b,s.length,f),b=0;b<m;b++)_*=f;this.imuln(_),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var f=0;f<this.length;f++)s.words[f]=this.words[f];s.length=this.length,s.negative=this.negative,s.red=this.red},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,f){s=s||10,f=f|0||1;var a;if(s===16||s==="hex"){a="";for(var h=0,p=0,w=0;w<this.length;w++){var m=this.words[w],u=((m<<h|p)&16777215).toString(16);p=m>>>24-h&16777215,p!==0||w!==this.length-1?a=y[6-u.length]+u+a:a=u+a,h+=2,h>=26&&(h-=26,w--)}for(p!==0&&(a=p.toString(16)+a);a.length%f!==0;)a="0"+a;return this.negative!==0&&(a="-"+a),a}if(s===(s|0)&&s>=2&&s<=36){var c=S[s],b=R[s];a="";var _=this.clone();for(_.negative=0;!_.isZero();){var E=_.modn(b).toString(s);_=_.idivn(b),_.isZero()?a=E+a:a=y[c-E.length]+E+a}for(this.isZero()&&(a="0"+a);a.length%f!==0;)a="0"+a;return this.negative!==0&&(a="-"+a),a}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(s,f){return n(typeof l!="undefined"),this.toArrayLike(l,s,f)},i.prototype.toArray=function(s,f){return this.toArrayLike(Array,s,f)},i.prototype.toArrayLike=function(s,f,a){var h=this.byteLength(),p=a||Math.max(1,h);n(h<=p,"byte array longer than desired length"),n(p>0,"Requested array length <= 0"),this.strip();var w=f==="le",m=new s(p),u,c,b=this.clone();if(w){for(c=0;!b.isZero();c++)u=b.andln(255),b.iushrn(8),m[c]=u;for(;c<p;c++)m[c]=0}else{for(c=0;c<p-h;c++)m[c]=0;for(c=0;!b.isZero();c++)u=b.andln(255),b.iushrn(8),m[p-c-1]=u}return m},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var f=s,a=0;return f>=4096&&(a+=13,f>>>=13),f>=64&&(a+=7,f>>>=7),f>=8&&(a+=4,f>>>=4),f>=2&&(a+=2,f>>>=2),a+f},i.prototype._zeroBits=function(s){if(s===0)return 26;var f=s,a=0;return(f&8191)===0&&(a+=13,f>>>=13),(f&127)===0&&(a+=7,f>>>=7),(f&15)===0&&(a+=4,f>>>=4),(f&3)===0&&(a+=2,f>>>=2),(f&1)===0&&a++,a},i.prototype.bitLength=function(){var s=this.words[this.length-1],f=this._countBits(s);return(this.length-1)*26+f};function I(d){for(var s=new Array(d.bitLength()),f=0;f<s.length;f++){var a=f/26|0,h=f%26;s[f]=(d.words[a]&1<<h)>>>h}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,f=0;f<this.length;f++){var a=this._zeroBits(this.words[f]);if(s+=a,a!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var f=0;f<s.length;f++)this.words[f]=this.words[f]|s.words[f];return this.strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var f;this.length>s.length?f=s:f=this;for(var a=0;a<f.length;a++)this.words[a]=this.words[a]&s.words[a];return this.length=f.length,this.strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var f,a;this.length>s.length?(f=this,a=s):(f=s,a=this);for(var h=0;h<a.length;h++)this.words[h]=f.words[h]^a.words[h];if(this!==f)for(;h<f.length;h++)this.words[h]=f.words[h];return this.length=f.length,this.strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var f=Math.ceil(s/26)|0,a=s%26;this._expand(f),a>0&&f--;for(var h=0;h<f;h++)this.words[h]=~this.words[h]&67108863;return a>0&&(this.words[h]=~this.words[h]&67108863>>26-a),this.strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,f){n(typeof s=="number"&&s>=0);var a=s/26|0,h=s%26;return this._expand(a+1),f?this.words[a]=this.words[a]|1<<h:this.words[a]=this.words[a]&~(1<<h),this.strip()},i.prototype.iadd=function(s){var f;if(this.negative!==0&&s.negative===0)return this.negative=0,f=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,f=this.isub(s),s.negative=1,f._normSign();var a,h;this.length>s.length?(a=this,h=s):(a=s,h=this);for(var p=0,w=0;w<h.length;w++)f=(a.words[w]|0)+(h.words[w]|0)+p,this.words[w]=f&67108863,p=f>>>26;for(;p!==0&&w<a.length;w++)f=(a.words[w]|0)+p,this.words[w]=f&67108863,p=f>>>26;if(this.length=a.length,p!==0)this.words[this.length]=p,this.length++;else if(a!==this)for(;w<a.length;w++)this.words[w]=a.words[w];return this},i.prototype.add=function(s){var f;return s.negative!==0&&this.negative===0?(s.negative=0,f=this.sub(s),s.negative^=1,f):s.negative===0&&this.negative!==0?(this.negative=0,f=s.sub(this),this.negative=1,f):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var f=this.iadd(s);return s.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var a=this.cmp(s);if(a===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,p;a>0?(h=this,p=s):(h=s,p=this);for(var w=0,m=0;m<p.length;m++)f=(h.words[m]|0)-(p.words[m]|0)+w,w=f>>26,this.words[m]=f&67108863;for(;w!==0&&m<h.length;m++)f=(h.words[m]|0)+w,w=f>>26,this.words[m]=f&67108863;if(w===0&&m<h.length&&h!==this)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=Math.max(this.length,m),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function M(d,s,f){f.negative=s.negative^d.negative;var a=d.length+s.length|0;f.length=a,a=a-1|0;var h=d.words[0]|0,p=s.words[0]|0,w=h*p,m=w&67108863,u=w/67108864|0;f.words[0]=m;for(var c=1;c<a;c++){for(var b=u>>>26,_=u&67108863,E=Math.min(c,s.length-1),N=Math.max(0,c-d.length+1);N<=E;N++){var q=c-N|0;h=d.words[q]|0,p=s.words[N]|0,w=h*p+_,b+=w/67108864|0,_=w&67108863}f.words[c]=_|0,u=b|0}return u!==0?f.words[c]=u|0:f.length--,f.strip()}var T=function(s,f,a){var h=s.words,p=f.words,w=a.words,m=0,u,c,b,_=h[0]|0,E=_&8191,N=_>>>13,q=h[1]|0,U=q&8191,ue=q>>>13,W=h[2]|0,H=W&8191,$e=W>>>13,ve=h[3]|0,j=ve&8191,je=ve>>>13,pe=h[4]|0,G=pe&8191,Ge=pe>>>13,ge=h[5]|0,V=ge&8191,Ve=ge>>>13,me=h[6]|0,Z=me&8191,Ze=me>>>13,_e=h[7]|0,J=_e&8191,Je=_e>>>13,ye=h[8]|0,Y=ye&8191,Ye=ye>>>13,we=h[9]|0,X=we&8191,Xe=we>>>13,be=p[0]|0,Q=be&8191,Qe=be>>>13,xe=p[1]|0,ee=xe&8191,et=xe>>>13,Me=p[2]|0,te=Me&8191,tt=Me>>>13,Se=p[3]|0,re=Se&8191,rt=Se>>>13,Ee=p[4]|0,ne=Ee&8191,nt=Ee>>>13,Ae=p[5]|0,ie=Ae&8191,it=Ae>>>13,Re=p[6]|0,oe=Re&8191,ot=Re>>>13,ke=p[7]|0,ae=ke&8191,at=ke>>>13,Te=p[8]|0,se=Te&8191,st=Te>>>13,Ce=p[9]|0,fe=Ce&8191,Ke=Ce>>>13;a.negative=s.negative^f.negative,a.length=19,u=Math.imul(E,Q),c=Math.imul(E,Qe),c=c+Math.imul(N,Q)|0,b=Math.imul(N,Qe);var He=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(He>>>26)|0,He&=67108863,u=Math.imul(U,Q),c=Math.imul(U,Qe),c=c+Math.imul(ue,Q)|0,b=Math.imul(ue,Qe),u=u+Math.imul(E,ee)|0,c=c+Math.imul(E,et)|0,c=c+Math.imul(N,ee)|0,b=b+Math.imul(N,et)|0;var Fe=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,u=Math.imul(H,Q),c=Math.imul(H,Qe),c=c+Math.imul($e,Q)|0,b=Math.imul($e,Qe),u=u+Math.imul(U,ee)|0,c=c+Math.imul(U,et)|0,c=c+Math.imul(ue,ee)|0,b=b+Math.imul(ue,et)|0,u=u+Math.imul(E,te)|0,c=c+Math.imul(E,tt)|0,c=c+Math.imul(N,te)|0,b=b+Math.imul(N,tt)|0;var Ft=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,u=Math.imul(j,Q),c=Math.imul(j,Qe),c=c+Math.imul(je,Q)|0,b=Math.imul(je,Qe),u=u+Math.imul(H,ee)|0,c=c+Math.imul(H,et)|0,c=c+Math.imul($e,ee)|0,b=b+Math.imul($e,et)|0,u=u+Math.imul(U,te)|0,c=c+Math.imul(U,tt)|0,c=c+Math.imul(ue,te)|0,b=b+Math.imul(ue,tt)|0,u=u+Math.imul(E,re)|0,c=c+Math.imul(E,rt)|0,c=c+Math.imul(N,re)|0,b=b+Math.imul(N,rt)|0;var zt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(zt>>>26)|0,zt&=67108863,u=Math.imul(G,Q),c=Math.imul(G,Qe),c=c+Math.imul(Ge,Q)|0,b=Math.imul(Ge,Qe),u=u+Math.imul(j,ee)|0,c=c+Math.imul(j,et)|0,c=c+Math.imul(je,ee)|0,b=b+Math.imul(je,et)|0,u=u+Math.imul(H,te)|0,c=c+Math.imul(H,tt)|0,c=c+Math.imul($e,te)|0,b=b+Math.imul($e,tt)|0,u=u+Math.imul(U,re)|0,c=c+Math.imul(U,rt)|0,c=c+Math.imul(ue,re)|0,b=b+Math.imul(ue,rt)|0,u=u+Math.imul(E,ne)|0,c=c+Math.imul(E,nt)|0,c=c+Math.imul(N,ne)|0,b=b+Math.imul(N,nt)|0;var Kt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,u=Math.imul(V,Q),c=Math.imul(V,Qe),c=c+Math.imul(Ve,Q)|0,b=Math.imul(Ve,Qe),u=u+Math.imul(G,ee)|0,c=c+Math.imul(G,et)|0,c=c+Math.imul(Ge,ee)|0,b=b+Math.imul(Ge,et)|0,u=u+Math.imul(j,te)|0,c=c+Math.imul(j,tt)|0,c=c+Math.imul(je,te)|0,b=b+Math.imul(je,tt)|0,u=u+Math.imul(H,re)|0,c=c+Math.imul(H,rt)|0,c=c+Math.imul($e,re)|0,b=b+Math.imul($e,rt)|0,u=u+Math.imul(U,ne)|0,c=c+Math.imul(U,nt)|0,c=c+Math.imul(ue,ne)|0,b=b+Math.imul(ue,nt)|0,u=u+Math.imul(E,ie)|0,c=c+Math.imul(E,it)|0,c=c+Math.imul(N,ie)|0,b=b+Math.imul(N,it)|0;var Wt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,u=Math.imul(Z,Q),c=Math.imul(Z,Qe),c=c+Math.imul(Ze,Q)|0,b=Math.imul(Ze,Qe),u=u+Math.imul(V,ee)|0,c=c+Math.imul(V,et)|0,c=c+Math.imul(Ve,ee)|0,b=b+Math.imul(Ve,et)|0,u=u+Math.imul(G,te)|0,c=c+Math.imul(G,tt)|0,c=c+Math.imul(Ge,te)|0,b=b+Math.imul(Ge,tt)|0,u=u+Math.imul(j,re)|0,c=c+Math.imul(j,rt)|0,c=c+Math.imul(je,re)|0,b=b+Math.imul(je,rt)|0,u=u+Math.imul(H,ne)|0,c=c+Math.imul(H,nt)|0,c=c+Math.imul($e,ne)|0,b=b+Math.imul($e,nt)|0,u=u+Math.imul(U,ie)|0,c=c+Math.imul(U,it)|0,c=c+Math.imul(ue,ie)|0,b=b+Math.imul(ue,it)|0,u=u+Math.imul(E,oe)|0,c=c+Math.imul(E,ot)|0,c=c+Math.imul(N,oe)|0,b=b+Math.imul(N,ot)|0;var jt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(jt>>>26)|0,jt&=67108863,u=Math.imul(J,Q),c=Math.imul(J,Qe),c=c+Math.imul(Je,Q)|0,b=Math.imul(Je,Qe),u=u+Math.imul(Z,ee)|0,c=c+Math.imul(Z,et)|0,c=c+Math.imul(Ze,ee)|0,b=b+Math.imul(Ze,et)|0,u=u+Math.imul(V,te)|0,c=c+Math.imul(V,tt)|0,c=c+Math.imul(Ve,te)|0,b=b+Math.imul(Ve,tt)|0,u=u+Math.imul(G,re)|0,c=c+Math.imul(G,rt)|0,c=c+Math.imul(Ge,re)|0,b=b+Math.imul(Ge,rt)|0,u=u+Math.imul(j,ne)|0,c=c+Math.imul(j,nt)|0,c=c+Math.imul(je,ne)|0,b=b+Math.imul(je,nt)|0,u=u+Math.imul(H,ie)|0,c=c+Math.imul(H,it)|0,c=c+Math.imul($e,ie)|0,b=b+Math.imul($e,it)|0,u=u+Math.imul(U,oe)|0,c=c+Math.imul(U,ot)|0,c=c+Math.imul(ue,oe)|0,b=b+Math.imul(ue,ot)|0,u=u+Math.imul(E,ae)|0,c=c+Math.imul(E,at)|0,c=c+Math.imul(N,ae)|0,b=b+Math.imul(N,at)|0;var Gt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,u=Math.imul(Y,Q),c=Math.imul(Y,Qe),c=c+Math.imul(Ye,Q)|0,b=Math.imul(Ye,Qe),u=u+Math.imul(J,ee)|0,c=c+Math.imul(J,et)|0,c=c+Math.imul(Je,ee)|0,b=b+Math.imul(Je,et)|0,u=u+Math.imul(Z,te)|0,c=c+Math.imul(Z,tt)|0,c=c+Math.imul(Ze,te)|0,b=b+Math.imul(Ze,tt)|0,u=u+Math.imul(V,re)|0,c=c+Math.imul(V,rt)|0,c=c+Math.imul(Ve,re)|0,b=b+Math.imul(Ve,rt)|0,u=u+Math.imul(G,ne)|0,c=c+Math.imul(G,nt)|0,c=c+Math.imul(Ge,ne)|0,b=b+Math.imul(Ge,nt)|0,u=u+Math.imul(j,ie)|0,c=c+Math.imul(j,it)|0,c=c+Math.imul(je,ie)|0,b=b+Math.imul(je,it)|0,u=u+Math.imul(H,oe)|0,c=c+Math.imul(H,ot)|0,c=c+Math.imul($e,oe)|0,b=b+Math.imul($e,ot)|0,u=u+Math.imul(U,ae)|0,c=c+Math.imul(U,at)|0,c=c+Math.imul(ue,ae)|0,b=b+Math.imul(ue,at)|0,u=u+Math.imul(E,se)|0,c=c+Math.imul(E,st)|0,c=c+Math.imul(N,se)|0,b=b+Math.imul(N,st)|0;var Vt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,u=Math.imul(X,Q),c=Math.imul(X,Qe),c=c+Math.imul(Xe,Q)|0,b=Math.imul(Xe,Qe),u=u+Math.imul(Y,ee)|0,c=c+Math.imul(Y,et)|0,c=c+Math.imul(Ye,ee)|0,b=b+Math.imul(Ye,et)|0,u=u+Math.imul(J,te)|0,c=c+Math.imul(J,tt)|0,c=c+Math.imul(Je,te)|0,b=b+Math.imul(Je,tt)|0,u=u+Math.imul(Z,re)|0,c=c+Math.imul(Z,rt)|0,c=c+Math.imul(Ze,re)|0,b=b+Math.imul(Ze,rt)|0,u=u+Math.imul(V,ne)|0,c=c+Math.imul(V,nt)|0,c=c+Math.imul(Ve,ne)|0,b=b+Math.imul(Ve,nt)|0,u=u+Math.imul(G,ie)|0,c=c+Math.imul(G,it)|0,c=c+Math.imul(Ge,ie)|0,b=b+Math.imul(Ge,it)|0,u=u+Math.imul(j,oe)|0,c=c+Math.imul(j,ot)|0,c=c+Math.imul(je,oe)|0,b=b+Math.imul(je,ot)|0,u=u+Math.imul(H,ae)|0,c=c+Math.imul(H,at)|0,c=c+Math.imul($e,ae)|0,b=b+Math.imul($e,at)|0,u=u+Math.imul(U,se)|0,c=c+Math.imul(U,st)|0,c=c+Math.imul(ue,se)|0,b=b+Math.imul(ue,st)|0,u=u+Math.imul(E,fe)|0,c=c+Math.imul(E,Ke)|0,c=c+Math.imul(N,fe)|0,b=b+Math.imul(N,Ke)|0;var Zt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,u=Math.imul(X,ee),c=Math.imul(X,et),c=c+Math.imul(Xe,ee)|0,b=Math.imul(Xe,et),u=u+Math.imul(Y,te)|0,c=c+Math.imul(Y,tt)|0,c=c+Math.imul(Ye,te)|0,b=b+Math.imul(Ye,tt)|0,u=u+Math.imul(J,re)|0,c=c+Math.imul(J,rt)|0,c=c+Math.imul(Je,re)|0,b=b+Math.imul(Je,rt)|0,u=u+Math.imul(Z,ne)|0,c=c+Math.imul(Z,nt)|0,c=c+Math.imul(Ze,ne)|0,b=b+Math.imul(Ze,nt)|0,u=u+Math.imul(V,ie)|0,c=c+Math.imul(V,it)|0,c=c+Math.imul(Ve,ie)|0,b=b+Math.imul(Ve,it)|0,u=u+Math.imul(G,oe)|0,c=c+Math.imul(G,ot)|0,c=c+Math.imul(Ge,oe)|0,b=b+Math.imul(Ge,ot)|0,u=u+Math.imul(j,ae)|0,c=c+Math.imul(j,at)|0,c=c+Math.imul(je,ae)|0,b=b+Math.imul(je,at)|0,u=u+Math.imul(H,se)|0,c=c+Math.imul(H,st)|0,c=c+Math.imul($e,se)|0,b=b+Math.imul($e,st)|0,u=u+Math.imul(U,fe)|0,c=c+Math.imul(U,Ke)|0,c=c+Math.imul(ue,fe)|0,b=b+Math.imul(ue,Ke)|0;var Jt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,u=Math.imul(X,te),c=Math.imul(X,tt),c=c+Math.imul(Xe,te)|0,b=Math.imul(Xe,tt),u=u+Math.imul(Y,re)|0,c=c+Math.imul(Y,rt)|0,c=c+Math.imul(Ye,re)|0,b=b+Math.imul(Ye,rt)|0,u=u+Math.imul(J,ne)|0,c=c+Math.imul(J,nt)|0,c=c+Math.imul(Je,ne)|0,b=b+Math.imul(Je,nt)|0,u=u+Math.imul(Z,ie)|0,c=c+Math.imul(Z,it)|0,c=c+Math.imul(Ze,ie)|0,b=b+Math.imul(Ze,it)|0,u=u+Math.imul(V,oe)|0,c=c+Math.imul(V,ot)|0,c=c+Math.imul(Ve,oe)|0,b=b+Math.imul(Ve,ot)|0,u=u+Math.imul(G,ae)|0,c=c+Math.imul(G,at)|0,c=c+Math.imul(Ge,ae)|0,b=b+Math.imul(Ge,at)|0,u=u+Math.imul(j,se)|0,c=c+Math.imul(j,st)|0,c=c+Math.imul(je,se)|0,b=b+Math.imul(je,st)|0,u=u+Math.imul(H,fe)|0,c=c+Math.imul(H,Ke)|0,c=c+Math.imul($e,fe)|0,b=b+Math.imul($e,Ke)|0;var Yt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,u=Math.imul(X,re),c=Math.imul(X,rt),c=c+Math.imul(Xe,re)|0,b=Math.imul(Xe,rt),u=u+Math.imul(Y,ne)|0,c=c+Math.imul(Y,nt)|0,c=c+Math.imul(Ye,ne)|0,b=b+Math.imul(Ye,nt)|0,u=u+Math.imul(J,ie)|0,c=c+Math.imul(J,it)|0,c=c+Math.imul(Je,ie)|0,b=b+Math.imul(Je,it)|0,u=u+Math.imul(Z,oe)|0,c=c+Math.imul(Z,ot)|0,c=c+Math.imul(Ze,oe)|0,b=b+Math.imul(Ze,ot)|0,u=u+Math.imul(V,ae)|0,c=c+Math.imul(V,at)|0,c=c+Math.imul(Ve,ae)|0,b=b+Math.imul(Ve,at)|0,u=u+Math.imul(G,se)|0,c=c+Math.imul(G,st)|0,c=c+Math.imul(Ge,se)|0,b=b+Math.imul(Ge,st)|0,u=u+Math.imul(j,fe)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(je,fe)|0,b=b+Math.imul(je,Ke)|0;var Xt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,u=Math.imul(X,ne),c=Math.imul(X,nt),c=c+Math.imul(Xe,ne)|0,b=Math.imul(Xe,nt),u=u+Math.imul(Y,ie)|0,c=c+Math.imul(Y,it)|0,c=c+Math.imul(Ye,ie)|0,b=b+Math.imul(Ye,it)|0,u=u+Math.imul(J,oe)|0,c=c+Math.imul(J,ot)|0,c=c+Math.imul(Je,oe)|0,b=b+Math.imul(Je,ot)|0,u=u+Math.imul(Z,ae)|0,c=c+Math.imul(Z,at)|0,c=c+Math.imul(Ze,ae)|0,b=b+Math.imul(Ze,at)|0,u=u+Math.imul(V,se)|0,c=c+Math.imul(V,st)|0,c=c+Math.imul(Ve,se)|0,b=b+Math.imul(Ve,st)|0,u=u+Math.imul(G,fe)|0,c=c+Math.imul(G,Ke)|0,c=c+Math.imul(Ge,fe)|0,b=b+Math.imul(Ge,Ke)|0;var Qt=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,u=Math.imul(X,ie),c=Math.imul(X,it),c=c+Math.imul(Xe,ie)|0,b=Math.imul(Xe,it),u=u+Math.imul(Y,oe)|0,c=c+Math.imul(Y,ot)|0,c=c+Math.imul(Ye,oe)|0,b=b+Math.imul(Ye,ot)|0,u=u+Math.imul(J,ae)|0,c=c+Math.imul(J,at)|0,c=c+Math.imul(Je,ae)|0,b=b+Math.imul(Je,at)|0,u=u+Math.imul(Z,se)|0,c=c+Math.imul(Z,st)|0,c=c+Math.imul(Ze,se)|0,b=b+Math.imul(Ze,st)|0,u=u+Math.imul(V,fe)|0,c=c+Math.imul(V,Ke)|0,c=c+Math.imul(Ve,fe)|0,b=b+Math.imul(Ve,Ke)|0;var er=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(er>>>26)|0,er&=67108863,u=Math.imul(X,oe),c=Math.imul(X,ot),c=c+Math.imul(Xe,oe)|0,b=Math.imul(Xe,ot),u=u+Math.imul(Y,ae)|0,c=c+Math.imul(Y,at)|0,c=c+Math.imul(Ye,ae)|0,b=b+Math.imul(Ye,at)|0,u=u+Math.imul(J,se)|0,c=c+Math.imul(J,st)|0,c=c+Math.imul(Je,se)|0,b=b+Math.imul(Je,st)|0,u=u+Math.imul(Z,fe)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(Ze,fe)|0,b=b+Math.imul(Ze,Ke)|0;var tr=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(tr>>>26)|0,tr&=67108863,u=Math.imul(X,ae),c=Math.imul(X,at),c=c+Math.imul(Xe,ae)|0,b=Math.imul(Xe,at),u=u+Math.imul(Y,se)|0,c=c+Math.imul(Y,st)|0,c=c+Math.imul(Ye,se)|0,b=b+Math.imul(Ye,st)|0,u=u+Math.imul(J,fe)|0,c=c+Math.imul(J,Ke)|0,c=c+Math.imul(Je,fe)|0,b=b+Math.imul(Je,Ke)|0;var rr=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(rr>>>26)|0,rr&=67108863,u=Math.imul(X,se),c=Math.imul(X,st),c=c+Math.imul(Xe,se)|0,b=Math.imul(Xe,st),u=u+Math.imul(Y,fe)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(Ye,fe)|0,b=b+Math.imul(Ye,Ke)|0;var nr=(m+u|0)+((c&8191)<<13)|0;m=(b+(c>>>13)|0)+(nr>>>26)|0,nr&=67108863,u=Math.imul(X,fe),c=Math.imul(X,Ke),c=c+Math.imul(Xe,fe)|0,b=Math.imul(Xe,Ke);var Gr=(m+u|0)+((c&8191)<<13)|0;return m=(b+(c>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w[0]=He,w[1]=Fe,w[2]=Ft,w[3]=zt,w[4]=Kt,w[5]=Wt,w[6]=jt,w[7]=Gt,w[8]=Vt,w[9]=Zt,w[10]=Jt,w[11]=Yt,w[12]=Xt,w[13]=Qt,w[14]=er,w[15]=tr,w[16]=rr,w[17]=nr,w[18]=Gr,m!==0&&(w[19]=m,a.length++),a};Math.imul||(T=M);function A(d,s,f){f.negative=s.negative^d.negative,f.length=d.length+s.length;for(var a=0,h=0,p=0;p<f.length-1;p++){var w=h;h=0;for(var m=a&67108863,u=Math.min(p,s.length-1),c=Math.max(0,p-d.length+1);c<=u;c++){var b=p-c,_=d.words[b]|0,E=s.words[c]|0,N=_*E,q=N&67108863;w=w+(N/67108864|0)|0,q=q+m|0,m=q&67108863,w=w+(q>>>26)|0,h+=w>>>26,w&=67108863}f.words[p]=m,a=w,w=h}return a!==0?f.words[p]=a:f.length--,f.strip()}function C(d,s,f){var a=new k;return a.mulp(d,s,f)}i.prototype.mulTo=function(s,f){var a,h=this.length+s.length;return this.length===10&&s.length===10?a=T(this,s,f):h<63?a=M(this,s,f):h<1024?a=A(this,s,f):a=C(this,s,f),a};function k(d,s){this.x=d,this.y=s}k.prototype.makeRBT=function(s){for(var f=new Array(s),a=i.prototype._countBits(s)-1,h=0;h<s;h++)f[h]=this.revBin(h,a,s);return f},k.prototype.revBin=function(s,f,a){if(s===0||s===a-1)return s;for(var h=0,p=0;p<f;p++)h|=(s&1)<<f-p-1,s>>=1;return h},k.prototype.permute=function(s,f,a,h,p,w){for(var m=0;m<w;m++)h[m]=f[s[m]],p[m]=a[s[m]]},k.prototype.transform=function(s,f,a,h,p,w){this.permute(w,s,f,a,h,p);for(var m=1;m<p;m<<=1)for(var u=m<<1,c=Math.cos(2*Math.PI/u),b=Math.sin(2*Math.PI/u),_=0;_<p;_+=u)for(var E=c,N=b,q=0;q<m;q++){var U=a[_+q],ue=h[_+q],W=a[_+q+m],H=h[_+q+m],$e=E*W-N*H;H=E*H+N*W,W=$e,a[_+q]=U+W,h[_+q]=ue+H,a[_+q+m]=U-W,h[_+q+m]=ue-H,q!==u&&($e=c*E-b*N,N=c*N+b*E,E=$e)}},k.prototype.guessLen13b=function(s,f){var a=Math.max(f,s)|1,h=a&1,p=0;for(a=a/2|0;a;a=a>>>1)p++;return 1<<p+1+h},k.prototype.conjugate=function(s,f,a){if(!(a<=1))for(var h=0;h<a/2;h++){var p=s[h];s[h]=s[a-h-1],s[a-h-1]=p,p=f[h],f[h]=-f[a-h-1],f[a-h-1]=-p}},k.prototype.normalize13b=function(s,f){for(var a=0,h=0;h<f/2;h++){var p=Math.round(s[2*h+1]/f)*8192+Math.round(s[2*h]/f)+a;s[h]=p&67108863,p<67108864?a=0:a=p/67108864|0}return s},k.prototype.convert13b=function(s,f,a,h){for(var p=0,w=0;w<f;w++)p=p+(s[w]|0),a[2*w]=p&8191,p=p>>>13,a[2*w+1]=p&8191,p=p>>>13;for(w=2*f;w<h;++w)a[w]=0;n(p===0),n((p&-8192)===0)},k.prototype.stub=function(s){for(var f=new Array(s),a=0;a<s;a++)f[a]=0;return f},k.prototype.mulp=function(s,f,a){var h=2*this.guessLen13b(s.length,f.length),p=this.makeRBT(h),w=this.stub(h),m=new Array(h),u=new Array(h),c=new Array(h),b=new Array(h),_=new Array(h),E=new Array(h),N=a.words;N.length=h,this.convert13b(s.words,s.length,m,h),this.convert13b(f.words,f.length,b,h),this.transform(m,w,u,c,h,p),this.transform(b,w,_,E,h,p);for(var q=0;q<h;q++){var U=u[q]*_[q]-c[q]*E[q];c[q]=u[q]*E[q]+c[q]*_[q],u[q]=U}return this.conjugate(u,c,h),this.transform(u,c,N,w,h,p),this.conjugate(N,w,h),this.normalize13b(N,h),a.negative=s.negative^f.negative,a.length=s.length+f.length,a.strip()},i.prototype.mul=function(s){var f=new i(null);return f.words=new Array(this.length+s.length),this.mulTo(s,f)},i.prototype.mulf=function(s){var f=new i(null);return f.words=new Array(this.length+s.length),C(this,s,f)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var f=0,a=0;a<this.length;a++){var h=(this.words[a]|0)*s,p=(h&67108863)+(f&67108863);f>>=26,f+=h/67108864|0,f+=p>>>26,this.words[a]=p&67108863}return f!==0&&(this.words[a]=f,this.length++),this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var f=I(s);if(f.length===0)return new i(1);for(var a=this,h=0;h<f.length&&f[h]===0;h++,a=a.sqr());if(++h<f.length)for(var p=a.sqr();h<f.length;h++,p=p.sqr())f[h]!==0&&(a=a.mul(p));return a},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var f=s%26,a=(s-f)/26,h=67108863>>>26-f<<26-f,p;if(f!==0){var w=0;for(p=0;p<this.length;p++){var m=this.words[p]&h,u=(this.words[p]|0)-m<<f;this.words[p]=u|w,w=m>>>26-f}w&&(this.words[p]=w,this.length++)}if(a!==0){for(p=this.length-1;p>=0;p--)this.words[p+a]=this.words[p];for(p=0;p<a;p++)this.words[p]=0;this.length+=a}return this.strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,f,a){n(typeof s=="number"&&s>=0);var h;f?h=(f-f%26)/26:h=0;var p=s%26,w=Math.min((s-p)/26,this.length),m=67108863^67108863>>>p<<p,u=a;if(h-=w,h=Math.max(0,h),u){for(var c=0;c<w;c++)u.words[c]=this.words[c];u.length=w}if(w!==0)if(this.length>w)for(this.length-=w,c=0;c<this.length;c++)this.words[c]=this.words[c+w];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=h);c--){var _=this.words[c]|0;this.words[c]=b<<26-p|_>>>p,b=_&m}return u&&b!==0&&(u.words[u.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(s,f,a){return n(this.negative===0),this.iushrn(s,f,a)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var f=s%26,a=(s-f)/26,h=1<<f;if(this.length<=a)return!1;var p=this.words[a];return!!(p&h)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var f=s%26,a=(s-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=a)return this;if(f!==0&&a++,this.length=Math.min(a,this.length),f!==0){var h=67108863^67108863>>>f<<f;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,f,a){var h=s.length+a,p;this._expand(h);var w,m=0;for(p=0;p<s.length;p++){w=(this.words[p+a]|0)+m;var u=(s.words[p]|0)*f;w-=u&67108863,m=(w>>26)-(u/67108864|0),this.words[p+a]=w&67108863}for(;p<this.length-a;p++)w=(this.words[p+a]|0)+m,m=w>>26,this.words[p+a]=w&67108863;if(m===0)return this.strip();for(n(m===-1),m=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+m,m=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(s,f){var a=this.length-s.length,h=this.clone(),p=s,w=p.words[p.length-1]|0,m=this._countBits(w);a=26-m,a!==0&&(p=p.ushln(a),h.iushln(a),w=p.words[p.length-1]|0);var u=h.length-p.length,c;if(f!=="mod"){c=new i(null),c.length=u+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var _=h.clone()._ishlnsubmul(p,1,u);_.negative===0&&(h=_,c&&(c.words[u]=1));for(var E=u-1;E>=0;E--){var N=(h.words[p.length+E]|0)*67108864+(h.words[p.length+E-1]|0);for(N=Math.min(N/w|0,67108863),h._ishlnsubmul(p,N,E);h.negative!==0;)N--,h.negative=0,h._ishlnsubmul(p,1,E),h.isZero()||(h.negative^=1);c&&(c.words[E]=N)}return c&&c.strip(),h.strip(),f!=="div"&&a!==0&&h.iushrn(a),{div:c||null,mod:h}},i.prototype.divmod=function(s,f,a){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,p,w;return this.negative!==0&&s.negative===0?(w=this.neg().divmod(s,f),f!=="mod"&&(h=w.div.neg()),f!=="div"&&(p=w.mod.neg(),a&&p.negative!==0&&p.iadd(s)),{div:h,mod:p}):this.negative===0&&s.negative!==0?(w=this.divmod(s.neg(),f),f!=="mod"&&(h=w.div.neg()),{div:h,mod:w.mod}):(this.negative&s.negative)!==0?(w=this.neg().divmod(s.neg(),f),f!=="div"&&(p=w.mod.neg(),a&&p.negative!==0&&p.isub(s)),{div:w.div,mod:p}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?f==="div"?{div:this.divn(s.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modn(s.words[0]))}:this._wordDiv(s,f)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var f=this.divmod(s);if(f.mod.isZero())return f.div;var a=f.div.negative!==0?f.mod.isub(s):f.mod,h=s.ushrn(1),p=s.andln(1),w=a.cmp(h);return w<0||p===1&&w===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(s){n(s<=67108863);for(var f=(1<<26)%s,a=0,h=this.length-1;h>=0;h--)a=(f*a+(this.words[h]|0))%s;return a},i.prototype.idivn=function(s){n(s<=67108863);for(var f=0,a=this.length-1;a>=0;a--){var h=(this.words[a]|0)+f*67108864;this.words[a]=h/s|0,f=h%s}return this.strip()},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var f=this,a=s.clone();f.negative!==0?f=f.umod(s):f=f.clone();for(var h=new i(1),p=new i(0),w=new i(0),m=new i(1),u=0;f.isEven()&&a.isEven();)f.iushrn(1),a.iushrn(1),++u;for(var c=a.clone(),b=f.clone();!f.isZero();){for(var _=0,E=1;(f.words[0]&E)===0&&_<26;++_,E<<=1);if(_>0)for(f.iushrn(_);_-- >0;)(h.isOdd()||p.isOdd())&&(h.iadd(c),p.isub(b)),h.iushrn(1),p.iushrn(1);for(var N=0,q=1;(a.words[0]&q)===0&&N<26;++N,q<<=1);if(N>0)for(a.iushrn(N);N-- >0;)(w.isOdd()||m.isOdd())&&(w.iadd(c),m.isub(b)),w.iushrn(1),m.iushrn(1);f.cmp(a)>=0?(f.isub(a),h.isub(w),p.isub(m)):(a.isub(f),w.isub(h),m.isub(p))}return{a:w,b:m,gcd:a.iushln(u)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var f=this,a=s.clone();f.negative!==0?f=f.umod(s):f=f.clone();for(var h=new i(1),p=new i(0),w=a.clone();f.cmpn(1)>0&&a.cmpn(1)>0;){for(var m=0,u=1;(f.words[0]&u)===0&&m<26;++m,u<<=1);if(m>0)for(f.iushrn(m);m-- >0;)h.isOdd()&&h.iadd(w),h.iushrn(1);for(var c=0,b=1;(a.words[0]&b)===0&&c<26;++c,b<<=1);if(c>0)for(a.iushrn(c);c-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);f.cmp(a)>=0?(f.isub(a),h.isub(p)):(a.isub(f),p.isub(h))}var _;return f.cmpn(1)===0?_=h:_=p,_.cmpn(0)<0&&_.iadd(s),_},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var f=this.clone(),a=s.clone();f.negative=0,a.negative=0;for(var h=0;f.isEven()&&a.isEven();h++)f.iushrn(1),a.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;a.isEven();)a.iushrn(1);var p=f.cmp(a);if(p<0){var w=f;f=a,a=w}else if(p===0||a.cmpn(1)===0)break;f.isub(a)}while(!0);return a.iushln(h)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var f=s%26,a=(s-f)/26,h=1<<f;if(this.length<=a)return this._expand(a+1),this.words[a]|=h,this;for(var p=h,w=a;p!==0&&w<this.length;w++){var m=this.words[w]|0;m+=p,p=m>>>26,m&=67108863,this.words[w]=m}return p!==0&&(this.words[w]=p,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var f=s<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var a;if(this.length>1)a=1;else{f&&(s=-s),n(s<=67108863,"Number is too big");var h=this.words[0]|0;a=h===s?0:h<s?-1:1}return this.negative!==0?-a|0:a},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var f=this.ucmp(s);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var f=0,a=this.length-1;a>=0;a--){var h=this.words[a]|0,p=s.words[a]|0;if(h!==p){h<p?f=-1:h>p&&(f=1);break}}return f},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new he(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var B={k256:null,p224:null,p192:null,p25519:null};function O(d,s){this.name=d,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},O.prototype.ireduce=function(s){var f=s,a;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),a=f.bitLength();while(a>this.n);var h=a<this.n?-1:f.ucmp(this.p);return h===0?(f.words[0]=0,f.length=1):h>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},O.prototype.split=function(s,f){s.iushrn(this.n,0,f)},O.prototype.imulK=function(s){return s.imul(this.k)};function $(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o($,O),$.prototype.split=function(s,f){for(var a=4194303,h=Math.min(s.length,9),p=0;p<h;p++)f.words[p]=s.words[p];if(f.length=h,s.length<=9){s.words[0]=0,s.length=1;return}var w=s.words[9];for(f.words[f.length++]=w&a,p=10;p<s.length;p++){var m=s.words[p]|0;s.words[p-10]=(m&a)<<4|w>>>22,w=m}w>>>=22,s.words[p-10]=w,w===0&&s.length>10?s.length-=10:s.length-=9},$.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var f=0,a=0;a<s.length;a++){var h=s.words[a]|0;f+=h*977,s.words[a]=f&67108863,f=h*64+(f/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function D(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(D,O);function K(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(K,O);function F(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(F,O),F.prototype.imulK=function(s){for(var f=0,a=0;a<s.length;a++){var h=(s.words[a]|0)*19+f,p=h&67108863;h>>>=26,s.words[a]=p,f=h}return f!==0&&(s.words[s.length++]=f),s},i._prime=function(s){if(B[s])return B[s];var f;if(s==="k256")f=new $;else if(s==="p224")f=new D;else if(s==="p192")f=new K;else if(s==="p25519")f=new F;else throw new Error("Unknown prime "+s);return B[s]=f,f};function he(d){if(typeof d=="string"){var s=i._prime(d);this.m=s.p,this.prime=s}else n(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}he.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},he.prototype._verify2=function(s,f){n((s.negative|f.negative)===0,"red works only with positives"),n(s.red&&s.red===f.red,"red works only with red numbers")},he.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},he.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},he.prototype.add=function(s,f){this._verify2(s,f);var a=s.add(f);return a.cmp(this.m)>=0&&a.isub(this.m),a._forceRed(this)},he.prototype.iadd=function(s,f){this._verify2(s,f);var a=s.iadd(f);return a.cmp(this.m)>=0&&a.isub(this.m),a},he.prototype.sub=function(s,f){this._verify2(s,f);var a=s.sub(f);return a.cmpn(0)<0&&a.iadd(this.m),a._forceRed(this)},he.prototype.isub=function(s,f){this._verify2(s,f);var a=s.isub(f);return a.cmpn(0)<0&&a.iadd(this.m),a},he.prototype.shl=function(s,f){return this._verify1(s),this.imod(s.ushln(f))},he.prototype.imul=function(s,f){return this._verify2(s,f),this.imod(s.imul(f))},he.prototype.mul=function(s,f){return this._verify2(s,f),this.imod(s.mul(f))},he.prototype.isqr=function(s){return this.imul(s,s.clone())},he.prototype.sqr=function(s){return this.mul(s,s)},he.prototype.sqrt=function(s){if(s.isZero())return s.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var a=this.m.add(new i(1)).iushrn(2);return this.pow(s,a)}for(var h=this.m.subn(1),p=0;!h.isZero()&&h.andln(1)===0;)p++,h.iushrn(1);n(!h.isZero());var w=new i(1).toRed(this),m=w.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,u).cmp(m)!==0;)c.redIAdd(m);for(var b=this.pow(c,h),_=this.pow(s,h.addn(1).iushrn(1)),E=this.pow(s,h),N=p;E.cmp(w)!==0;){for(var q=E,U=0;q.cmp(w)!==0;U++)q=q.redSqr();n(U<N);var ue=this.pow(b,new i(1).iushln(N-U-1));_=_.redMul(ue),b=ue.redSqr(),E=E.redMul(b),N=U}return _},he.prototype.invm=function(s){var f=s._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},he.prototype.pow=function(s,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return s.clone();var a=4,h=new Array(1<<a);h[0]=new i(1).toRed(this),h[1]=s;for(var p=2;p<h.length;p++)h[p]=this.mul(h[p-1],s);var w=h[0],m=0,u=0,c=f.bitLength()%26;for(c===0&&(c=26),p=f.length-1;p>=0;p--){for(var b=f.words[p],_=c-1;_>=0;_--){var E=b>>_&1;if(w!==h[0]&&(w=this.sqr(w)),E===0&&m===0){u=0;continue}m<<=1,m|=E,u++,!(u!==a&&(p!==0||_!==0))&&(w=this.mul(w,h[m]),u=0,m=0)}c=26}return w},he.prototype.convertTo=function(s){var f=s.umod(this.m);return f===s?f.clone():f},he.prototype.convertFrom=function(s){var f=s.clone();return f.red=null,f},i.mont=function(s){return new P(s)};function P(d){he.call(this,d),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(P,he),P.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},P.prototype.convertFrom=function(s){var f=this.imod(s.mul(this.rinv));return f.red=null,f},P.prototype.imul=function(s,f){if(s.isZero()||f.isZero())return s.words[0]=0,s.length=1,s;var a=s.imul(f),h=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=a.isub(h).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},P.prototype.mul=function(s,f){if(s.isZero()||f.isZero())return new i(0)._forceRed(this);var a=s.mul(f),h=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=a.isub(h).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},P.prototype.invm=function(s){var f=this.imod(s._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(e,Ie)})(mr);var Ys={};(function(e){var t=e;function r(i,l){if(Array.isArray(i))return i.slice();if(!i)return[];var v=[];if(typeof i!="string"){for(var g=0;g<i.length;g++)v[g]=i[g]|0;return v}if(l==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var g=0;g<i.length;g+=2)v.push(parseInt(i[g]+i[g+1],16))}else for(var g=0;g<i.length;g++){var x=i.charCodeAt(g),y=x>>8,S=x&255;y?v.push(y,S):v.push(S)}return v}t.toArray=r;function n(i){return i.length===1?"0"+i:i}t.zero2=n;function o(i){for(var l="",v=0;v<i.length;v++)l+=n(i[v].toString(16));return l}t.toHex=o,t.encode=function(l,v){return v==="hex"?o(l):l}})(Ys);(function(e){var t=e,r=mr.exports,n=C0,o=Ys;t.assert=n,t.toArray=o.toArray,t.zero2=o.zero2,t.toHex=o.toHex,t.encode=o.encode;function i(y,S,R){var I=new Array(Math.max(y.bitLength(),R)+1);I.fill(0);for(var M=1<<S+1,T=y.clone(),A=0;A<I.length;A++){var C,k=T.andln(M-1);T.isOdd()?(k>(M>>1)-1?C=(M>>1)-k:C=k,T.isubn(C)):C=0,I[A]=C,T.iushrn(1)}return I}t.getNAF=i;function l(y,S){var R=[[],[]];y=y.clone(),S=S.clone();for(var I=0,M=0,T;y.cmpn(-I)>0||S.cmpn(-M)>0;){var A=y.andln(3)+I&3,C=S.andln(3)+M&3;A===3&&(A=-1),C===3&&(C=-1);var k;(A&1)===0?k=0:(T=y.andln(7)+I&7,(T===3||T===5)&&C===2?k=-A:k=A),R[0].push(k);var B;(C&1)===0?B=0:(T=S.andln(7)+M&7,(T===3||T===5)&&A===2?B=-C:B=C),R[1].push(B),2*I===k+1&&(I=1-I),2*M===B+1&&(M=1-M),y.iushrn(1),S.iushrn(1)}return R}t.getJSF=l;function v(y,S,R){var I="_"+S;y.prototype[S]=function(){return this[I]!==void 0?this[I]:this[I]=R.call(this)}}t.cachedProperty=v;function g(y){return typeof y=="string"?t.toArray(y,"hex"):y}t.parseBytes=g;function x(y){return new r(y,"hex","le")}t.intFromLE=x})(Ot);var Co={exports:{}},Sa;Co.exports=function(t){return Sa||(Sa=new Ir(null)),Sa.generate(t)};function Ir(e){this.rand=e}Co.exports.Rand=Ir;Ir.prototype.generate=function(t){return this._rand(t)};Ir.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Ir.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Ir.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Ir.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ru=require("crypto");if(typeof ru.randomBytes!="function")throw new Error("Not supported");Ir.prototype._rand=function(t){return ru.randomBytes(t)}}catch{}var Xs={},Zr=mr.exports,Si=Ot,oo=Si.getNAF,kd=Si.getJSF,ao=Si.assert;function Fr(e,t){this.type=e,this.p=new Zr(t.p,16),this.red=t.prime?Zr.red(t.prime):Zr.mont(this.p),this.zero=new Zr(0).toRed(this.red),this.one=new Zr(1).toRed(this.red),this.two=new Zr(2).toRed(this.red),this.n=t.n&&new Zr(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Io=Fr;Fr.prototype.point=function(){throw new Error("Not implemented")};Fr.prototype.validate=function(){throw new Error("Not implemented")};Fr.prototype._fixedNafMul=function(t,r){ao(t.precomputed);var n=t._getDoubles(),o=oo(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var l=[],v,g;for(v=0;v<o.length;v+=n.step){g=0;for(var x=v+n.step-1;x>=v;x--)g=(g<<1)+o[x];l.push(g)}for(var y=this.jpoint(null,null,null),S=this.jpoint(null,null,null),R=i;R>0;R--){for(v=0;v<l.length;v++)g=l[v],g===R?S=S.mixedAdd(n.points[v]):g===-R&&(S=S.mixedAdd(n.points[v].neg()));y=y.add(S)}return y.toP()};Fr.prototype._wnafMul=function(t,r){var n=4,o=t._getNAFPoints(n);n=o.wnd;for(var i=o.points,l=oo(r,n,this._bitLength),v=this.jpoint(null,null,null),g=l.length-1;g>=0;g--){for(var x=0;g>=0&&l[g]===0;g--)x++;if(g>=0&&x++,v=v.dblp(x),g<0)break;var y=l[g];ao(y!==0),t.type==="affine"?y>0?v=v.mixedAdd(i[y-1>>1]):v=v.mixedAdd(i[-y-1>>1].neg()):y>0?v=v.add(i[y-1>>1]):v=v.add(i[-y-1>>1].neg())}return t.type==="affine"?v.toP():v};Fr.prototype._wnafMulAdd=function(t,r,n,o,i){var l=this._wnafT1,v=this._wnafT2,g=this._wnafT3,x=0,y,S,R;for(y=0;y<o;y++){R=r[y];var I=R._getNAFPoints(t);l[y]=I.wnd,v[y]=I.points}for(y=o-1;y>=1;y-=2){var M=y-1,T=y;if(l[M]!==1||l[T]!==1){g[M]=oo(n[M],l[M],this._bitLength),g[T]=oo(n[T],l[T],this._bitLength),x=Math.max(g[M].length,x),x=Math.max(g[T].length,x);continue}var A=[r[M],null,null,r[T]];r[M].y.cmp(r[T].y)===0?(A[1]=r[M].add(r[T]),A[2]=r[M].toJ().mixedAdd(r[T].neg())):r[M].y.cmp(r[T].y.redNeg())===0?(A[1]=r[M].toJ().mixedAdd(r[T]),A[2]=r[M].add(r[T].neg())):(A[1]=r[M].toJ().mixedAdd(r[T]),A[2]=r[M].toJ().mixedAdd(r[T].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],k=kd(n[M],n[T]);for(x=Math.max(k[0].length,x),g[M]=new Array(x),g[T]=new Array(x),S=0;S<x;S++){var B=k[0][S]|0,O=k[1][S]|0;g[M][S]=C[(B+1)*3+(O+1)],g[T][S]=0,v[M]=A}}var $=this.jpoint(null,null,null),D=this._wnafT4;for(y=x;y>=0;y--){for(var K=0;y>=0;){var F=!0;for(S=0;S<o;S++)D[S]=g[S][y]|0,D[S]!==0&&(F=!1);if(!F)break;K++,y--}if(y>=0&&K++,$=$.dblp(K),y<0)break;for(S=0;S<o;S++){var he=D[S];he!==0&&(he>0?R=v[S][he-1>>1]:he<0&&(R=v[S][-he-1>>1].neg()),R.type==="affine"?$=$.mixedAdd(R):$=$.add(R))}}for(y=0;y<o;y++)v[y]=null;return i?$:$.toP()};function $t(e,t){this.curve=e,this.type=t,this.precomputed=null}Fr.BasePoint=$t;$t.prototype.eq=function(){throw new Error("Not implemented")};$t.prototype.validate=function(){return this.curve.validate(this)};Fr.prototype.decodePoint=function(t,r){t=Si.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?ao(t[t.length-1]%2===0):t[0]===7&&ao(t[t.length-1]%2===1);var o=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return o}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};$t.prototype.encodeCompressed=function(t){return this.encode(t,!0)};$t.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};$t.prototype.encode=function(t,r){return Si.encode(this._encode(r),t)};$t.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};$t.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};$t.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<r;i+=t){for(var l=0;l<t;l++)o=o.dbl();n.push(o)}return{step:t,points:n}};$t.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(o);return{wnd:t,points:r}};$t.prototype._getBeta=function(){return null};$t.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var Td=Ot,ct=mr.exports,Qs=vt.exports,Fn=Io,Cd=Td.assert;function Dt(e){Fn.call(this,"short",e),this.a=new ct(e.a,16).toRed(this.red),this.b=new ct(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Qs(Dt,Fn);var Id=Dt;Dt.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new ct(t.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);r=o[0].cmp(o[1])<0?o[0]:o[1],r=r.toRed(this.red)}if(t.lambda)n=new ct(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],Cd(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var l;return t.basis?l=t.basis.map(function(v){return{a:new ct(v.a,16),b:new ct(v.b,16)}}):l=this._getEndoBasis(n),{beta:r,lambda:n,basis:l}}};Dt.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:ct.mont(t),n=new ct(2).toRed(r).redInvm(),o=n.redNeg(),i=new ct(3).toRed(r).redNeg().redSqrt().redMul(n),l=o.redAdd(i).fromRed(),v=o.redSub(i).fromRed();return[l,v]};Dt.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,o=this.n.clone(),i=new ct(1),l=new ct(0),v=new ct(0),g=new ct(1),x,y,S,R,I,M,T,A=0,C,k;n.cmpn(0)!==0;){var B=o.div(n);C=o.sub(B.mul(n)),k=v.sub(B.mul(i));var O=g.sub(B.mul(l));if(!S&&C.cmp(r)<0)x=T.neg(),y=i,S=C.neg(),R=k;else if(S&&++A===2)break;T=C,o=n,n=C,v=i,i=k,g=l,l=O}I=C.neg(),M=k;var $=S.sqr().add(R.sqr()),D=I.sqr().add(M.sqr());return D.cmp($)>=0&&(I=x,M=y),S.negative&&(S=S.neg(),R=R.neg()),I.negative&&(I=I.neg(),M=M.neg()),[{a:S,b:R},{a:I,b:M}]};Dt.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],o=r[1],i=o.b.mul(t).divRound(this.n),l=n.b.neg().mul(t).divRound(this.n),v=i.mul(n.a),g=l.mul(o.a),x=i.mul(n.b),y=l.mul(o.b),S=t.sub(v).sub(g),R=x.add(y).neg();return{k1:S,k2:R}};Dt.prototype.pointFromX=function(t,r){t=new ct(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(r&&!i||!r&&i)&&(o=o.redNeg()),this.point(t,o)};Dt.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,o=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};Dt.prototype._endoWnafMulAdd=function(t,r,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,l=0;l<t.length;l++){var v=this._endoSplit(r[l]),g=t[l],x=g._getBeta();v.k1.negative&&(v.k1.ineg(),g=g.neg(!0)),v.k2.negative&&(v.k2.ineg(),x=x.neg(!0)),o[l*2]=g,o[l*2+1]=x,i[l*2]=v.k1,i[l*2+1]=v.k2}for(var y=this._wnafMulAdd(1,o,i,l*2,n),S=0;S<l*2;S++)o[S]=null,i[S]=null;return y};function yt(e,t,r,n){Fn.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ct(t,16),this.y=new ct(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Qs(yt,Fn.BasePoint);Dt.prototype.point=function(t,r,n){return new yt(this,t,r,n)};Dt.prototype.pointFromJSON=function(t,r){return yt.fromJSON(this,t,r)};yt.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(o)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(o)}}}return r}};yt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};yt.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var o=t.point(r[0],r[1],n);if(!r[2])return o;function i(v){return t.point(v[0],v[1],n)}var l=r[2];return o.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[o].concat(l.doubles.points.map(i))},naf:l.naf&&{wnd:l.naf.wnd,points:[o].concat(l.naf.points.map(i))}},o};yt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};yt.prototype.isInfinity=function(){return this.inf};yt.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),o=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};yt.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),o=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(o),l=i.redSqr().redISub(this.x.redAdd(this.x)),v=i.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,v)};yt.prototype.getX=function(){return this.x.fromRed()};yt.prototype.getY=function(){return this.y.fromRed()};yt.prototype.mul=function(t){return t=new ct(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};yt.prototype.mulAdd=function(t,r,n){var o=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};yt.prototype.jmulAdd=function(t,r,n){var o=[this,r],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};yt.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};yt.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return r};yt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function wt(e,t,r,n){Fn.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ct(0)):(this.x=new ct(t,16),this.y=new ct(r,16),this.z=new ct(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Qs(wt,Fn.BasePoint);Dt.prototype.jpoint=function(t,r,n){return new wt(this,t,r,n)};wt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),o=this.y.redMul(r).redMul(t);return this.curve.point(n,o)};wt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};wt.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(r),i=t.x.redMul(n),l=this.y.redMul(r.redMul(t.z)),v=t.y.redMul(n.redMul(this.z)),g=o.redSub(i),x=l.redSub(v);if(g.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=g.redSqr(),S=y.redMul(g),R=o.redMul(y),I=x.redSqr().redIAdd(S).redISub(R).redISub(R),M=x.redMul(R.redISub(I)).redISub(l.redMul(S)),T=this.z.redMul(t.z).redMul(g);return this.curve.jpoint(I,M,T)};wt.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,o=t.x.redMul(r),i=this.y,l=t.y.redMul(r).redMul(this.z),v=n.redSub(o),g=i.redSub(l);if(v.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=v.redSqr(),y=x.redMul(v),S=n.redMul(x),R=g.redSqr().redIAdd(y).redISub(S).redISub(S),I=g.redMul(S.redISub(R)).redISub(i.redMul(y)),M=this.z.redMul(v);return this.curve.jpoint(R,I,M)};wt.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,l=this.x,v=this.y,g=this.z,x=g.redSqr().redSqr(),y=v.redAdd(v);for(r=0;r<t;r++){var S=l.redSqr(),R=y.redSqr(),I=R.redSqr(),M=S.redAdd(S).redIAdd(S).redIAdd(o.redMul(x)),T=l.redMul(R),A=M.redSqr().redISub(T.redAdd(T)),C=T.redISub(A),k=M.redMul(C);k=k.redIAdd(k).redISub(I);var B=y.redMul(g);r+1<t&&(x=x.redMul(I)),l=A,g=B,y=k}return this.curve.jpoint(l,y.redMul(i),g)};wt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};wt.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),l=i.redSqr(),v=this.x.redAdd(i).redSqr().redISub(o).redISub(l);v=v.redIAdd(v);var g=o.redAdd(o).redIAdd(o),x=g.redSqr().redISub(v).redISub(v),y=l.redIAdd(l);y=y.redIAdd(y),y=y.redIAdd(y),t=x,r=g.redMul(v.redISub(x)).redISub(y),n=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),R=this.y.redSqr(),I=R.redSqr(),M=this.x.redAdd(R).redSqr().redISub(S).redISub(I);M=M.redIAdd(M);var T=S.redAdd(S).redIAdd(S),A=T.redSqr(),C=I.redIAdd(I);C=C.redIAdd(C),C=C.redIAdd(C),t=A.redISub(M).redISub(M),r=T.redMul(M.redISub(t)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};wt.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),l=i.redSqr(),v=this.x.redAdd(i).redSqr().redISub(o).redISub(l);v=v.redIAdd(v);var g=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),x=g.redSqr().redISub(v).redISub(v);t=x;var y=l.redIAdd(l);y=y.redIAdd(y),y=y.redIAdd(y),r=g.redMul(v.redISub(x)).redISub(y),n=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),R=this.y.redSqr(),I=this.x.redMul(R),M=this.x.redSub(S).redMul(this.x.redAdd(S));M=M.redAdd(M).redIAdd(M);var T=I.redIAdd(I);T=T.redIAdd(T);var A=T.redAdd(T);t=M.redSqr().redISub(A),n=this.y.redAdd(this.z).redSqr().redISub(R).redISub(S);var C=R.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=M.redMul(T.redISub(t)).redISub(C)}return this.curve.jpoint(t,r,n)};wt.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),l=r.redSqr(),v=n.redSqr(),g=l.redAdd(l).redIAdd(l).redIAdd(t.redMul(i)),x=r.redAdd(r);x=x.redIAdd(x);var y=x.redMul(v),S=g.redSqr().redISub(y.redAdd(y)),R=y.redISub(S),I=v.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=g.redMul(R).redISub(I),T=n.redAdd(n).redMul(o);return this.curve.jpoint(S,M,T)};wt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),o=r.redSqr(),i=t.redAdd(t).redIAdd(t),l=i.redSqr(),v=this.x.redAdd(r).redSqr().redISub(t).redISub(o);v=v.redIAdd(v),v=v.redAdd(v).redIAdd(v),v=v.redISub(l);var g=v.redSqr(),x=o.redIAdd(o);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var y=i.redIAdd(v).redSqr().redISub(l).redISub(g).redISub(x),S=r.redMul(y);S=S.redIAdd(S),S=S.redIAdd(S);var R=this.x.redMul(g).redISub(S);R=R.redIAdd(R),R=R.redIAdd(R);var I=this.y.redMul(y.redMul(x.redISub(y)).redISub(v.redMul(g)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var M=this.z.redAdd(v).redSqr().redISub(n).redISub(g);return this.curve.jpoint(R,I,M)};wt.prototype.mul=function(t,r){return t=new ct(t,r),this.curve._wnafMul(this,t)};wt.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var o=r.redMul(this.z),i=n.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(o)).cmpn(0)===0};wt.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var o=t.clone(),i=this.curve.redN.redMul(r);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};wt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};wt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var wn=mr.exports,I0=vt.exports,Po=Io,Pd=Ot;function zn(e){Po.call(this,"mont",e),this.a=new wn(e.a,16).toRed(this.red),this.b=new wn(e.b,16).toRed(this.red),this.i4=new wn(4).toRed(this.red).redInvm(),this.two=new wn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}I0(zn,Po);var Bd=zn;zn.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),o=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=o.redSqrt();return i.redSqr().cmp(o)===0};function _t(e,t,r){Po.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new wn(t,16),this.z=new wn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}I0(_t,Po.BasePoint);zn.prototype.decodePoint=function(t,r){return this.point(Pd.toArray(t,r),1)};zn.prototype.point=function(t,r){return new _t(this,t,r)};zn.prototype.pointFromJSON=function(t){return _t.fromJSON(this,t)};_t.prototype.precompute=function(){};_t.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};_t.fromJSON=function(t,r){return new _t(t,r[0],r[1]||t.one)};_t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};_t.prototype.isInfinity=function(){return this.z.cmpn(0)===0};_t.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),i=r.redSub(o),l=r.redMul(o),v=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(l,v)};_t.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};_t.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=t.x.redAdd(t.z),l=t.x.redSub(t.z),v=l.redMul(n),g=i.redMul(o),x=r.z.redMul(v.redAdd(g).redSqr()),y=r.x.redMul(v.redISub(g).redSqr());return this.curve.point(x,y)};_t.prototype.mul=function(t){for(var r=t.clone(),n=this,o=this.curve.point(null,null),i=this,l=[];r.cmpn(0)!==0;r.iushrn(1))l.push(r.andln(1));for(var v=l.length-1;v>=0;v--)l[v]===0?(n=n.diffAdd(o,i),o=o.dbl()):(o=n.diffAdd(o,i),n=n.dbl());return o};_t.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};_t.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};_t.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};_t.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};_t.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Od=Ot,wr=mr.exports,P0=vt.exports,Bo=Io,Ld=Od.assert;function _r(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Bo.call(this,"edwards",e),this.a=new wr(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new wr(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new wr(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Ld(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}P0(_r,Bo);var Nd=_r;_r.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};_r.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};_r.prototype.jpoint=function(t,r,n,o){return this.point(t,r,n,o)};_r.prototype.pointFromX=function(t,r){t=new wr(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),o=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),l=o.redMul(i.redInvm()),v=l.redSqrt();if(v.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");var g=v.fromRed().isOdd();return(r&&!g||!r&&g)&&(v=v.redNeg()),this.point(t,v)};_r.prototype.pointFromY=function(t,r){t=new wr(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),o=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),l=o.redMul(i.redInvm());if(l.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var v=l.redSqrt();if(v.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==r&&(v=v.redNeg()),this.point(v,t)};_r.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),o=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return o.cmp(i)===0};function ut(e,t,r,n,o){Bo.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new wr(t,16),this.y=new wr(r,16),this.z=n?new wr(n,16):this.curve.one,this.t=o&&new wr(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}P0(ut,Bo.BasePoint);_r.prototype.pointFromJSON=function(t){return ut.fromJSON(this,t)};_r.prototype.point=function(t,r,n,o){return new ut(this,t,r,n,o)};ut.fromJSON=function(t,r){return new ut(t,r[0],r[1],r[2])};ut.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ut.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ut.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),l=o.redAdd(r),v=l.redSub(n),g=o.redSub(r),x=i.redMul(v),y=l.redMul(g),S=i.redMul(g),R=v.redMul(l);return this.curve.point(x,y,R,S)};ut.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),o,i,l,v,g,x;if(this.curve.twisted){v=this.curve._mulA(r);var y=v.redAdd(n);this.zOne?(o=t.redSub(r).redSub(n).redMul(y.redSub(this.curve.two)),i=y.redMul(v.redSub(n)),l=y.redSqr().redSub(y).redSub(y)):(g=this.z.redSqr(),x=y.redSub(g).redISub(g),o=t.redSub(r).redISub(n).redMul(x),i=y.redMul(v.redSub(n)),l=y.redMul(x))}else v=r.redAdd(n),g=this.curve._mulC(this.z).redSqr(),x=v.redSub(g).redSub(g),o=this.curve._mulC(t.redISub(v)).redMul(x),i=this.curve._mulC(v).redMul(r.redISub(n)),l=v.redMul(x);return this.curve.point(o,i,l)};ut.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ut.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),o=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),l=n.redSub(r),v=i.redSub(o),g=i.redAdd(o),x=n.redAdd(r),y=l.redMul(v),S=g.redMul(x),R=l.redMul(x),I=v.redMul(g);return this.curve.point(y,S,I,R)};ut.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),o=this.x.redMul(t.x),i=this.y.redMul(t.y),l=this.curve.d.redMul(o).redMul(i),v=n.redSub(l),g=n.redAdd(l),x=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(i),y=r.redMul(v).redMul(x),S,R;return this.curve.twisted?(S=r.redMul(g).redMul(i.redSub(this.curve._mulA(o))),R=v.redMul(g)):(S=r.redMul(g).redMul(i.redSub(o)),R=this.curve._mulC(v).redMul(g)),this.curve.point(y,S,R)};ut.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};ut.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};ut.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};ut.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};ut.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};ut.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ut.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ut.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ut.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};ut.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),this.x.cmp(r)===0)return!0}};ut.prototype.toP=ut.prototype.normalize;ut.prototype.mixedAdd=ut.prototype.add;(function(e){var t=e;t.base=Io,t.short=Id,t.mont=Bd,t.edwards=Nd})(Xs);var Oo={};(function(e){var t=e,r=Vs,n=Xs,o=Ot,i=o.assert;function l(x){x.type==="short"?this.curve=new n.short(x):x.type==="edwards"?this.curve=new n.edwards(x):this.curve=new n.mont(x),this.g=this.curve.g,this.n=this.curve.n,this.hash=x.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=l;function v(x,y){Object.defineProperty(t,x,{configurable:!0,enumerable:!0,get:function(){var S=new l(y);return Object.defineProperty(t,x,{configurable:!0,enumerable:!0,value:S}),S}})}v("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),v("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),v("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),v("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),v("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),v("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),v("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var g;try{g=require("./precomputed/secp256k1")}catch{g=void 0}v("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",g]})})(Oo);var qd=Vs,fn=Ys,B0=C0;function Ur(e){if(!(this instanceof Ur))return new Ur(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=fn.toArray(e.entropy,e.entropyEnc||"hex"),r=fn.toArray(e.nonce,e.nonceEnc||"hex"),n=fn.toArray(e.pers,e.persEnc||"hex");B0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Ud=Ur;Ur.prototype._init=function(t,r,n){var o=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};Ur.prototype._hmac=function(){return new qd.hmac(this.hash,this.K)};Ur.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Ur.prototype.reseed=function(t,r,n,o){typeof r!="string"&&(o=n,n=r,r=null),t=fn.toArray(t,r),n=fn.toArray(n,o),B0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};Ur.prototype.generate=function(t,r,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(o=n,n=r,r=null),n&&(n=fn.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var l=i.slice(0,t);return this._update(n),this._reseed++,fn.encode(l,r)};var $d=mr.exports,Dd=Ot,ts=Dd.assert;function Rt(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Hd=Rt;Rt.fromPublic=function(t,r,n){return r instanceof Rt?r:new Rt(t,{pub:r,pubEnc:n})};Rt.fromPrivate=function(t,r,n){return r instanceof Rt?r:new Rt(t,{priv:r,privEnc:n})};Rt.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Rt.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};Rt.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};Rt.prototype._importPrivate=function(t,r){this.priv=new $d(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Rt.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?ts(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ts(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};Rt.prototype.derive=function(t){return t.validate()||ts(t.validate(),"public point not validated"),t.mul(this.priv).getX()};Rt.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};Rt.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};Rt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var so=mr.exports,ef=Ot,Fd=ef.assert;function Lo(e,t){if(e instanceof Lo)return e;this._importDER(e,t)||(Fd(e.r&&e.s,"Signature without r or s"),this.r=new so(e.r,16),this.s=new so(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var zd=Lo;function Kd(){this.place=0}function Ea(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var o=0,i=0,l=t.place;i<n;i++,l++)o<<=8,o|=e[l],o>>>=0;return o<=127?!1:(t.place=l,o)}function nu(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Lo.prototype._importDER=function(t,r){t=ef.toArray(t,r);var n=new Kd;if(t[n.place++]!==48)return!1;var o=Ea(t,n);if(o===!1||o+n.place!==t.length||t[n.place++]!==2)return!1;var i=Ea(t,n);if(i===!1)return!1;var l=t.slice(n.place,i+n.place);if(n.place+=i,t[n.place++]!==2)return!1;var v=Ea(t,n);if(v===!1||t.length!==v+n.place)return!1;var g=t.slice(n.place,v+n.place);if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;return this.r=new so(l),this.s=new so(g),this.recoveryParam=null,!0};function Aa(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Lo.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=nu(r),n=nu(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];Aa(o,r.length),o=o.concat(r),o.push(2),Aa(o,n.length);var i=o.concat(n),l=[48];return Aa(l,i.length),l=l.concat(i),ef.encode(l,t)};var un=mr.exports,O0=Ud,Wd=Ot,Ra=Oo,jd=Co.exports,L0=Wd.assert,tf=Hd,No=zd;function Ut(e){if(!(this instanceof Ut))return new Ut(e);typeof e=="string"&&(L0(Object.prototype.hasOwnProperty.call(Ra,e),"Unknown curve "+e),e=Ra[e]),e instanceof Ra.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Gd=Ut;Ut.prototype.keyPair=function(t){return new tf(this,t)};Ut.prototype.keyFromPrivate=function(t,r){return tf.fromPrivate(this,t,r)};Ut.prototype.keyFromPublic=function(t,r){return tf.fromPublic(this,t,r)};Ut.prototype.genKeyPair=function(t){t||(t={});for(var r=new O0({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||jd(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new un(2));;){var i=new un(r.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};Ut.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Ut.prototype.sign=function(t,r,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new un(t,16));for(var i=this.n.byteLength(),l=r.getPrivate().toArray("be",i),v=t.toArray("be",i),g=new O0({hash:this.hash,entropy:l,nonce:v,pers:o.pers,persEnc:o.persEnc||"utf8"}),x=this.n.sub(new un(1)),y=0;;y++){var S=o.k?o.k(y):new un(g.generate(this.n.byteLength()));if(S=this._truncateToN(S,!0),!(S.cmpn(1)<=0||S.cmp(x)>=0)){var R=this.g.mul(S);if(!R.isInfinity()){var I=R.getX(),M=I.umod(this.n);if(M.cmpn(0)!==0){var T=S.invm(this.n).mul(M.mul(r.getPrivate()).iadd(t));if(T=T.umod(this.n),T.cmpn(0)!==0){var A=(R.getY().isOdd()?1:0)|(I.cmp(M)!==0?2:0);return o.canonical&&T.cmp(this.nh)>0&&(T=this.n.sub(T),A^=1),new No({r:M,s:T,recoveryParam:A})}}}}}};Ut.prototype.verify=function(t,r,n,o){t=this._truncateToN(new un(t,16)),n=this.keyFromPublic(n,o),r=new No(r,"hex");var i=r.r,l=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||l.cmpn(1)<0||l.cmp(this.n)>=0)return!1;var v=l.invm(this.n),g=v.mul(t).umod(this.n),x=v.mul(i).umod(this.n),y;return this.curve._maxwellTrick?(y=this.g.jmulAdd(g,n.getPublic(),x),y.isInfinity()?!1:y.eqXToP(i)):(y=this.g.mulAdd(g,n.getPublic(),x),y.isInfinity()?!1:y.getX().umod(this.n).cmp(i)===0)};Ut.prototype.recoverPubKey=function(e,t,r,n){L0((3&r)===r,"The recovery param is more than two bits"),t=new No(t,n);var o=this.n,i=new un(e),l=t.r,v=t.s,g=r&1,x=r>>1;if(l.cmp(this.curve.p.umod(this.curve.n))>=0&&x)throw new Error("Unable to find sencond key candinate");x?l=this.curve.pointFromX(l.add(this.curve.n),g):l=this.curve.pointFromX(l,g);var y=t.r.invm(o),S=o.sub(i).mul(y).umod(o),R=v.mul(y).umod(o);return this.g.mulAdd(S,l,R)};Ut.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new No(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(e,t,o)}catch{continue}if(i.eq(r))return o}throw new Error("Unable to find valid recovery factor")};var Ei=Ot,N0=Ei.assert,iu=Ei.parseBytes,Kn=Ei.cachedProperty;function mt(e,t){this.eddsa=e,this._secret=iu(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=iu(t.pub)}mt.fromPublic=function(t,r){return r instanceof mt?r:new mt(t,{pub:r})};mt.fromSecret=function(t,r){return r instanceof mt?r:new mt(t,{secret:r})};mt.prototype.secret=function(){return this._secret};Kn(mt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Kn(mt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Kn(mt,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,o=r.slice(0,t.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o});Kn(mt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Kn(mt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Kn(mt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});mt.prototype.sign=function(t){return N0(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};mt.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};mt.prototype.getSecret=function(t){return N0(this._secret,"KeyPair is public only"),Ei.encode(this.secret(),t)};mt.prototype.getPublic=function(t){return Ei.encode(this.pubBytes(),t)};var Vd=mt,Zd=mr.exports,qo=Ot,Jd=qo.assert,Uo=qo.cachedProperty,Yd=qo.parseBytes;function cn(e,t){this.eddsa=e,typeof t!="object"&&(t=Yd(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Jd(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Zd&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Uo(cn,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Uo(cn,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Uo(cn,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Uo(cn,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});cn.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};cn.prototype.toHex=function(){return qo.encode(this.toBytes(),"hex").toUpperCase()};var Xd=cn,Qd=Vs,ev=Oo,kn=Ot,tv=kn.assert,q0=kn.parseBytes,U0=Vd,ou=Xd;function Pt(e){if(tv(e==="ed25519","only tested with ed25519 so far"),!(this instanceof Pt))return new Pt(e);e=ev[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Qd.sha512}var rv=Pt;Pt.prototype.sign=function(t,r){t=q0(t);var n=this.keyFromSecret(r),o=this.hashInt(n.messagePrefix(),t),i=this.g.mul(o),l=this.encodePoint(i),v=this.hashInt(l,n.pubBytes(),t).mul(n.priv()),g=o.add(v).umod(this.curve.n);return this.makeSignature({R:i,S:g,Rencoded:l})};Pt.prototype.verify=function(t,r,n){t=q0(t),r=this.makeSignature(r);var o=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),o.pubBytes(),t),l=this.g.mul(r.S()),v=r.R().add(o.pub().mul(i));return v.eq(l)};Pt.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return kn.intFromLE(t.digest()).umod(this.curve.n)};Pt.prototype.keyFromPublic=function(t){return U0.fromPublic(this,t)};Pt.prototype.keyFromSecret=function(t){return U0.fromSecret(this,t)};Pt.prototype.makeSignature=function(t){return t instanceof ou?t:new ou(this,t)};Pt.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};Pt.prototype.decodePoint=function(t){t=kn.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),o=(t[r]&128)!==0,i=kn.intFromLE(n);return this.curve.pointFromY(i,o)};Pt.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};Pt.prototype.decodeInt=function(t){return kn.intFromLE(t)};Pt.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=Rd.version,t.utils=Ot,t.rand=Co.exports,t.curve=Xs,t.curves=Oo,t.ec=Gd,t.eddsa=rv})(To);const nv=To.ec,dr=new nv("secp256k1"),Oe=dr.curve,We=Oe.n.constructor;function iv(e,t){let r=new We(t);if(r.cmp(Oe.p)>=0)return null;r=r.toRed(Oe.red);let n=r.redSqr().redIMul(r).redIAdd(Oe.b).redSqrt();return e===3!==n.isOdd()&&(n=n.redNeg()),dr.keyPair({pub:{x:r,y:n}})}function ov(e,t,r){let n=new We(t),o=new We(r);if(n.cmp(Oe.p)>=0||o.cmp(Oe.p)>=0||(n=n.toRed(Oe.red),o=o.toRed(Oe.red),(e===6||e===7)&&o.isOdd()!==(e===7)))return null;const i=n.redSqr().redIMul(n);return o.redSqr().redISub(i.redIAdd(Oe.b)).isZero()?dr.keyPair({pub:{x:n,y:o}}):null}function Rr(e){const t=e[0];switch(t){case 2:case 3:return e.length!==33?null:iv(t,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:ov(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function Jr(e,t){const r=t.encode(null,e.length===33);for(let n=0;n<e.length;++n)e[n]=r[n]}var av={contextRandomize(){return 0},privateKeyVerify(e){const t=new We(e);return t.cmp(Oe.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new We(e),r=Oe.n.sub(t).umod(Oe.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new We(t);if(r.cmp(Oe.n)>=0||(r.iadd(new We(e)),r.cmp(Oe.n)>=0&&r.isub(Oe.n),r.isZero()))return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new We(t);if(r.cmp(Oe.n)>=0||r.isZero())return 1;r.imul(new We(e)),r.cmp(Oe.n)>=0&&(r=r.umod(Oe.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify(e){return Rr(e)===null?1:0},publicKeyCreate(e,t){const r=new We(t);if(r.cmp(Oe.n)>=0||r.isZero())return 1;const n=dr.keyFromPrivate(t).getPublic();return Jr(e,n),0},publicKeyConvert(e,t){const r=Rr(t);if(r===null)return 1;const n=r.getPublic();return Jr(e,n),0},publicKeyNegate(e,t){const r=Rr(t);if(r===null)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),Jr(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let o=0;o<t.length;++o)if(r[o]=Rr(t[o]),r[o]===null)return 1;let n=r[0].getPublic();for(let o=1;o<r.length;++o)n=n.add(r[o].pub);return n.isInfinity()?2:(Jr(e,n),0)},publicKeyTweakAdd(e,t,r){const n=Rr(t);if(n===null)return 1;if(r=new We(r),r.cmp(Oe.n)>=0)return 2;const o=n.getPublic().add(Oe.g.mul(r));return o.isInfinity()?2:(Jr(e,o),0)},publicKeyTweakMul(e,t,r){const n=Rr(t);if(n===null)return 1;if(r=new We(r),r.cmp(Oe.n)>=0||r.isZero())return 2;const o=n.getPublic().mul(r);return Jr(e,o),0},signatureNormalize(e){const t=new We(e.subarray(0,32)),r=new We(e.subarray(32,64));return t.cmp(Oe.n)>=0||r.cmp(Oe.n)>=0?1:(r.cmp(dr.nh)===1&&e.set(Oe.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new We(r).cmp(Oe.n)>=0||new We(n).cmp(Oe.n)>=0)return 1;const{output:o}=e;let i=o.subarray(4,4+33);i[0]=0,i.set(r,1);let l=33,v=0;for(;l>1&&i[v]===0&&!(i[v+1]&128);--l,++v);if(i=i.subarray(v),i[0]&128||l>1&&i[0]===0&&!(i[1]&128))return 1;let g=o.subarray(6+33,6+33+33);g[0]=0,g.set(n,1);let x=33,y=0;for(;x>1&&g[y]===0&&!(g[y+1]&128);--x,++y);return g=g.subarray(y),g[0]&128||x>1&&g[0]===0&&!(g[1]&128)?1:(e.outputlen=6+l+x,o[0]=48,o[1]=e.outputlen-2,o[2]=2,o[3]=i.length,o.set(i,4),o[4+l]=2,o[5+l]=g.length,o.set(g,6+l),0)},signatureImport(e,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;const r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return 1;const n=t[5+r];if(n===0||6+r+n!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||n>1&&t[r+6]===0&&!(t[r+7]&128))return 1;let o=t.subarray(4,4+r);if(o.length===33&&o[0]===0&&(o=o.subarray(1)),o.length>32)return 1;let i=t.subarray(6+r);if(i.length===33&&i[0]===0&&(i=i.slice(1)),i.length>32)throw new Error("S length is too long");let l=new We(o);l.cmp(Oe.n)>=0&&(l=new We(0));let v=new We(t.subarray(6+r));return v.cmp(Oe.n)>=0&&(v=new We(0)),e.set(l.toArrayLike(Uint8Array,"be",32),0),e.set(v.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,o){if(o){const v=o;o=g=>{const x=v(t,r,null,n,g);if(!(x instanceof Uint8Array&&x.length===32))throw new Error("This is the way");return new We(x)}}const i=new We(r);if(i.cmp(Oe.n)>=0||i.isZero())return 1;let l;try{l=dr.sign(t,r,{canonical:!0,k:o,pers:n})}catch{return 1}return e.signature.set(l.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(l.s.toArrayLike(Uint8Array,"be",32),32),e.recid=l.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},o=new We(n.r),i=new We(n.s);if(o.cmp(Oe.n)>=0||i.cmp(Oe.n)>=0)return 1;if(i.cmp(dr.nh)===1||o.isZero()||i.isZero())return 3;const l=Rr(r);if(l===null)return 2;const v=l.getPublic();return dr.verify(t,n,v)?0:3},ecdsaRecover(e,t,r,n){const o={r:t.slice(0,32),s:t.slice(32,64)},i=new We(o.r),l=new We(o.s);if(i.cmp(Oe.n)>=0||l.cmp(Oe.n)>=0)return 1;if(i.isZero()||l.isZero())return 2;let v;try{v=dr.recoverPubKey(n,o,r)}catch{return 2}return Jr(e,v),0},ecdh(e,t,r,n,o,i,l){const v=Rr(t);if(v===null)return 1;const g=new We(r);if(g.cmp(Oe.n)>=0||g.isZero())return 2;const x=v.getPublic().mul(g);if(o===void 0){const y=x.encode(null,!0),S=dr.hash().update(y).digest();for(let R=0;R<32;++R)e[R]=S[R]}else{i||(i=new Uint8Array(32));const y=x.getX().toArray("be",32);for(let M=0;M<32;++M)i[M]=y[M];l||(l=new Uint8Array(32));const S=x.getY().toArray("be",32);for(let M=0;M<32;++M)l[M]=S[M];const R=o(i,l,n);if(!(R instanceof Uint8Array&&R.length===e.length))return 2;e.set(R)}return 0}},au=cd(av),$o={},rs={exports:{}},ka=65536,sv=4294967295;function fv(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var uv=fr.exports.Buffer,fo=Ie.crypto||Ie.msCrypto;fo&&fo.getRandomValues?rs.exports=hv:rs.exports=fv;function hv(e,t){if(e>sv)throw new RangeError("requested too many random bytes");var r=uv.allocUnsafe(e);if(e>0)if(e>ka)for(var n=0;n<e;n+=ka)fo.getRandomValues(r.slice(n,n+ka));else fo.getRandomValues(r);return typeof t=="function"?ce.nextTick(function(){t(null,r)}):r}Object.defineProperty($o,"__esModule",{value:!0});var $0=rs.exports;function lv(e){return new Promise(function(t,r){$0(e,function(n,o){if(n){r(n);return}t(o)})})}$o.getRandomBytes=lv;function cv(e){return $0(e)}$o.getRandomBytesSync=cv;(function(e){var t=Ie&&Ie.__awaiter||function(x,y,S,R){function I(M){return M instanceof S?M:new S(function(T){T(M)})}return new(S||(S=Promise))(function(M,T){function A(B){try{k(R.next(B))}catch(O){T(O)}}function C(B){try{k(R.throw(B))}catch(O){T(O)}}function k(B){B.done?M(B.value):I(B.value).then(A,C)}k((R=R.apply(x,y||[])).next())})},r=Ie&&Ie.__generator||function(x,y){var S={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},R,I,M,T;return T={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function A(k){return function(B){return C([k,B])}}function C(k){if(R)throw new TypeError("Generator is already executing.");for(;S;)try{if(R=1,I&&(M=k[0]&2?I.return:k[0]?I.throw||((M=I.return)&&M.call(I),0):I.next)&&!(M=M.call(I,k[1])).done)return M;switch(I=0,M&&(k=[k[0]&2,M.value]),k[0]){case 0:case 1:M=k;break;case 4:return S.label++,{value:k[1],done:!1};case 5:S.label++,I=k[1],k=[0];continue;case 7:k=S.ops.pop(),S.trys.pop();continue;default:if(M=S.trys,!(M=M.length>0&&M[M.length-1])&&(k[0]===6||k[0]===2)){S=0;continue}if(k[0]===3&&(!M||k[1]>M[0]&&k[1]<M[3])){S.label=k[1];break}if(k[0]===6&&S.label<M[1]){S.label=M[1],M=k;break}if(M&&S.label<M[2]){S.label=M[2],S.ops.push(k);break}M[2]&&S.ops.pop(),S.trys.pop();continue}k=y.call(x,S)}catch(B){k=[6,B],I=0}finally{R=M=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}};function n(x){for(var y in x)e.hasOwnProperty(y)||(e[y]=x[y])}Object.defineProperty(e,"__esModule",{value:!0});var o=au,i=$o,l=32;function v(){return t(this,void 0,void 0,function(){var x;return r(this,function(y){switch(y.label){case 0:return[4,i.getRandomBytes(l)];case 1:return x=y.sent(),o.privateKeyVerify(x)?[2,x]:[3,0];case 2:return[2]}})})}e.createPrivateKey=v;function g(){for(;;){var x=i.getRandomBytesSync(l);if(o.privateKeyVerify(x))return x}}e.createPrivateKeySync=g,n(au)})(Js);var Ai={},ur={exports:{}};(function(e){(function(t,r){function n(P,d){if(!P)throw new Error(d||"Assertion failed")}function o(P,d){P.super_=d;var s=function(){};s.prototype=d.prototype,P.prototype=new s,P.prototype.constructor=P}function i(P,d,s){if(i.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((d==="le"||d==="be")&&(s=d,d=10),this._init(P||0,d||10,s||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var l;try{l=require("buffer").Buffer}catch{}i.isBN=function(d){return d instanceof i?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===i.wordSize&&Array.isArray(d.words)},i.max=function(d,s){return d.cmp(s)>0?d:s},i.min=function(d,s){return d.cmp(s)<0?d:s},i.prototype._init=function(d,s,f){if(typeof d=="number")return this._initNumber(d,s,f);if(typeof d=="object")return this._initArray(d,s,f);s==="hex"&&(s=16),n(s===(s|0)&&s>=2&&s<=36),d=d.toString().replace(/\s+/g,"");var a=0;d[0]==="-"&&a++,s===16?this._parseHex(d,a):this._parseBase(d,s,a),d[0]==="-"&&(this.negative=1),this.strip(),f==="le"&&this._initArray(this.toArray(),s,f)},i.prototype._initNumber=function(d,s,f){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),s,f)},i.prototype._initArray=function(d,s,f){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var h,p,w=0;if(f==="be")for(a=d.length-1,h=0;a>=0;a-=3)p=d[a]|d[a-1]<<8|d[a-2]<<16,this.words[h]|=p<<w&67108863,this.words[h+1]=p>>>26-w&67108863,w+=24,w>=26&&(w-=26,h++);else if(f==="le")for(a=0,h=0;a<d.length;a+=3)p=d[a]|d[a+1]<<8|d[a+2]<<16,this.words[h]|=p<<w&67108863,this.words[h+1]=p>>>26-w&67108863,w+=24,w>=26&&(w-=26,h++);return this.strip()};function v(P,d,s){for(var f=0,a=Math.min(P.length,s),h=d;h<a;h++){var p=P.charCodeAt(h)-48;f<<=4,p>=49&&p<=54?f|=p-49+10:p>=17&&p<=22?f|=p-17+10:f|=p&15}return f}i.prototype._parseHex=function(d,s){this.length=Math.ceil((d.length-s)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var a,h,p=0;for(f=d.length-6,a=0;f>=s;f-=6)h=v(d,f,f+6),this.words[a]|=h<<p&67108863,this.words[a+1]|=h>>>26-p&4194303,p+=24,p>=26&&(p-=26,a++);f+6!==s&&(h=v(d,s,f+6),this.words[a]|=h<<p&67108863,this.words[a+1]|=h>>>26-p&4194303),this.strip()};function g(P,d,s,f){for(var a=0,h=Math.min(P.length,s),p=d;p<h;p++){var w=P.charCodeAt(p)-48;a*=f,w>=49?a+=w-49+10:w>=17?a+=w-17+10:a+=w}return a}i.prototype._parseBase=function(d,s,f){this.words=[0],this.length=1;for(var a=0,h=1;h<=67108863;h*=s)a++;a--,h=h/s|0;for(var p=d.length-f,w=p%a,m=Math.min(p,p-w)+f,u=0,c=f;c<m;c+=a)u=g(d,c,c+a,s),this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(w!==0){var b=1;for(u=g(d,c,d.length,s),c=0;c<w;c++)b*=s;this.imuln(b),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(d){d.words=new Array(this.length);for(var s=0;s<this.length;s++)d.words[s]=this.words[s];d.length=this.length,d.negative=this.negative,d.red=this.red},i.prototype.clone=function(){var d=new i(null);return this.copy(d),d},i.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(d,s){d=d||10,s=s|0||1;var f;if(d===16||d==="hex"){f="";for(var a=0,h=0,p=0;p<this.length;p++){var w=this.words[p],m=((w<<a|h)&16777215).toString(16);h=w>>>24-a&16777215,h!==0||p!==this.length-1?f=x[6-m.length]+m+f:f=m+f,a+=2,a>=26&&(a-=26,p--)}for(h!==0&&(f=h.toString(16)+f);f.length%s!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(d===(d|0)&&d>=2&&d<=36){var u=y[d],c=S[d];f="";var b=this.clone();for(b.negative=0;!b.isZero();){var _=b.modn(c).toString(d);b=b.idivn(c),b.isZero()?f=_+f:f=x[u-_.length]+_+f}for(this.isZero()&&(f="0"+f);f.length%s!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(d,s){return n(typeof l!="undefined"),this.toArrayLike(l,d,s)},i.prototype.toArray=function(d,s){return this.toArrayLike(Array,d,s)},i.prototype.toArrayLike=function(d,s,f){var a=this.byteLength(),h=f||Math.max(1,a);n(a<=h,"byte array longer than desired length"),n(h>0,"Requested array length <= 0"),this.strip();var p=s==="le",w=new d(h),m,u,c=this.clone();if(p){for(u=0;!c.isZero();u++)m=c.andln(255),c.iushrn(8),w[u]=m;for(;u<h;u++)w[u]=0}else{for(u=0;u<h-a;u++)w[u]=0;for(u=0;!c.isZero();u++)m=c.andln(255),c.iushrn(8),w[h-u-1]=m}return w},Math.clz32?i.prototype._countBits=function(d){return 32-Math.clz32(d)}:i.prototype._countBits=function(d){var s=d,f=0;return s>=4096&&(f+=13,s>>>=13),s>=64&&(f+=7,s>>>=7),s>=8&&(f+=4,s>>>=4),s>=2&&(f+=2,s>>>=2),f+s},i.prototype._zeroBits=function(d){if(d===0)return 26;var s=d,f=0;return(s&8191)===0&&(f+=13,s>>>=13),(s&127)===0&&(f+=7,s>>>=7),(s&15)===0&&(f+=4,s>>>=4),(s&3)===0&&(f+=2,s>>>=2),(s&1)===0&&f++,f},i.prototype.bitLength=function(){var d=this.words[this.length-1],s=this._countBits(d);return(this.length-1)*26+s};function R(P){for(var d=new Array(P.bitLength()),s=0;s<d.length;s++){var f=s/26|0,a=s%26;d[s]=(P.words[f]&1<<a)>>>a}return d}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,s=0;s<this.length;s++){var f=this._zeroBits(this.words[s]);if(d+=f,f!==26)break}return d},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},i.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var s=0;s<d.length;s++)this.words[s]=this.words[s]|d.words[s];return this.strip()},i.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},i.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},i.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},i.prototype.iuand=function(d){var s;this.length>d.length?s=d:s=this;for(var f=0;f<s.length;f++)this.words[f]=this.words[f]&d.words[f];return this.length=s.length,this.strip()},i.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},i.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},i.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},i.prototype.iuxor=function(d){var s,f;this.length>d.length?(s=this,f=d):(s=d,f=this);for(var a=0;a<f.length;a++)this.words[a]=s.words[a]^f.words[a];if(this!==s)for(;a<s.length;a++)this.words[a]=s.words[a];return this.length=s.length,this.strip()},i.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},i.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},i.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},i.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var s=Math.ceil(d/26)|0,f=d%26;this._expand(s),f>0&&s--;for(var a=0;a<s;a++)this.words[a]=~this.words[a]&67108863;return f>0&&(this.words[a]=~this.words[a]&67108863>>26-f),this.strip()},i.prototype.notn=function(d){return this.clone().inotn(d)},i.prototype.setn=function(d,s){n(typeof d=="number"&&d>=0);var f=d/26|0,a=d%26;return this._expand(f+1),s?this.words[f]=this.words[f]|1<<a:this.words[f]=this.words[f]&~(1<<a),this.strip()},i.prototype.iadd=function(d){var s;if(this.negative!==0&&d.negative===0)return this.negative=0,s=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,s=this.isub(d),d.negative=1,s._normSign();var f,a;this.length>d.length?(f=this,a=d):(f=d,a=this);for(var h=0,p=0;p<a.length;p++)s=(f.words[p]|0)+(a.words[p]|0)+h,this.words[p]=s&67108863,h=s>>>26;for(;h!==0&&p<f.length;p++)s=(f.words[p]|0)+h,this.words[p]=s&67108863,h=s>>>26;if(this.length=f.length,h!==0)this.words[this.length]=h,this.length++;else if(f!==this)for(;p<f.length;p++)this.words[p]=f.words[p];return this},i.prototype.add=function(d){var s;return d.negative!==0&&this.negative===0?(d.negative=0,s=this.sub(d),d.negative^=1,s):d.negative===0&&this.negative!==0?(this.negative=0,s=d.sub(this),this.negative=1,s):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},i.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var s=this.iadd(d);return d.negative=1,s._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var f=this.cmp(d);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,h;f>0?(a=this,h=d):(a=d,h=this);for(var p=0,w=0;w<h.length;w++)s=(a.words[w]|0)-(h.words[w]|0)+p,p=s>>26,this.words[w]=s&67108863;for(;p!==0&&w<a.length;w++)s=(a.words[w]|0)+p,p=s>>26,this.words[w]=s&67108863;if(p===0&&w<a.length&&a!==this)for(;w<a.length;w++)this.words[w]=a.words[w];return this.length=Math.max(this.length,w),a!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(d){return this.clone().isub(d)};function I(P,d,s){s.negative=d.negative^P.negative;var f=P.length+d.length|0;s.length=f,f=f-1|0;var a=P.words[0]|0,h=d.words[0]|0,p=a*h,w=p&67108863,m=p/67108864|0;s.words[0]=w;for(var u=1;u<f;u++){for(var c=m>>>26,b=m&67108863,_=Math.min(u,d.length-1),E=Math.max(0,u-P.length+1);E<=_;E++){var N=u-E|0;a=P.words[N]|0,h=d.words[E]|0,p=a*h+b,c+=p/67108864|0,b=p&67108863}s.words[u]=b|0,m=c|0}return m!==0?s.words[u]=m|0:s.length--,s.strip()}var M=function(d,s,f){var a=d.words,h=s.words,p=f.words,w=0,m,u,c,b=a[0]|0,_=b&8191,E=b>>>13,N=a[1]|0,q=N&8191,U=N>>>13,ue=a[2]|0,W=ue&8191,H=ue>>>13,$e=a[3]|0,ve=$e&8191,j=$e>>>13,je=a[4]|0,pe=je&8191,G=je>>>13,Ge=a[5]|0,ge=Ge&8191,V=Ge>>>13,Ve=a[6]|0,me=Ve&8191,Z=Ve>>>13,Ze=a[7]|0,_e=Ze&8191,J=Ze>>>13,Je=a[8]|0,ye=Je&8191,Y=Je>>>13,Ye=a[9]|0,we=Ye&8191,X=Ye>>>13,Xe=h[0]|0,be=Xe&8191,Q=Xe>>>13,Qe=h[1]|0,xe=Qe&8191,ee=Qe>>>13,et=h[2]|0,Me=et&8191,te=et>>>13,tt=h[3]|0,Se=tt&8191,re=tt>>>13,rt=h[4]|0,Ee=rt&8191,ne=rt>>>13,nt=h[5]|0,Ae=nt&8191,ie=nt>>>13,it=h[6]|0,Re=it&8191,oe=it>>>13,ot=h[7]|0,ke=ot&8191,ae=ot>>>13,at=h[8]|0,Te=at&8191,se=at>>>13,st=h[9]|0,Ce=st&8191,fe=st>>>13;f.negative=d.negative^s.negative,f.length=19,m=Math.imul(_,be),u=Math.imul(_,Q),u=u+Math.imul(E,be)|0,c=Math.imul(E,Q);var Ke=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,m=Math.imul(q,be),u=Math.imul(q,Q),u=u+Math.imul(U,be)|0,c=Math.imul(U,Q),m=m+Math.imul(_,xe)|0,u=u+Math.imul(_,ee)|0,u=u+Math.imul(E,xe)|0,c=c+Math.imul(E,ee)|0;var He=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(He>>>26)|0,He&=67108863,m=Math.imul(W,be),u=Math.imul(W,Q),u=u+Math.imul(H,be)|0,c=Math.imul(H,Q),m=m+Math.imul(q,xe)|0,u=u+Math.imul(q,ee)|0,u=u+Math.imul(U,xe)|0,c=c+Math.imul(U,ee)|0,m=m+Math.imul(_,Me)|0,u=u+Math.imul(_,te)|0,u=u+Math.imul(E,Me)|0,c=c+Math.imul(E,te)|0;var Fe=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,m=Math.imul(ve,be),u=Math.imul(ve,Q),u=u+Math.imul(j,be)|0,c=Math.imul(j,Q),m=m+Math.imul(W,xe)|0,u=u+Math.imul(W,ee)|0,u=u+Math.imul(H,xe)|0,c=c+Math.imul(H,ee)|0,m=m+Math.imul(q,Me)|0,u=u+Math.imul(q,te)|0,u=u+Math.imul(U,Me)|0,c=c+Math.imul(U,te)|0,m=m+Math.imul(_,Se)|0,u=u+Math.imul(_,re)|0,u=u+Math.imul(E,Se)|0,c=c+Math.imul(E,re)|0;var Ft=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(pe,be),u=Math.imul(pe,Q),u=u+Math.imul(G,be)|0,c=Math.imul(G,Q),m=m+Math.imul(ve,xe)|0,u=u+Math.imul(ve,ee)|0,u=u+Math.imul(j,xe)|0,c=c+Math.imul(j,ee)|0,m=m+Math.imul(W,Me)|0,u=u+Math.imul(W,te)|0,u=u+Math.imul(H,Me)|0,c=c+Math.imul(H,te)|0,m=m+Math.imul(q,Se)|0,u=u+Math.imul(q,re)|0,u=u+Math.imul(U,Se)|0,c=c+Math.imul(U,re)|0,m=m+Math.imul(_,Ee)|0,u=u+Math.imul(_,ne)|0,u=u+Math.imul(E,Ee)|0,c=c+Math.imul(E,ne)|0;var zt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(zt>>>26)|0,zt&=67108863,m=Math.imul(ge,be),u=Math.imul(ge,Q),u=u+Math.imul(V,be)|0,c=Math.imul(V,Q),m=m+Math.imul(pe,xe)|0,u=u+Math.imul(pe,ee)|0,u=u+Math.imul(G,xe)|0,c=c+Math.imul(G,ee)|0,m=m+Math.imul(ve,Me)|0,u=u+Math.imul(ve,te)|0,u=u+Math.imul(j,Me)|0,c=c+Math.imul(j,te)|0,m=m+Math.imul(W,Se)|0,u=u+Math.imul(W,re)|0,u=u+Math.imul(H,Se)|0,c=c+Math.imul(H,re)|0,m=m+Math.imul(q,Ee)|0,u=u+Math.imul(q,ne)|0,u=u+Math.imul(U,Ee)|0,c=c+Math.imul(U,ne)|0,m=m+Math.imul(_,Ae)|0,u=u+Math.imul(_,ie)|0,u=u+Math.imul(E,Ae)|0,c=c+Math.imul(E,ie)|0;var Kt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,m=Math.imul(me,be),u=Math.imul(me,Q),u=u+Math.imul(Z,be)|0,c=Math.imul(Z,Q),m=m+Math.imul(ge,xe)|0,u=u+Math.imul(ge,ee)|0,u=u+Math.imul(V,xe)|0,c=c+Math.imul(V,ee)|0,m=m+Math.imul(pe,Me)|0,u=u+Math.imul(pe,te)|0,u=u+Math.imul(G,Me)|0,c=c+Math.imul(G,te)|0,m=m+Math.imul(ve,Se)|0,u=u+Math.imul(ve,re)|0,u=u+Math.imul(j,Se)|0,c=c+Math.imul(j,re)|0,m=m+Math.imul(W,Ee)|0,u=u+Math.imul(W,ne)|0,u=u+Math.imul(H,Ee)|0,c=c+Math.imul(H,ne)|0,m=m+Math.imul(q,Ae)|0,u=u+Math.imul(q,ie)|0,u=u+Math.imul(U,Ae)|0,c=c+Math.imul(U,ie)|0,m=m+Math.imul(_,Re)|0,u=u+Math.imul(_,oe)|0,u=u+Math.imul(E,Re)|0,c=c+Math.imul(E,oe)|0;var Wt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,m=Math.imul(_e,be),u=Math.imul(_e,Q),u=u+Math.imul(J,be)|0,c=Math.imul(J,Q),m=m+Math.imul(me,xe)|0,u=u+Math.imul(me,ee)|0,u=u+Math.imul(Z,xe)|0,c=c+Math.imul(Z,ee)|0,m=m+Math.imul(ge,Me)|0,u=u+Math.imul(ge,te)|0,u=u+Math.imul(V,Me)|0,c=c+Math.imul(V,te)|0,m=m+Math.imul(pe,Se)|0,u=u+Math.imul(pe,re)|0,u=u+Math.imul(G,Se)|0,c=c+Math.imul(G,re)|0,m=m+Math.imul(ve,Ee)|0,u=u+Math.imul(ve,ne)|0,u=u+Math.imul(j,Ee)|0,c=c+Math.imul(j,ne)|0,m=m+Math.imul(W,Ae)|0,u=u+Math.imul(W,ie)|0,u=u+Math.imul(H,Ae)|0,c=c+Math.imul(H,ie)|0,m=m+Math.imul(q,Re)|0,u=u+Math.imul(q,oe)|0,u=u+Math.imul(U,Re)|0,c=c+Math.imul(U,oe)|0,m=m+Math.imul(_,ke)|0,u=u+Math.imul(_,ae)|0,u=u+Math.imul(E,ke)|0,c=c+Math.imul(E,ae)|0;var jt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(jt>>>26)|0,jt&=67108863,m=Math.imul(ye,be),u=Math.imul(ye,Q),u=u+Math.imul(Y,be)|0,c=Math.imul(Y,Q),m=m+Math.imul(_e,xe)|0,u=u+Math.imul(_e,ee)|0,u=u+Math.imul(J,xe)|0,c=c+Math.imul(J,ee)|0,m=m+Math.imul(me,Me)|0,u=u+Math.imul(me,te)|0,u=u+Math.imul(Z,Me)|0,c=c+Math.imul(Z,te)|0,m=m+Math.imul(ge,Se)|0,u=u+Math.imul(ge,re)|0,u=u+Math.imul(V,Se)|0,c=c+Math.imul(V,re)|0,m=m+Math.imul(pe,Ee)|0,u=u+Math.imul(pe,ne)|0,u=u+Math.imul(G,Ee)|0,c=c+Math.imul(G,ne)|0,m=m+Math.imul(ve,Ae)|0,u=u+Math.imul(ve,ie)|0,u=u+Math.imul(j,Ae)|0,c=c+Math.imul(j,ie)|0,m=m+Math.imul(W,Re)|0,u=u+Math.imul(W,oe)|0,u=u+Math.imul(H,Re)|0,c=c+Math.imul(H,oe)|0,m=m+Math.imul(q,ke)|0,u=u+Math.imul(q,ae)|0,u=u+Math.imul(U,ke)|0,c=c+Math.imul(U,ae)|0,m=m+Math.imul(_,Te)|0,u=u+Math.imul(_,se)|0,u=u+Math.imul(E,Te)|0,c=c+Math.imul(E,se)|0;var Gt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,m=Math.imul(we,be),u=Math.imul(we,Q),u=u+Math.imul(X,be)|0,c=Math.imul(X,Q),m=m+Math.imul(ye,xe)|0,u=u+Math.imul(ye,ee)|0,u=u+Math.imul(Y,xe)|0,c=c+Math.imul(Y,ee)|0,m=m+Math.imul(_e,Me)|0,u=u+Math.imul(_e,te)|0,u=u+Math.imul(J,Me)|0,c=c+Math.imul(J,te)|0,m=m+Math.imul(me,Se)|0,u=u+Math.imul(me,re)|0,u=u+Math.imul(Z,Se)|0,c=c+Math.imul(Z,re)|0,m=m+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,ne)|0,u=u+Math.imul(V,Ee)|0,c=c+Math.imul(V,ne)|0,m=m+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,ie)|0,u=u+Math.imul(G,Ae)|0,c=c+Math.imul(G,ie)|0,m=m+Math.imul(ve,Re)|0,u=u+Math.imul(ve,oe)|0,u=u+Math.imul(j,Re)|0,c=c+Math.imul(j,oe)|0,m=m+Math.imul(W,ke)|0,u=u+Math.imul(W,ae)|0,u=u+Math.imul(H,ke)|0,c=c+Math.imul(H,ae)|0,m=m+Math.imul(q,Te)|0,u=u+Math.imul(q,se)|0,u=u+Math.imul(U,Te)|0,c=c+Math.imul(U,se)|0,m=m+Math.imul(_,Ce)|0,u=u+Math.imul(_,fe)|0,u=u+Math.imul(E,Ce)|0,c=c+Math.imul(E,fe)|0;var Vt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,m=Math.imul(we,xe),u=Math.imul(we,ee),u=u+Math.imul(X,xe)|0,c=Math.imul(X,ee),m=m+Math.imul(ye,Me)|0,u=u+Math.imul(ye,te)|0,u=u+Math.imul(Y,Me)|0,c=c+Math.imul(Y,te)|0,m=m+Math.imul(_e,Se)|0,u=u+Math.imul(_e,re)|0,u=u+Math.imul(J,Se)|0,c=c+Math.imul(J,re)|0,m=m+Math.imul(me,Ee)|0,u=u+Math.imul(me,ne)|0,u=u+Math.imul(Z,Ee)|0,c=c+Math.imul(Z,ne)|0,m=m+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,ie)|0,u=u+Math.imul(V,Ae)|0,c=c+Math.imul(V,ie)|0,m=m+Math.imul(pe,Re)|0,u=u+Math.imul(pe,oe)|0,u=u+Math.imul(G,Re)|0,c=c+Math.imul(G,oe)|0,m=m+Math.imul(ve,ke)|0,u=u+Math.imul(ve,ae)|0,u=u+Math.imul(j,ke)|0,c=c+Math.imul(j,ae)|0,m=m+Math.imul(W,Te)|0,u=u+Math.imul(W,se)|0,u=u+Math.imul(H,Te)|0,c=c+Math.imul(H,se)|0,m=m+Math.imul(q,Ce)|0,u=u+Math.imul(q,fe)|0,u=u+Math.imul(U,Ce)|0,c=c+Math.imul(U,fe)|0;var Zt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,m=Math.imul(we,Me),u=Math.imul(we,te),u=u+Math.imul(X,Me)|0,c=Math.imul(X,te),m=m+Math.imul(ye,Se)|0,u=u+Math.imul(ye,re)|0,u=u+Math.imul(Y,Se)|0,c=c+Math.imul(Y,re)|0,m=m+Math.imul(_e,Ee)|0,u=u+Math.imul(_e,ne)|0,u=u+Math.imul(J,Ee)|0,c=c+Math.imul(J,ne)|0,m=m+Math.imul(me,Ae)|0,u=u+Math.imul(me,ie)|0,u=u+Math.imul(Z,Ae)|0,c=c+Math.imul(Z,ie)|0,m=m+Math.imul(ge,Re)|0,u=u+Math.imul(ge,oe)|0,u=u+Math.imul(V,Re)|0,c=c+Math.imul(V,oe)|0,m=m+Math.imul(pe,ke)|0,u=u+Math.imul(pe,ae)|0,u=u+Math.imul(G,ke)|0,c=c+Math.imul(G,ae)|0,m=m+Math.imul(ve,Te)|0,u=u+Math.imul(ve,se)|0,u=u+Math.imul(j,Te)|0,c=c+Math.imul(j,se)|0,m=m+Math.imul(W,Ce)|0,u=u+Math.imul(W,fe)|0,u=u+Math.imul(H,Ce)|0,c=c+Math.imul(H,fe)|0;var Jt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,m=Math.imul(we,Se),u=Math.imul(we,re),u=u+Math.imul(X,Se)|0,c=Math.imul(X,re),m=m+Math.imul(ye,Ee)|0,u=u+Math.imul(ye,ne)|0,u=u+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,ne)|0,m=m+Math.imul(_e,Ae)|0,u=u+Math.imul(_e,ie)|0,u=u+Math.imul(J,Ae)|0,c=c+Math.imul(J,ie)|0,m=m+Math.imul(me,Re)|0,u=u+Math.imul(me,oe)|0,u=u+Math.imul(Z,Re)|0,c=c+Math.imul(Z,oe)|0,m=m+Math.imul(ge,ke)|0,u=u+Math.imul(ge,ae)|0,u=u+Math.imul(V,ke)|0,c=c+Math.imul(V,ae)|0,m=m+Math.imul(pe,Te)|0,u=u+Math.imul(pe,se)|0,u=u+Math.imul(G,Te)|0,c=c+Math.imul(G,se)|0,m=m+Math.imul(ve,Ce)|0,u=u+Math.imul(ve,fe)|0,u=u+Math.imul(j,Ce)|0,c=c+Math.imul(j,fe)|0;var Yt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,m=Math.imul(we,Ee),u=Math.imul(we,ne),u=u+Math.imul(X,Ee)|0,c=Math.imul(X,ne),m=m+Math.imul(ye,Ae)|0,u=u+Math.imul(ye,ie)|0,u=u+Math.imul(Y,Ae)|0,c=c+Math.imul(Y,ie)|0,m=m+Math.imul(_e,Re)|0,u=u+Math.imul(_e,oe)|0,u=u+Math.imul(J,Re)|0,c=c+Math.imul(J,oe)|0,m=m+Math.imul(me,ke)|0,u=u+Math.imul(me,ae)|0,u=u+Math.imul(Z,ke)|0,c=c+Math.imul(Z,ae)|0,m=m+Math.imul(ge,Te)|0,u=u+Math.imul(ge,se)|0,u=u+Math.imul(V,Te)|0,c=c+Math.imul(V,se)|0,m=m+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,fe)|0,u=u+Math.imul(G,Ce)|0,c=c+Math.imul(G,fe)|0;var Xt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,m=Math.imul(we,Ae),u=Math.imul(we,ie),u=u+Math.imul(X,Ae)|0,c=Math.imul(X,ie),m=m+Math.imul(ye,Re)|0,u=u+Math.imul(ye,oe)|0,u=u+Math.imul(Y,Re)|0,c=c+Math.imul(Y,oe)|0,m=m+Math.imul(_e,ke)|0,u=u+Math.imul(_e,ae)|0,u=u+Math.imul(J,ke)|0,c=c+Math.imul(J,ae)|0,m=m+Math.imul(me,Te)|0,u=u+Math.imul(me,se)|0,u=u+Math.imul(Z,Te)|0,c=c+Math.imul(Z,se)|0,m=m+Math.imul(ge,Ce)|0,u=u+Math.imul(ge,fe)|0,u=u+Math.imul(V,Ce)|0,c=c+Math.imul(V,fe)|0;var Qt=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,m=Math.imul(we,Re),u=Math.imul(we,oe),u=u+Math.imul(X,Re)|0,c=Math.imul(X,oe),m=m+Math.imul(ye,ke)|0,u=u+Math.imul(ye,ae)|0,u=u+Math.imul(Y,ke)|0,c=c+Math.imul(Y,ae)|0,m=m+Math.imul(_e,Te)|0,u=u+Math.imul(_e,se)|0,u=u+Math.imul(J,Te)|0,c=c+Math.imul(J,se)|0,m=m+Math.imul(me,Ce)|0,u=u+Math.imul(me,fe)|0,u=u+Math.imul(Z,Ce)|0,c=c+Math.imul(Z,fe)|0;var er=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(we,ke),u=Math.imul(we,ae),u=u+Math.imul(X,ke)|0,c=Math.imul(X,ae),m=m+Math.imul(ye,Te)|0,u=u+Math.imul(ye,se)|0,u=u+Math.imul(Y,Te)|0,c=c+Math.imul(Y,se)|0,m=m+Math.imul(_e,Ce)|0,u=u+Math.imul(_e,fe)|0,u=u+Math.imul(J,Ce)|0,c=c+Math.imul(J,fe)|0;var tr=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(tr>>>26)|0,tr&=67108863,m=Math.imul(we,Te),u=Math.imul(we,se),u=u+Math.imul(X,Te)|0,c=Math.imul(X,se),m=m+Math.imul(ye,Ce)|0,u=u+Math.imul(ye,fe)|0,u=u+Math.imul(Y,Ce)|0,c=c+Math.imul(Y,fe)|0;var rr=(w+m|0)+((u&8191)<<13)|0;w=(c+(u>>>13)|0)+(rr>>>26)|0,rr&=67108863,m=Math.imul(we,Ce),u=Math.imul(we,fe),u=u+Math.imul(X,Ce)|0,c=Math.imul(X,fe);var nr=(w+m|0)+((u&8191)<<13)|0;return w=(c+(u>>>13)|0)+(nr>>>26)|0,nr&=67108863,p[0]=Ke,p[1]=He,p[2]=Fe,p[3]=Ft,p[4]=zt,p[5]=Kt,p[6]=Wt,p[7]=jt,p[8]=Gt,p[9]=Vt,p[10]=Zt,p[11]=Jt,p[12]=Yt,p[13]=Xt,p[14]=Qt,p[15]=er,p[16]=tr,p[17]=rr,p[18]=nr,w!==0&&(p[19]=w,f.length++),f};Math.imul||(M=I);function T(P,d,s){s.negative=d.negative^P.negative,s.length=P.length+d.length;for(var f=0,a=0,h=0;h<s.length-1;h++){var p=a;a=0;for(var w=f&67108863,m=Math.min(h,d.length-1),u=Math.max(0,h-P.length+1);u<=m;u++){var c=h-u,b=P.words[c]|0,_=d.words[u]|0,E=b*_,N=E&67108863;p=p+(E/67108864|0)|0,N=N+w|0,w=N&67108863,p=p+(N>>>26)|0,a+=p>>>26,p&=67108863}s.words[h]=w,f=p,p=a}return f!==0?s.words[h]=f:s.length--,s.strip()}function A(P,d,s){var f=new C;return f.mulp(P,d,s)}i.prototype.mulTo=function(d,s){var f,a=this.length+d.length;return this.length===10&&d.length===10?f=M(this,d,s):a<63?f=I(this,d,s):a<1024?f=T(this,d,s):f=A(this,d,s),f};function C(P,d){this.x=P,this.y=d}C.prototype.makeRBT=function(d){for(var s=new Array(d),f=i.prototype._countBits(d)-1,a=0;a<d;a++)s[a]=this.revBin(a,f,d);return s},C.prototype.revBin=function(d,s,f){if(d===0||d===f-1)return d;for(var a=0,h=0;h<s;h++)a|=(d&1)<<s-h-1,d>>=1;return a},C.prototype.permute=function(d,s,f,a,h,p){for(var w=0;w<p;w++)a[w]=s[d[w]],h[w]=f[d[w]]},C.prototype.transform=function(d,s,f,a,h,p){this.permute(p,d,s,f,a,h);for(var w=1;w<h;w<<=1)for(var m=w<<1,u=Math.cos(2*Math.PI/m),c=Math.sin(2*Math.PI/m),b=0;b<h;b+=m)for(var _=u,E=c,N=0;N<w;N++){var q=f[b+N],U=a[b+N],ue=f[b+N+w],W=a[b+N+w],H=_*ue-E*W;W=_*W+E*ue,ue=H,f[b+N]=q+ue,a[b+N]=U+W,f[b+N+w]=q-ue,a[b+N+w]=U-W,N!==m&&(H=u*_-c*E,E=u*E+c*_,_=H)}},C.prototype.guessLen13b=function(d,s){var f=Math.max(s,d)|1,a=f&1,h=0;for(f=f/2|0;f;f=f>>>1)h++;return 1<<h+1+a},C.prototype.conjugate=function(d,s,f){if(!(f<=1))for(var a=0;a<f/2;a++){var h=d[a];d[a]=d[f-a-1],d[f-a-1]=h,h=s[a],s[a]=-s[f-a-1],s[f-a-1]=-h}},C.prototype.normalize13b=function(d,s){for(var f=0,a=0;a<s/2;a++){var h=Math.round(d[2*a+1]/s)*8192+Math.round(d[2*a]/s)+f;d[a]=h&67108863,h<67108864?f=0:f=h/67108864|0}return d},C.prototype.convert13b=function(d,s,f,a){for(var h=0,p=0;p<s;p++)h=h+(d[p]|0),f[2*p]=h&8191,h=h>>>13,f[2*p+1]=h&8191,h=h>>>13;for(p=2*s;p<a;++p)f[p]=0;n(h===0),n((h&-8192)===0)},C.prototype.stub=function(d){for(var s=new Array(d),f=0;f<d;f++)s[f]=0;return s},C.prototype.mulp=function(d,s,f){var a=2*this.guessLen13b(d.length,s.length),h=this.makeRBT(a),p=this.stub(a),w=new Array(a),m=new Array(a),u=new Array(a),c=new Array(a),b=new Array(a),_=new Array(a),E=f.words;E.length=a,this.convert13b(d.words,d.length,w,a),this.convert13b(s.words,s.length,c,a),this.transform(w,p,m,u,a,h),this.transform(c,p,b,_,a,h);for(var N=0;N<a;N++){var q=m[N]*b[N]-u[N]*_[N];u[N]=m[N]*_[N]+u[N]*b[N],m[N]=q}return this.conjugate(m,u,a),this.transform(m,u,E,p,a,h),this.conjugate(E,p,a),this.normalize13b(E,a),f.negative=d.negative^s.negative,f.length=d.length+s.length,f.strip()},i.prototype.mul=function(d){var s=new i(null);return s.words=new Array(this.length+d.length),this.mulTo(d,s)},i.prototype.mulf=function(d){var s=new i(null);return s.words=new Array(this.length+d.length),A(this,d,s)},i.prototype.imul=function(d){return this.clone().mulTo(d,this)},i.prototype.imuln=function(d){n(typeof d=="number"),n(d<67108864);for(var s=0,f=0;f<this.length;f++){var a=(this.words[f]|0)*d,h=(a&67108863)+(s&67108863);s>>=26,s+=a/67108864|0,s+=h>>>26,this.words[f]=h&67108863}return s!==0&&(this.words[f]=s,this.length++),this},i.prototype.muln=function(d){return this.clone().imuln(d)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(d){var s=R(d);if(s.length===0)return new i(1);for(var f=this,a=0;a<s.length&&s[a]===0;a++,f=f.sqr());if(++a<s.length)for(var h=f.sqr();a<s.length;a++,h=h.sqr())s[a]!==0&&(f=f.mul(h));return f},i.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var s=d%26,f=(d-s)/26,a=67108863>>>26-s<<26-s,h;if(s!==0){var p=0;for(h=0;h<this.length;h++){var w=this.words[h]&a,m=(this.words[h]|0)-w<<s;this.words[h]=m|p,p=w>>>26-s}p&&(this.words[h]=p,this.length++)}if(f!==0){for(h=this.length-1;h>=0;h--)this.words[h+f]=this.words[h];for(h=0;h<f;h++)this.words[h]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},i.prototype.iushrn=function(d,s,f){n(typeof d=="number"&&d>=0);var a;s?a=(s-s%26)/26:a=0;var h=d%26,p=Math.min((d-h)/26,this.length),w=67108863^67108863>>>h<<h,m=f;if(a-=p,a=Math.max(0,a),m){for(var u=0;u<p;u++)m.words[u]=this.words[u];m.length=p}if(p!==0)if(this.length>p)for(this.length-=p,u=0;u<this.length;u++)this.words[u]=this.words[u+p];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(c!==0||u>=a);u--){var b=this.words[u]|0;this.words[u]=c<<26-h|b>>>h,c=b&w}return m&&c!==0&&(m.words[m.length++]=c),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(d,s,f){return n(this.negative===0),this.iushrn(d,s,f)},i.prototype.shln=function(d){return this.clone().ishln(d)},i.prototype.ushln=function(d){return this.clone().iushln(d)},i.prototype.shrn=function(d){return this.clone().ishrn(d)},i.prototype.ushrn=function(d){return this.clone().iushrn(d)},i.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var s=d%26,f=(d-s)/26,a=1<<s;if(this.length<=f)return!1;var h=this.words[f];return!!(h&a)},i.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var s=d%26,f=(d-s)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(s!==0&&f++,this.length=Math.min(f,this.length),s!==0){var a=67108863^67108863>>>s<<s;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(d){return this.clone().imaskn(d)},i.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},i.prototype._iaddn=function(d){this.words[0]+=d;for(var s=0;s<this.length&&this.words[s]>=67108864;s++)this.words[s]-=67108864,s===this.length-1?this.words[s+1]=1:this.words[s+1]++;return this.length=Math.max(this.length,s+1),this},i.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var s=0;s<this.length&&this.words[s]<0;s++)this.words[s]+=67108864,this.words[s+1]-=1;return this.strip()},i.prototype.addn=function(d){return this.clone().iaddn(d)},i.prototype.subn=function(d){return this.clone().isubn(d)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(d,s,f){var a=d.length+f,h;this._expand(a);var p,w=0;for(h=0;h<d.length;h++){p=(this.words[h+f]|0)+w;var m=(d.words[h]|0)*s;p-=m&67108863,w=(p>>26)-(m/67108864|0),this.words[h+f]=p&67108863}for(;h<this.length-f;h++)p=(this.words[h+f]|0)+w,w=p>>26,this.words[h+f]=p&67108863;if(w===0)return this.strip();for(n(w===-1),w=0,h=0;h<this.length;h++)p=-(this.words[h]|0)+w,w=p>>26,this.words[h]=p&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(d,s){var f=this.length-d.length,a=this.clone(),h=d,p=h.words[h.length-1]|0,w=this._countBits(p);f=26-w,f!==0&&(h=h.ushln(f),a.iushln(f),p=h.words[h.length-1]|0);var m=a.length-h.length,u;if(s!=="mod"){u=new i(null),u.length=m+1,u.words=new Array(u.length);for(var c=0;c<u.length;c++)u.words[c]=0}var b=a.clone()._ishlnsubmul(h,1,m);b.negative===0&&(a=b,u&&(u.words[m]=1));for(var _=m-1;_>=0;_--){var E=(a.words[h.length+_]|0)*67108864+(a.words[h.length+_-1]|0);for(E=Math.min(E/p|0,67108863),a._ishlnsubmul(h,E,_);a.negative!==0;)E--,a.negative=0,a._ishlnsubmul(h,1,_),a.isZero()||(a.negative^=1);u&&(u.words[_]=E)}return u&&u.strip(),a.strip(),s!=="div"&&f!==0&&a.iushrn(f),{div:u||null,mod:a}},i.prototype.divmod=function(d,s,f){if(n(!d.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var a,h,p;return this.negative!==0&&d.negative===0?(p=this.neg().divmod(d,s),s!=="mod"&&(a=p.div.neg()),s!=="div"&&(h=p.mod.neg(),f&&h.negative!==0&&h.iadd(d)),{div:a,mod:h}):this.negative===0&&d.negative!==0?(p=this.divmod(d.neg(),s),s!=="mod"&&(a=p.div.neg()),{div:a,mod:p.mod}):(this.negative&d.negative)!==0?(p=this.neg().divmod(d.neg(),s),s!=="div"&&(h=p.mod.neg(),f&&h.negative!==0&&h.isub(d)),{div:p.div,mod:h}):d.length>this.length||this.cmp(d)<0?{div:new i(0),mod:this}:d.length===1?s==="div"?{div:this.divn(d.words[0]),mod:null}:s==="mod"?{div:null,mod:new i(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new i(this.modn(d.words[0]))}:this._wordDiv(d,s)},i.prototype.div=function(d){return this.divmod(d,"div",!1).div},i.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},i.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},i.prototype.divRound=function(d){var s=this.divmod(d);if(s.mod.isZero())return s.div;var f=s.div.negative!==0?s.mod.isub(d):s.mod,a=d.ushrn(1),h=d.andln(1),p=f.cmp(a);return p<0||h===1&&p===0?s.div:s.div.negative!==0?s.div.isubn(1):s.div.iaddn(1)},i.prototype.modn=function(d){n(d<=67108863);for(var s=(1<<26)%d,f=0,a=this.length-1;a>=0;a--)f=(s*f+(this.words[a]|0))%d;return f},i.prototype.idivn=function(d){n(d<=67108863);for(var s=0,f=this.length-1;f>=0;f--){var a=(this.words[f]|0)+s*67108864;this.words[f]=a/d|0,s=a%d}return this.strip()},i.prototype.divn=function(d){return this.clone().idivn(d)},i.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var s=this,f=d.clone();s.negative!==0?s=s.umod(d):s=s.clone();for(var a=new i(1),h=new i(0),p=new i(0),w=new i(1),m=0;s.isEven()&&f.isEven();)s.iushrn(1),f.iushrn(1),++m;for(var u=f.clone(),c=s.clone();!s.isZero();){for(var b=0,_=1;(s.words[0]&_)===0&&b<26;++b,_<<=1);if(b>0)for(s.iushrn(b);b-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(u),h.isub(c)),a.iushrn(1),h.iushrn(1);for(var E=0,N=1;(f.words[0]&N)===0&&E<26;++E,N<<=1);if(E>0)for(f.iushrn(E);E-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(u),w.isub(c)),p.iushrn(1),w.iushrn(1);s.cmp(f)>=0?(s.isub(f),a.isub(p),h.isub(w)):(f.isub(s),p.isub(a),w.isub(h))}return{a:p,b:w,gcd:f.iushln(m)}},i.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var s=this,f=d.clone();s.negative!==0?s=s.umod(d):s=s.clone();for(var a=new i(1),h=new i(0),p=f.clone();s.cmpn(1)>0&&f.cmpn(1)>0;){for(var w=0,m=1;(s.words[0]&m)===0&&w<26;++w,m<<=1);if(w>0)for(s.iushrn(w);w-- >0;)a.isOdd()&&a.iadd(p),a.iushrn(1);for(var u=0,c=1;(f.words[0]&c)===0&&u<26;++u,c<<=1);if(u>0)for(f.iushrn(u);u-- >0;)h.isOdd()&&h.iadd(p),h.iushrn(1);s.cmp(f)>=0?(s.isub(f),a.isub(h)):(f.isub(s),h.isub(a))}var b;return s.cmpn(1)===0?b=a:b=h,b.cmpn(0)<0&&b.iadd(d),b},i.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var s=this.clone(),f=d.clone();s.negative=0,f.negative=0;for(var a=0;s.isEven()&&f.isEven();a++)s.iushrn(1),f.iushrn(1);do{for(;s.isEven();)s.iushrn(1);for(;f.isEven();)f.iushrn(1);var h=s.cmp(f);if(h<0){var p=s;s=f,f=p}else if(h===0||f.cmpn(1)===0)break;s.isub(f)}while(!0);return f.iushln(a)},i.prototype.invm=function(d){return this.egcd(d).a.umod(d)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(d){return this.words[0]&d},i.prototype.bincn=function(d){n(typeof d=="number");var s=d%26,f=(d-s)/26,a=1<<s;if(this.length<=f)return this._expand(f+1),this.words[f]|=a,this;for(var h=a,p=f;h!==0&&p<this.length;p++){var w=this.words[p]|0;w+=h,h=w>>>26,w&=67108863,this.words[p]=w}return h!==0&&(this.words[p]=h,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(d){var s=d<0;if(this.negative!==0&&!s)return-1;if(this.negative===0&&s)return 1;this.strip();var f;if(this.length>1)f=1;else{s&&(d=-d),n(d<=67108863,"Number is too big");var a=this.words[0]|0;f=a===d?0:a<d?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var s=this.ucmp(d);return this.negative!==0?-s|0:s},i.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var s=0,f=this.length-1;f>=0;f--){var a=this.words[f]|0,h=d.words[f]|0;if(a!==h){a<h?s=-1:a>h&&(s=1);break}}return s},i.prototype.gtn=function(d){return this.cmpn(d)===1},i.prototype.gt=function(d){return this.cmp(d)===1},i.prototype.gten=function(d){return this.cmpn(d)>=0},i.prototype.gte=function(d){return this.cmp(d)>=0},i.prototype.ltn=function(d){return this.cmpn(d)===-1},i.prototype.lt=function(d){return this.cmp(d)===-1},i.prototype.lten=function(d){return this.cmpn(d)<=0},i.prototype.lte=function(d){return this.cmp(d)<=0},i.prototype.eqn=function(d){return this.cmpn(d)===0},i.prototype.eq=function(d){return this.cmp(d)===0},i.red=function(d){return new F(d)},i.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(d){return this.red=d,this},i.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},i.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},i.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},i.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},i.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},i.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},i.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},i.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var k={k256:null,p224:null,p192:null,p25519:null};function B(P,d){this.name=P,this.p=new i(d,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var d=new i(null);return d.words=new Array(Math.ceil(this.n/13)),d},B.prototype.ireduce=function(d){var s=d,f;do this.split(s,this.tmp),s=this.imulK(s),s=s.iadd(this.tmp),f=s.bitLength();while(f>this.n);var a=f<this.n?-1:s.ucmp(this.p);return a===0?(s.words[0]=0,s.length=1):a>0?s.isub(this.p):s.strip(),s},B.prototype.split=function(d,s){d.iushrn(this.n,0,s)},B.prototype.imulK=function(d){return d.imul(this.k)};function O(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(O,B),O.prototype.split=function(d,s){for(var f=4194303,a=Math.min(d.length,9),h=0;h<a;h++)s.words[h]=d.words[h];if(s.length=a,d.length<=9){d.words[0]=0,d.length=1;return}var p=d.words[9];for(s.words[s.length++]=p&f,h=10;h<d.length;h++){var w=d.words[h]|0;d.words[h-10]=(w&f)<<4|p>>>22,p=w}p>>>=22,d.words[h-10]=p,p===0&&d.length>10?d.length-=10:d.length-=9},O.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var s=0,f=0;f<d.length;f++){var a=d.words[f]|0;s+=a*977,d.words[f]=s&67108863,s=a*64+(s/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function $(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o($,B);function D(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(D,B);function K(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(K,B),K.prototype.imulK=function(d){for(var s=0,f=0;f<d.length;f++){var a=(d.words[f]|0)*19+s,h=a&67108863;a>>>=26,d.words[f]=h,s=a}return s!==0&&(d.words[d.length++]=s),d},i._prime=function(d){if(k[d])return k[d];var s;if(d==="k256")s=new O;else if(d==="p224")s=new $;else if(d==="p192")s=new D;else if(d==="p25519")s=new K;else throw new Error("Unknown prime "+d);return k[d]=s,s};function F(P){if(typeof P=="string"){var d=i._prime(P);this.m=d.p,this.prime=d}else n(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}F.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},F.prototype._verify2=function(d,s){n((d.negative|s.negative)===0,"red works only with positives"),n(d.red&&d.red===s.red,"red works only with red numbers")},F.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},F.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},F.prototype.add=function(d,s){this._verify2(d,s);var f=d.add(s);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(d,s){this._verify2(d,s);var f=d.iadd(s);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(d,s){this._verify2(d,s);var f=d.sub(s);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(d,s){this._verify2(d,s);var f=d.isub(s);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(d,s){return this._verify1(d),this.imod(d.ushln(s))},F.prototype.imul=function(d,s){return this._verify2(d,s),this.imod(d.imul(s))},F.prototype.mul=function(d,s){return this._verify2(d,s),this.imod(d.mul(s))},F.prototype.isqr=function(d){return this.imul(d,d.clone())},F.prototype.sqr=function(d){return this.mul(d,d)},F.prototype.sqrt=function(d){if(d.isZero())return d.clone();var s=this.m.andln(3);if(n(s%2===1),s===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(d,f)}for(var a=this.m.subn(1),h=0;!a.isZero()&&a.andln(1)===0;)h++,a.iushrn(1);n(!a.isZero());var p=new i(1).toRed(this),w=p.redNeg(),m=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);this.pow(u,m).cmp(w)!==0;)u.redIAdd(w);for(var c=this.pow(u,a),b=this.pow(d,a.addn(1).iushrn(1)),_=this.pow(d,a),E=h;_.cmp(p)!==0;){for(var N=_,q=0;N.cmp(p)!==0;q++)N=N.redSqr();n(q<E);var U=this.pow(c,new i(1).iushln(E-q-1));b=b.redMul(U),c=U.redSqr(),_=_.redMul(c),E=q}return b},F.prototype.invm=function(d){var s=d._invmp(this.m);return s.negative!==0?(s.negative=0,this.imod(s).redNeg()):this.imod(s)},F.prototype.pow=function(d,s){if(s.isZero())return new i(1).toRed(this);if(s.cmpn(1)===0)return d.clone();var f=4,a=new Array(1<<f);a[0]=new i(1).toRed(this),a[1]=d;for(var h=2;h<a.length;h++)a[h]=this.mul(a[h-1],d);var p=a[0],w=0,m=0,u=s.bitLength()%26;for(u===0&&(u=26),h=s.length-1;h>=0;h--){for(var c=s.words[h],b=u-1;b>=0;b--){var _=c>>b&1;if(p!==a[0]&&(p=this.sqr(p)),_===0&&w===0){m=0;continue}w<<=1,w|=_,m++,!(m!==f&&(h!==0||b!==0))&&(p=this.mul(p,a[w]),m=0,w=0)}u=26}return p},F.prototype.convertTo=function(d){var s=d.umod(this.m);return s===d?s.clone():s},F.prototype.convertFrom=function(d){var s=d.clone();return s.red=null,s},i.mont=function(d){return new he(d)};function he(P){F.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(he,F),he.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},he.prototype.convertFrom=function(d){var s=this.imod(d.mul(this.rinv));return s.red=null,s},he.prototype.imul=function(d,s){if(d.isZero()||s.isZero())return d.words[0]=0,d.length=1,d;var f=d.imul(s),a=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=f.isub(a).iushrn(this.shift),p=h;return h.cmp(this.m)>=0?p=h.isub(this.m):h.cmpn(0)<0&&(p=h.iadd(this.m)),p._forceRed(this)},he.prototype.mul=function(d,s){if(d.isZero()||s.isZero())return new i(0)._forceRed(this);var f=d.mul(s),a=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=f.isub(a).iushrn(this.shift),p=h;return h.cmp(this.m)>=0?p=h.isub(this.m):h.cmpn(0)<0&&(p=h.iadd(this.m)),p._forceRed(this)},he.prototype.invm=function(d){var s=this.imod(d._invmp(this.m).mul(this.r2));return s._forceRed(this)}})(e,Ie)})(ur);var dv=ur.exports,rn=ur.exports,vv=To.ec,rf=new vv("secp256k1"),Tn=rf.curve;Ai.privateKeyExport=function(e,t){var r=new rn(e);if(r.ucmp(Tn.n)>=0)throw new Error("couldn't export to DER format");var n=rf.g.mul(r);return D0(n.getX(),n.getY(),t)};Ai.privateKeyModInverse=function(e){var t=new rn(e);if(t.ucmp(Tn.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(Tn.n).toArrayLike(L,"be",32)};Ai.signatureImport=function(e){var t=new rn(e.r);t.ucmp(Tn.n)>=0&&(t=new rn(0));var r=new rn(e.s);return r.ucmp(Tn.n)>=0&&(r=new rn(0)),L.concat([t.toArrayLike(L,"be",32),r.toArrayLike(L,"be",32)])};Ai.ecdhUnsafe=function(e,t,r){var n=rf.keyFromPublic(e),o=new rn(t);if(o.ucmp(Tn.n)>=0||o.isZero())throw new Error("scalar was invalid (zero or overflow)");var i=n.pub.mul(o);return D0(i.getX(),i.getY(),r)};var D0=function(t,r,n){var o=void 0;return n?(o=L.alloc(33),o[0]=r.isOdd()?3:2,t.toArrayLike(L,"be",32).copy(o,1)):(o=L.alloc(65),o[0]=4,t.toArrayLike(L,"be",32).copy(o,1),r.toArrayLike(L,"be",32).copy(o,33)),o},Do={},pv=L.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),gv=L.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Do.privateKeyExport=function(e,t,r){var n=L.from(r?pv:gv);return e.copy(n,r?8:9),t.copy(n,r?181:214),n};Do.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||e[r]!==48||(r+=1,t<r+1||!(e[r]&128)))return null;var n=e[r]&127;if(r+=1,n<1||n>2||t<r+n)return null;var o=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return r+=n,t<r+o||t<r+3||e[r]!==2||e[r+1]!==1||e[r+2]!==1||(r+=3,t<r+2||e[r]!==4||e[r+1]>32||t<r+2+e[r+1])?null:e.slice(r+2,r+2+e[r+1])};Do.signatureImportLax=function(e){var t=L.alloc(32,0),r=L.alloc(32,0),n=e.length,o=0;if(e[o++]!==48)return null;var i=e[o++];if(i&128&&(o+=i-128,o>n)||e[o++]!==2)return null;var l=e[o++];if(l&128){if(i=l-128,o+i>n)return null;for(;i>0&&e[o]===0;o+=1,i-=1);for(l=0;i>0;o+=1,i-=1)l=(l<<8)+e[o]}if(l>n-o)return null;var v=o;if(o+=l,e[o++]!==2)return null;var g=e[o++];if(g&128){if(i=g-128,o+i>n)return null;for(;i>0&&e[o]===0;o+=1,i-=1);for(g=0;i>0;o+=1,i-=1)g=(g<<8)+e[o]}if(g>n-o)return null;var x=o;for(o+=g;l>0&&e[v]===0;l-=1,v+=1);if(l>32)return null;var y=e.slice(v,v+l);for(y.copy(t,32-y.length);g>0&&e[x]===0;g-=1,x+=1);if(g>32)return null;var S=e.slice(x,x+g);return S.copy(r,32-S.length),{r:t,s:r}};var bt=Js,Ho=Ai,nf=Do,H0=function(t){return t.length!==32?!1:bt.privateKeyVerify(Uint8Array.from(t))},mv=function(t,r){if(t.length!==32)throw new RangeError("private key length is invalid");var n=Ho.privateKeyExport(t,r);return nf.privateKeyExport(t,n,r)},_v=function(t){if(t=nf.privateKeyImport(t),t!==null&&t.length===32&&H0(t))return t;throw new Error("couldn't import from DER format")},yv=function(t){return L.from(bt.privateKeyNegate(Uint8Array.from(t)))},wv=function(t){if(t.length!==32)throw new Error("private key length is invalid");return L.from(Ho.privateKeyModInverse(Uint8Array.from(t)))},bv=function(t,r){return L.from(bt.privateKeyTweakAdd(Uint8Array.from(t),r))},xv=function(t,r){return L.from(bt.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r)))},Mv=function(t,r){return L.from(bt.publicKeyCreate(Uint8Array.from(t),r))},Sv=function(t,r){return L.from(bt.publicKeyConvert(Uint8Array.from(t),r))},Ev=function(t){return t.length!==33&&t.length!==65?!1:bt.publicKeyVerify(Uint8Array.from(t))},Av=function(t,r,n){return L.from(bt.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(r),n))},Rv=function(t,r,n){return L.from(bt.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r),n))},kv=function(t,r){var n=[];return t.forEach(function(o){n.push(Uint8Array.from(o))}),L.from(bt.publicKeyCombine(n,r))},Tv=function(t){return L.from(bt.signatureNormalize(Uint8Array.from(t)))},Cv=function(t){return L.from(bt.signatureExport(Uint8Array.from(t)))},Iv=function(t){return L.from(bt.signatureImport(Uint8Array.from(t)))},Pv=function(t){if(t.length===0)throw new RangeError("signature length is invalid");var r=nf.signatureImportLax(t);if(r===null)throw new Error("couldn't parse DER signature");return Ho.signatureImport(r)},Bv=function(t,r,n){if(n===null)throw new TypeError("options should be an Object");var o=void 0;if(n){if(o={},n.data===null)throw new TypeError("options.data should be a Buffer");if(n.data){if(n.data.length!==32)throw new RangeError("options.data length is invalid");o.data=new Uint8Array(n.data)}if(n.noncefn===null)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(o.noncefn=function(l,v,g,x,y){var S=g!=null?L.from(g):null,R=x!=null?L.from(x):null,I=L.from("");return n.noncefn&&(I=n.noncefn(L.from(l),L.from(v),S,R,y)),Uint8Array.from(I)})}var i=bt.ecdsaSign(Uint8Array.from(t),Uint8Array.from(r),o);return{signature:L.from(i.signature),recovery:i.recid}},Ov=function(t,r,n){return bt.ecdsaVerify(Uint8Array.from(r),Uint8Array.from(t),n)},Lv=function(t,r,n,o){return L.from(bt.ecdsaRecover(Uint8Array.from(r),n,Uint8Array.from(t),o))},Nv=function(t,r){return L.from(bt.ecdh(Uint8Array.from(t),Uint8Array.from(r),{}))},qv=function(t,r,n){if(t.length!==33&&t.length!==65)throw new RangeError("public key length is invalid");if(r.length!==32)throw new RangeError("private key length is invalid");return L.from(Ho.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(r),n))},Uv={privateKeyVerify:H0,privateKeyExport:mv,privateKeyImport:_v,privateKeyNegate:yv,privateKeyModInverse:wv,privateKeyTweakAdd:bv,privateKeyTweakMul:xv,publicKeyCreate:Mv,publicKeyConvert:Sv,publicKeyVerify:Ev,publicKeyTweakAdd:Av,publicKeyTweakMul:Rv,publicKeyCombine:kv,signatureNormalize:Tv,signatureExport:Cv,signatureImport:Iv,signatureImportLax:Pv,sign:Bv,verify:Ov,recover:Lv,ecdh:Nv,ecdhUnsafe:qv},ar={},F0={exports:{}};(function(e){(function(t,r){function n(f,a){if(!f)throw new Error(a||"Assertion failed")}function o(f,a){f.super_=a;var h=function(){};h.prototype=a.prototype,f.prototype=new h,f.prototype.constructor=f}function i(f,a,h){if(i.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((a==="le"||a==="be")&&(h=a,a=10),this._init(f||0,a||10,h||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var l;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?l=window.Buffer:l=require("buffer").Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,h){return a.cmp(h)>0?a:h},i.min=function(a,h){return a.cmp(h)<0?a:h},i.prototype._init=function(a,h,p){if(typeof a=="number")return this._initNumber(a,h,p);if(typeof a=="object")return this._initArray(a,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),a=a.toString().replace(/\s+/g,"");var w=0;a[0]==="-"&&(w++,this.negative=1),w<a.length&&(h===16?this._parseHex(a,w,p):(this._parseBase(a,h,w),p==="le"&&this._initArray(this.toArray(),h,p)))},i.prototype._initNumber=function(a,h,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},i.prototype._initArray=function(a,h,p){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var m,u,c=0;if(p==="be")for(w=a.length-1,m=0;w>=0;w-=3)u=a[w]|a[w-1]<<8|a[w-2]<<16,this.words[m]|=u<<c&67108863,this.words[m+1]=u>>>26-c&67108863,c+=24,c>=26&&(c-=26,m++);else if(p==="le")for(w=0,m=0;w<a.length;w+=3)u=a[w]|a[w+1]<<8|a[w+2]<<16,this.words[m]|=u<<c&67108863,this.words[m+1]=u>>>26-c&67108863,c+=24,c>=26&&(c-=26,m++);return this._strip()};function v(f,a){var h=f.charCodeAt(a);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+f)}function g(f,a,h){var p=v(f,h);return h-1>=a&&(p|=v(f,h-1)<<4),p}i.prototype._parseHex=function(a,h,p){this.length=Math.ceil((a.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var m=0,u=0,c;if(p==="be")for(w=a.length-1;w>=h;w-=2)c=g(a,h,w)<<m,this.words[u]|=c&67108863,m>=18?(m-=18,u+=1,this.words[u]|=c>>>26):m+=8;else{var b=a.length-h;for(w=b%2===0?h+1:h;w<a.length;w+=2)c=g(a,h,w)<<m,this.words[u]|=c&67108863,m>=18?(m-=18,u+=1,this.words[u]|=c>>>26):m+=8}this._strip()};function x(f,a,h,p){for(var w=0,m=0,u=Math.min(f.length,h),c=a;c<u;c++){var b=f.charCodeAt(c)-48;w*=p,b>=49?m=b-49+10:b>=17?m=b-17+10:m=b,n(b>=0&&m<p,"Invalid character"),w+=m}return w}i.prototype._parseBase=function(a,h,p){this.words=[0],this.length=1;for(var w=0,m=1;m<=67108863;m*=h)w++;w--,m=m/h|0;for(var u=a.length-p,c=u%w,b=Math.min(u,u-c)+p,_=0,E=p;E<b;E+=w)_=x(a,E,E+w,h),this.imuln(m),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(c!==0){var N=1;for(_=x(a,E,a.length,h),E=0;E<c;E++)N*=h;this.imuln(N),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var h=0;h<this.length;h++)a.words[h]=this.words[h];a.length=this.length,a.negative=this.negative,a.red=this.red};function y(f,a){f.words=a.words,f.length=a.length,f.negative=a.negative,f.red=a.red}if(i.prototype._move=function(a){y(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{i.prototype.inspect=S}else i.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,h){a=a||10,h=h|0||1;var p;if(a===16||a==="hex"){p="";for(var w=0,m=0,u=0;u<this.length;u++){var c=this.words[u],b=((c<<w|m)&16777215).toString(16);m=c>>>24-w&16777215,w+=2,w>=26&&(w-=26,u--),m!==0||u!==this.length-1?p=R[6-b.length]+b+p:p=b+p}for(m!==0&&(p=m.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var _=I[a],E=M[a];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var q=N.modrn(E).toString(a);N=N.idivn(E),N.isZero()?p=q+p:p=R[_-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},l&&(i.prototype.toBuffer=function(a,h){return this.toArrayLike(l,a,h)}),i.prototype.toArray=function(a,h){return this.toArrayLike(Array,a,h)};var T=function(a,h){return a.allocUnsafe?a.allocUnsafe(h):new a(h)};i.prototype.toArrayLike=function(a,h,p){this._strip();var w=this.byteLength(),m=p||Math.max(1,w);n(w<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0");var u=T(a,m),c=h==="le"?"LE":"BE";return this["_toArrayLike"+c](u,w),u},i.prototype._toArrayLikeLE=function(a,h){for(var p=0,w=0,m=0,u=0;m<this.length;m++){var c=this.words[m]<<u|w;a[p++]=c&255,p<a.length&&(a[p++]=c>>8&255),p<a.length&&(a[p++]=c>>16&255),u===6?(p<a.length&&(a[p++]=c>>24&255),w=0,u=0):(w=c>>>24,u+=2)}if(p<a.length)for(a[p++]=w;p<a.length;)a[p++]=0},i.prototype._toArrayLikeBE=function(a,h){for(var p=a.length-1,w=0,m=0,u=0;m<this.length;m++){var c=this.words[m]<<u|w;a[p--]=c&255,p>=0&&(a[p--]=c>>8&255),p>=0&&(a[p--]=c>>16&255),u===6?(p>=0&&(a[p--]=c>>24&255),w=0,u=0):(w=c>>>24,u+=2)}if(p>=0)for(a[p--]=w;p>=0;)a[p--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var h=a,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},i.prototype._zeroBits=function(a){if(a===0)return 26;var h=a,p=0;return(h&8191)===0&&(p+=13,h>>>=13),(h&127)===0&&(p+=7,h>>>=7),(h&15)===0&&(p+=4,h>>>=4),(h&3)===0&&(p+=2,h>>>=2),(h&1)===0&&p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],h=this._countBits(a);return(this.length-1)*26+h};function A(f){for(var a=new Array(f.bitLength()),h=0;h<a.length;h++){var p=h/26|0,w=h%26;a[h]=f.words[p]>>>w&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var h=0;h<a.length;h++)this.words[h]=this.words[h]|a.words[h];return this._strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var h;this.length>a.length?h=a:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=h.length,this._strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var h,p;this.length>a.length?(h=this,p=a):(h=a,p=this);for(var w=0;w<p.length;w++)this.words[w]=h.words[w]^p.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this._strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var h=Math.ceil(a/26)|0,p=a%26;this._expand(h),p>0&&h--;for(var w=0;w<h;w++)this.words[w]=~this.words[w]&67108863;return p>0&&(this.words[w]=~this.words[w]&67108863>>26-p),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,h){n(typeof a=="number"&&a>=0);var p=a/26|0,w=a%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<w:this.words[p]=this.words[p]&~(1<<w),this._strip()},i.prototype.iadd=function(a){var h;if(this.negative!==0&&a.negative===0)return this.negative=0,h=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,h=this.isub(a),a.negative=1,h._normSign();var p,w;this.length>a.length?(p=this,w=a):(p=a,w=this);for(var m=0,u=0;u<w.length;u++)h=(p.words[u]|0)+(w.words[u]|0)+m,this.words[u]=h&67108863,m=h>>>26;for(;m!==0&&u<p.length;u++)h=(p.words[u]|0)+m,this.words[u]=h&67108863,m=h>>>26;if(this.length=p.length,m!==0)this.words[this.length]=m,this.length++;else if(p!==this)for(;u<p.length;u++)this.words[u]=p.words[u];return this},i.prototype.add=function(a){var h;return a.negative!==0&&this.negative===0?(a.negative=0,h=this.sub(a),a.negative^=1,h):a.negative===0&&this.negative!==0?(this.negative=0,h=a.sub(this),this.negative=1,h):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var h=this.iadd(a);return a.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,m;p>0?(w=this,m=a):(w=a,m=this);for(var u=0,c=0;c<m.length;c++)h=(w.words[c]|0)-(m.words[c]|0)+u,u=h>>26,this.words[c]=h&67108863;for(;u!==0&&c<w.length;c++)h=(w.words[c]|0)+u,u=h>>26,this.words[c]=h&67108863;if(u===0&&c<w.length&&w!==this)for(;c<w.length;c++)this.words[c]=w.words[c];return this.length=Math.max(this.length,c),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function C(f,a,h){h.negative=a.negative^f.negative;var p=f.length+a.length|0;h.length=p,p=p-1|0;var w=f.words[0]|0,m=a.words[0]|0,u=w*m,c=u&67108863,b=u/67108864|0;h.words[0]=c;for(var _=1;_<p;_++){for(var E=b>>>26,N=b&67108863,q=Math.min(_,a.length-1),U=Math.max(0,_-f.length+1);U<=q;U++){var ue=_-U|0;w=f.words[ue]|0,m=a.words[U]|0,u=w*m+N,E+=u/67108864|0,N=u&67108863}h.words[_]=N|0,b=E|0}return b!==0?h.words[_]=b|0:h.length--,h._strip()}var k=function(a,h,p){var w=a.words,m=h.words,u=p.words,c=0,b,_,E,N=w[0]|0,q=N&8191,U=N>>>13,ue=w[1]|0,W=ue&8191,H=ue>>>13,$e=w[2]|0,ve=$e&8191,j=$e>>>13,je=w[3]|0,pe=je&8191,G=je>>>13,Ge=w[4]|0,ge=Ge&8191,V=Ge>>>13,Ve=w[5]|0,me=Ve&8191,Z=Ve>>>13,Ze=w[6]|0,_e=Ze&8191,J=Ze>>>13,Je=w[7]|0,ye=Je&8191,Y=Je>>>13,Ye=w[8]|0,we=Ye&8191,X=Ye>>>13,Xe=w[9]|0,be=Xe&8191,Q=Xe>>>13,Qe=m[0]|0,xe=Qe&8191,ee=Qe>>>13,et=m[1]|0,Me=et&8191,te=et>>>13,tt=m[2]|0,Se=tt&8191,re=tt>>>13,rt=m[3]|0,Ee=rt&8191,ne=rt>>>13,nt=m[4]|0,Ae=nt&8191,ie=nt>>>13,it=m[5]|0,Re=it&8191,oe=it>>>13,ot=m[6]|0,ke=ot&8191,ae=ot>>>13,at=m[7]|0,Te=at&8191,se=at>>>13,st=m[8]|0,Ce=st&8191,fe=st>>>13,Ke=m[9]|0,He=Ke&8191,Fe=Ke>>>13;p.negative=a.negative^h.negative,p.length=19,b=Math.imul(q,xe),_=Math.imul(q,ee),_=_+Math.imul(U,xe)|0,E=Math.imul(U,ee);var Ft=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,b=Math.imul(W,xe),_=Math.imul(W,ee),_=_+Math.imul(H,xe)|0,E=Math.imul(H,ee),b=b+Math.imul(q,Me)|0,_=_+Math.imul(q,te)|0,_=_+Math.imul(U,Me)|0,E=E+Math.imul(U,te)|0;var zt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,b=Math.imul(ve,xe),_=Math.imul(ve,ee),_=_+Math.imul(j,xe)|0,E=Math.imul(j,ee),b=b+Math.imul(W,Me)|0,_=_+Math.imul(W,te)|0,_=_+Math.imul(H,Me)|0,E=E+Math.imul(H,te)|0,b=b+Math.imul(q,Se)|0,_=_+Math.imul(q,re)|0,_=_+Math.imul(U,Se)|0,E=E+Math.imul(U,re)|0;var Kt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,b=Math.imul(pe,xe),_=Math.imul(pe,ee),_=_+Math.imul(G,xe)|0,E=Math.imul(G,ee),b=b+Math.imul(ve,Me)|0,_=_+Math.imul(ve,te)|0,_=_+Math.imul(j,Me)|0,E=E+Math.imul(j,te)|0,b=b+Math.imul(W,Se)|0,_=_+Math.imul(W,re)|0,_=_+Math.imul(H,Se)|0,E=E+Math.imul(H,re)|0,b=b+Math.imul(q,Ee)|0,_=_+Math.imul(q,ne)|0,_=_+Math.imul(U,Ee)|0,E=E+Math.imul(U,ne)|0;var Wt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,b=Math.imul(ge,xe),_=Math.imul(ge,ee),_=_+Math.imul(V,xe)|0,E=Math.imul(V,ee),b=b+Math.imul(pe,Me)|0,_=_+Math.imul(pe,te)|0,_=_+Math.imul(G,Me)|0,E=E+Math.imul(G,te)|0,b=b+Math.imul(ve,Se)|0,_=_+Math.imul(ve,re)|0,_=_+Math.imul(j,Se)|0,E=E+Math.imul(j,re)|0,b=b+Math.imul(W,Ee)|0,_=_+Math.imul(W,ne)|0,_=_+Math.imul(H,Ee)|0,E=E+Math.imul(H,ne)|0,b=b+Math.imul(q,Ae)|0,_=_+Math.imul(q,ie)|0,_=_+Math.imul(U,Ae)|0,E=E+Math.imul(U,ie)|0;var jt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,b=Math.imul(me,xe),_=Math.imul(me,ee),_=_+Math.imul(Z,xe)|0,E=Math.imul(Z,ee),b=b+Math.imul(ge,Me)|0,_=_+Math.imul(ge,te)|0,_=_+Math.imul(V,Me)|0,E=E+Math.imul(V,te)|0,b=b+Math.imul(pe,Se)|0,_=_+Math.imul(pe,re)|0,_=_+Math.imul(G,Se)|0,E=E+Math.imul(G,re)|0,b=b+Math.imul(ve,Ee)|0,_=_+Math.imul(ve,ne)|0,_=_+Math.imul(j,Ee)|0,E=E+Math.imul(j,ne)|0,b=b+Math.imul(W,Ae)|0,_=_+Math.imul(W,ie)|0,_=_+Math.imul(H,Ae)|0,E=E+Math.imul(H,ie)|0,b=b+Math.imul(q,Re)|0,_=_+Math.imul(q,oe)|0,_=_+Math.imul(U,Re)|0,E=E+Math.imul(U,oe)|0;var Gt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,b=Math.imul(_e,xe),_=Math.imul(_e,ee),_=_+Math.imul(J,xe)|0,E=Math.imul(J,ee),b=b+Math.imul(me,Me)|0,_=_+Math.imul(me,te)|0,_=_+Math.imul(Z,Me)|0,E=E+Math.imul(Z,te)|0,b=b+Math.imul(ge,Se)|0,_=_+Math.imul(ge,re)|0,_=_+Math.imul(V,Se)|0,E=E+Math.imul(V,re)|0,b=b+Math.imul(pe,Ee)|0,_=_+Math.imul(pe,ne)|0,_=_+Math.imul(G,Ee)|0,E=E+Math.imul(G,ne)|0,b=b+Math.imul(ve,Ae)|0,_=_+Math.imul(ve,ie)|0,_=_+Math.imul(j,Ae)|0,E=E+Math.imul(j,ie)|0,b=b+Math.imul(W,Re)|0,_=_+Math.imul(W,oe)|0,_=_+Math.imul(H,Re)|0,E=E+Math.imul(H,oe)|0,b=b+Math.imul(q,ke)|0,_=_+Math.imul(q,ae)|0,_=_+Math.imul(U,ke)|0,E=E+Math.imul(U,ae)|0;var Vt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,b=Math.imul(ye,xe),_=Math.imul(ye,ee),_=_+Math.imul(Y,xe)|0,E=Math.imul(Y,ee),b=b+Math.imul(_e,Me)|0,_=_+Math.imul(_e,te)|0,_=_+Math.imul(J,Me)|0,E=E+Math.imul(J,te)|0,b=b+Math.imul(me,Se)|0,_=_+Math.imul(me,re)|0,_=_+Math.imul(Z,Se)|0,E=E+Math.imul(Z,re)|0,b=b+Math.imul(ge,Ee)|0,_=_+Math.imul(ge,ne)|0,_=_+Math.imul(V,Ee)|0,E=E+Math.imul(V,ne)|0,b=b+Math.imul(pe,Ae)|0,_=_+Math.imul(pe,ie)|0,_=_+Math.imul(G,Ae)|0,E=E+Math.imul(G,ie)|0,b=b+Math.imul(ve,Re)|0,_=_+Math.imul(ve,oe)|0,_=_+Math.imul(j,Re)|0,E=E+Math.imul(j,oe)|0,b=b+Math.imul(W,ke)|0,_=_+Math.imul(W,ae)|0,_=_+Math.imul(H,ke)|0,E=E+Math.imul(H,ae)|0,b=b+Math.imul(q,Te)|0,_=_+Math.imul(q,se)|0,_=_+Math.imul(U,Te)|0,E=E+Math.imul(U,se)|0;var Zt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,b=Math.imul(we,xe),_=Math.imul(we,ee),_=_+Math.imul(X,xe)|0,E=Math.imul(X,ee),b=b+Math.imul(ye,Me)|0,_=_+Math.imul(ye,te)|0,_=_+Math.imul(Y,Me)|0,E=E+Math.imul(Y,te)|0,b=b+Math.imul(_e,Se)|0,_=_+Math.imul(_e,re)|0,_=_+Math.imul(J,Se)|0,E=E+Math.imul(J,re)|0,b=b+Math.imul(me,Ee)|0,_=_+Math.imul(me,ne)|0,_=_+Math.imul(Z,Ee)|0,E=E+Math.imul(Z,ne)|0,b=b+Math.imul(ge,Ae)|0,_=_+Math.imul(ge,ie)|0,_=_+Math.imul(V,Ae)|0,E=E+Math.imul(V,ie)|0,b=b+Math.imul(pe,Re)|0,_=_+Math.imul(pe,oe)|0,_=_+Math.imul(G,Re)|0,E=E+Math.imul(G,oe)|0,b=b+Math.imul(ve,ke)|0,_=_+Math.imul(ve,ae)|0,_=_+Math.imul(j,ke)|0,E=E+Math.imul(j,ae)|0,b=b+Math.imul(W,Te)|0,_=_+Math.imul(W,se)|0,_=_+Math.imul(H,Te)|0,E=E+Math.imul(H,se)|0,b=b+Math.imul(q,Ce)|0,_=_+Math.imul(q,fe)|0,_=_+Math.imul(U,Ce)|0,E=E+Math.imul(U,fe)|0;var Jt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,b=Math.imul(be,xe),_=Math.imul(be,ee),_=_+Math.imul(Q,xe)|0,E=Math.imul(Q,ee),b=b+Math.imul(we,Me)|0,_=_+Math.imul(we,te)|0,_=_+Math.imul(X,Me)|0,E=E+Math.imul(X,te)|0,b=b+Math.imul(ye,Se)|0,_=_+Math.imul(ye,re)|0,_=_+Math.imul(Y,Se)|0,E=E+Math.imul(Y,re)|0,b=b+Math.imul(_e,Ee)|0,_=_+Math.imul(_e,ne)|0,_=_+Math.imul(J,Ee)|0,E=E+Math.imul(J,ne)|0,b=b+Math.imul(me,Ae)|0,_=_+Math.imul(me,ie)|0,_=_+Math.imul(Z,Ae)|0,E=E+Math.imul(Z,ie)|0,b=b+Math.imul(ge,Re)|0,_=_+Math.imul(ge,oe)|0,_=_+Math.imul(V,Re)|0,E=E+Math.imul(V,oe)|0,b=b+Math.imul(pe,ke)|0,_=_+Math.imul(pe,ae)|0,_=_+Math.imul(G,ke)|0,E=E+Math.imul(G,ae)|0,b=b+Math.imul(ve,Te)|0,_=_+Math.imul(ve,se)|0,_=_+Math.imul(j,Te)|0,E=E+Math.imul(j,se)|0,b=b+Math.imul(W,Ce)|0,_=_+Math.imul(W,fe)|0,_=_+Math.imul(H,Ce)|0,E=E+Math.imul(H,fe)|0,b=b+Math.imul(q,He)|0,_=_+Math.imul(q,Fe)|0,_=_+Math.imul(U,He)|0,E=E+Math.imul(U,Fe)|0;var Yt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,b=Math.imul(be,Me),_=Math.imul(be,te),_=_+Math.imul(Q,Me)|0,E=Math.imul(Q,te),b=b+Math.imul(we,Se)|0,_=_+Math.imul(we,re)|0,_=_+Math.imul(X,Se)|0,E=E+Math.imul(X,re)|0,b=b+Math.imul(ye,Ee)|0,_=_+Math.imul(ye,ne)|0,_=_+Math.imul(Y,Ee)|0,E=E+Math.imul(Y,ne)|0,b=b+Math.imul(_e,Ae)|0,_=_+Math.imul(_e,ie)|0,_=_+Math.imul(J,Ae)|0,E=E+Math.imul(J,ie)|0,b=b+Math.imul(me,Re)|0,_=_+Math.imul(me,oe)|0,_=_+Math.imul(Z,Re)|0,E=E+Math.imul(Z,oe)|0,b=b+Math.imul(ge,ke)|0,_=_+Math.imul(ge,ae)|0,_=_+Math.imul(V,ke)|0,E=E+Math.imul(V,ae)|0,b=b+Math.imul(pe,Te)|0,_=_+Math.imul(pe,se)|0,_=_+Math.imul(G,Te)|0,E=E+Math.imul(G,se)|0,b=b+Math.imul(ve,Ce)|0,_=_+Math.imul(ve,fe)|0,_=_+Math.imul(j,Ce)|0,E=E+Math.imul(j,fe)|0,b=b+Math.imul(W,He)|0,_=_+Math.imul(W,Fe)|0,_=_+Math.imul(H,He)|0,E=E+Math.imul(H,Fe)|0;var Xt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,b=Math.imul(be,Se),_=Math.imul(be,re),_=_+Math.imul(Q,Se)|0,E=Math.imul(Q,re),b=b+Math.imul(we,Ee)|0,_=_+Math.imul(we,ne)|0,_=_+Math.imul(X,Ee)|0,E=E+Math.imul(X,ne)|0,b=b+Math.imul(ye,Ae)|0,_=_+Math.imul(ye,ie)|0,_=_+Math.imul(Y,Ae)|0,E=E+Math.imul(Y,ie)|0,b=b+Math.imul(_e,Re)|0,_=_+Math.imul(_e,oe)|0,_=_+Math.imul(J,Re)|0,E=E+Math.imul(J,oe)|0,b=b+Math.imul(me,ke)|0,_=_+Math.imul(me,ae)|0,_=_+Math.imul(Z,ke)|0,E=E+Math.imul(Z,ae)|0,b=b+Math.imul(ge,Te)|0,_=_+Math.imul(ge,se)|0,_=_+Math.imul(V,Te)|0,E=E+Math.imul(V,se)|0,b=b+Math.imul(pe,Ce)|0,_=_+Math.imul(pe,fe)|0,_=_+Math.imul(G,Ce)|0,E=E+Math.imul(G,fe)|0,b=b+Math.imul(ve,He)|0,_=_+Math.imul(ve,Fe)|0,_=_+Math.imul(j,He)|0,E=E+Math.imul(j,Fe)|0;var Qt=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,b=Math.imul(be,Ee),_=Math.imul(be,ne),_=_+Math.imul(Q,Ee)|0,E=Math.imul(Q,ne),b=b+Math.imul(we,Ae)|0,_=_+Math.imul(we,ie)|0,_=_+Math.imul(X,Ae)|0,E=E+Math.imul(X,ie)|0,b=b+Math.imul(ye,Re)|0,_=_+Math.imul(ye,oe)|0,_=_+Math.imul(Y,Re)|0,E=E+Math.imul(Y,oe)|0,b=b+Math.imul(_e,ke)|0,_=_+Math.imul(_e,ae)|0,_=_+Math.imul(J,ke)|0,E=E+Math.imul(J,ae)|0,b=b+Math.imul(me,Te)|0,_=_+Math.imul(me,se)|0,_=_+Math.imul(Z,Te)|0,E=E+Math.imul(Z,se)|0,b=b+Math.imul(ge,Ce)|0,_=_+Math.imul(ge,fe)|0,_=_+Math.imul(V,Ce)|0,E=E+Math.imul(V,fe)|0,b=b+Math.imul(pe,He)|0,_=_+Math.imul(pe,Fe)|0,_=_+Math.imul(G,He)|0,E=E+Math.imul(G,Fe)|0;var er=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(er>>>26)|0,er&=67108863,b=Math.imul(be,Ae),_=Math.imul(be,ie),_=_+Math.imul(Q,Ae)|0,E=Math.imul(Q,ie),b=b+Math.imul(we,Re)|0,_=_+Math.imul(we,oe)|0,_=_+Math.imul(X,Re)|0,E=E+Math.imul(X,oe)|0,b=b+Math.imul(ye,ke)|0,_=_+Math.imul(ye,ae)|0,_=_+Math.imul(Y,ke)|0,E=E+Math.imul(Y,ae)|0,b=b+Math.imul(_e,Te)|0,_=_+Math.imul(_e,se)|0,_=_+Math.imul(J,Te)|0,E=E+Math.imul(J,se)|0,b=b+Math.imul(me,Ce)|0,_=_+Math.imul(me,fe)|0,_=_+Math.imul(Z,Ce)|0,E=E+Math.imul(Z,fe)|0,b=b+Math.imul(ge,He)|0,_=_+Math.imul(ge,Fe)|0,_=_+Math.imul(V,He)|0,E=E+Math.imul(V,Fe)|0;var tr=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(tr>>>26)|0,tr&=67108863,b=Math.imul(be,Re),_=Math.imul(be,oe),_=_+Math.imul(Q,Re)|0,E=Math.imul(Q,oe),b=b+Math.imul(we,ke)|0,_=_+Math.imul(we,ae)|0,_=_+Math.imul(X,ke)|0,E=E+Math.imul(X,ae)|0,b=b+Math.imul(ye,Te)|0,_=_+Math.imul(ye,se)|0,_=_+Math.imul(Y,Te)|0,E=E+Math.imul(Y,se)|0,b=b+Math.imul(_e,Ce)|0,_=_+Math.imul(_e,fe)|0,_=_+Math.imul(J,Ce)|0,E=E+Math.imul(J,fe)|0,b=b+Math.imul(me,He)|0,_=_+Math.imul(me,Fe)|0,_=_+Math.imul(Z,He)|0,E=E+Math.imul(Z,Fe)|0;var rr=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(rr>>>26)|0,rr&=67108863,b=Math.imul(be,ke),_=Math.imul(be,ae),_=_+Math.imul(Q,ke)|0,E=Math.imul(Q,ae),b=b+Math.imul(we,Te)|0,_=_+Math.imul(we,se)|0,_=_+Math.imul(X,Te)|0,E=E+Math.imul(X,se)|0,b=b+Math.imul(ye,Ce)|0,_=_+Math.imul(ye,fe)|0,_=_+Math.imul(Y,Ce)|0,E=E+Math.imul(Y,fe)|0,b=b+Math.imul(_e,He)|0,_=_+Math.imul(_e,Fe)|0,_=_+Math.imul(J,He)|0,E=E+Math.imul(J,Fe)|0;var nr=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(nr>>>26)|0,nr&=67108863,b=Math.imul(be,Te),_=Math.imul(be,se),_=_+Math.imul(Q,Te)|0,E=Math.imul(Q,se),b=b+Math.imul(we,Ce)|0,_=_+Math.imul(we,fe)|0,_=_+Math.imul(X,Ce)|0,E=E+Math.imul(X,fe)|0,b=b+Math.imul(ye,He)|0,_=_+Math.imul(ye,Fe)|0,_=_+Math.imul(Y,He)|0,E=E+Math.imul(Y,Fe)|0;var Gr=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,b=Math.imul(be,Ce),_=Math.imul(be,fe),_=_+Math.imul(Q,Ce)|0,E=Math.imul(Q,fe),b=b+Math.imul(we,He)|0,_=_+Math.imul(we,Fe)|0,_=_+Math.imul(X,He)|0,E=E+Math.imul(X,Fe)|0;var xa=(c+b|0)+((_&8191)<<13)|0;c=(E+(_>>>13)|0)+(xa>>>26)|0,xa&=67108863,b=Math.imul(be,He),_=Math.imul(be,Fe),_=_+Math.imul(Q,He)|0,E=Math.imul(Q,Fe);var Ma=(c+b|0)+((_&8191)<<13)|0;return c=(E+(_>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,u[0]=Ft,u[1]=zt,u[2]=Kt,u[3]=Wt,u[4]=jt,u[5]=Gt,u[6]=Vt,u[7]=Zt,u[8]=Jt,u[9]=Yt,u[10]=Xt,u[11]=Qt,u[12]=er,u[13]=tr,u[14]=rr,u[15]=nr,u[16]=Gr,u[17]=xa,u[18]=Ma,c!==0&&(u[19]=c,p.length++),p};Math.imul||(k=C);function B(f,a,h){h.negative=a.negative^f.negative,h.length=f.length+a.length;for(var p=0,w=0,m=0;m<h.length-1;m++){var u=w;w=0;for(var c=p&67108863,b=Math.min(m,a.length-1),_=Math.max(0,m-f.length+1);_<=b;_++){var E=m-_,N=f.words[E]|0,q=a.words[_]|0,U=N*q,ue=U&67108863;u=u+(U/67108864|0)|0,ue=ue+c|0,c=ue&67108863,u=u+(ue>>>26)|0,w+=u>>>26,u&=67108863}h.words[m]=c,p=u,u=w}return p!==0?h.words[m]=p:h.length--,h._strip()}function O(f,a,h){return B(f,a,h)}i.prototype.mulTo=function(a,h){var p,w=this.length+a.length;return this.length===10&&a.length===10?p=k(this,a,h):w<63?p=C(this,a,h):w<1024?p=B(this,a,h):p=O(this,a,h),p},i.prototype.mul=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),this.mulTo(a,h)},i.prototype.mulf=function(a){var h=new i(null);return h.words=new Array(this.length+a.length),O(this,a,h)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var h=a<0;h&&(a=-a),n(typeof a=="number"),n(a<67108864);for(var p=0,w=0;w<this.length;w++){var m=(this.words[w]|0)*a,u=(m&67108863)+(p&67108863);p>>=26,p+=m/67108864|0,p+=u>>>26,this.words[w]=u&67108863}return p!==0&&(this.words[w]=p,this.length++),h?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var h=A(a);if(h.length===0)return new i(1);for(var p=this,w=0;w<h.length&&h[w]===0;w++,p=p.sqr());if(++w<h.length)for(var m=p.sqr();w<h.length;w++,m=m.sqr())h[w]!==0&&(p=p.mul(m));return p},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var h=a%26,p=(a-h)/26,w=67108863>>>26-h<<26-h,m;if(h!==0){var u=0;for(m=0;m<this.length;m++){var c=this.words[m]&w,b=(this.words[m]|0)-c<<h;this.words[m]=b|u,u=c>>>26-h}u&&(this.words[m]=u,this.length++)}if(p!==0){for(m=this.length-1;m>=0;m--)this.words[m+p]=this.words[m];for(m=0;m<p;m++)this.words[m]=0;this.length+=p}return this._strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,h,p){n(typeof a=="number"&&a>=0);var w;h?w=(h-h%26)/26:w=0;var m=a%26,u=Math.min((a-m)/26,this.length),c=67108863^67108863>>>m<<m,b=p;if(w-=u,w=Math.max(0,w),b){for(var _=0;_<u;_++)b.words[_]=this.words[_];b.length=u}if(u!==0)if(this.length>u)for(this.length-=u,_=0;_<this.length;_++)this.words[_]=this.words[_+u];else this.words[0]=0,this.length=1;var E=0;for(_=this.length-1;_>=0&&(E!==0||_>=w);_--){var N=this.words[_]|0;this.words[_]=E<<26-m|N>>>m,E=N&c}return b&&E!==0&&(b.words[b.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,h,p){return n(this.negative===0),this.iushrn(a,h,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var h=a%26,p=(a-h)/26,w=1<<h;if(this.length<=p)return!1;var m=this.words[p];return!!(m&w)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var h=a%26,p=(a-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var w=67108863^67108863>>>h<<h;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,h,p){var w=a.length+p,m;this._expand(w);var u,c=0;for(m=0;m<a.length;m++){u=(this.words[m+p]|0)+c;var b=(a.words[m]|0)*h;u-=b&67108863,c=(u>>26)-(b/67108864|0),this.words[m+p]=u&67108863}for(;m<this.length-p;m++)u=(this.words[m+p]|0)+c,c=u>>26,this.words[m+p]=u&67108863;if(c===0)return this._strip();for(n(c===-1),c=0,m=0;m<this.length;m++)u=-(this.words[m]|0)+c,c=u>>26,this.words[m]=u&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,h){var p=this.length-a.length,w=this.clone(),m=a,u=m.words[m.length-1]|0,c=this._countBits(u);p=26-c,p!==0&&(m=m.ushln(p),w.iushln(p),u=m.words[m.length-1]|0);var b=w.length-m.length,_;if(h!=="mod"){_=new i(null),_.length=b+1,_.words=new Array(_.length);for(var E=0;E<_.length;E++)_.words[E]=0}var N=w.clone()._ishlnsubmul(m,1,b);N.negative===0&&(w=N,_&&(_.words[b]=1));for(var q=b-1;q>=0;q--){var U=(w.words[m.length+q]|0)*67108864+(w.words[m.length+q-1]|0);for(U=Math.min(U/u|0,67108863),w._ishlnsubmul(m,U,q);w.negative!==0;)U--,w.negative=0,w._ishlnsubmul(m,1,q),w.isZero()||(w.negative^=1);_&&(_.words[q]=U)}return _&&_._strip(),w._strip(),h!=="div"&&p!==0&&w.iushrn(p),{div:_||null,mod:w}},i.prototype.divmod=function(a,h,p){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,m,u;return this.negative!==0&&a.negative===0?(u=this.neg().divmod(a,h),h!=="mod"&&(w=u.div.neg()),h!=="div"&&(m=u.mod.neg(),p&&m.negative!==0&&m.iadd(a)),{div:w,mod:m}):this.negative===0&&a.negative!==0?(u=this.divmod(a.neg(),h),h!=="mod"&&(w=u.div.neg()),{div:w,mod:u.mod}):(this.negative&a.negative)!==0?(u=this.neg().divmod(a.neg(),h),h!=="div"&&(m=u.mod.neg(),p&&m.negative!==0&&m.isub(a)),{div:u.div,mod:m}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?h==="div"?{div:this.divn(a.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,h)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var h=this.divmod(a);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(a):h.mod,w=a.ushrn(1),m=a.andln(1),u=p.cmp(w);return u<0||m===1&&u===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(a){var h=a<0;h&&(a=-a),n(a<=67108863);for(var p=(1<<26)%a,w=0,m=this.length-1;m>=0;m--)w=(p*w+(this.words[m]|0))%a;return h?-w:w},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var h=a<0;h&&(a=-a),n(a<=67108863);for(var p=0,w=this.length-1;w>=0;w--){var m=(this.words[w]|0)+p*67108864;this.words[w]=m/a|0,p=m%a}return this._strip(),h?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var h=this,p=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var w=new i(1),m=new i(0),u=new i(0),c=new i(1),b=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++b;for(var _=p.clone(),E=h.clone();!h.isZero();){for(var N=0,q=1;(h.words[0]&q)===0&&N<26;++N,q<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(w.isOdd()||m.isOdd())&&(w.iadd(_),m.isub(E)),w.iushrn(1),m.iushrn(1);for(var U=0,ue=1;(p.words[0]&ue)===0&&U<26;++U,ue<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(u.isOdd()||c.isOdd())&&(u.iadd(_),c.isub(E)),u.iushrn(1),c.iushrn(1);h.cmp(p)>=0?(h.isub(p),w.isub(u),m.isub(c)):(p.isub(h),u.isub(w),c.isub(m))}return{a:u,b:c,gcd:p.iushln(b)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var h=this,p=a.clone();h.negative!==0?h=h.umod(a):h=h.clone();for(var w=new i(1),m=new i(0),u=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var c=0,b=1;(h.words[0]&b)===0&&c<26;++c,b<<=1);if(c>0)for(h.iushrn(c);c-- >0;)w.isOdd()&&w.iadd(u),w.iushrn(1);for(var _=0,E=1;(p.words[0]&E)===0&&_<26;++_,E<<=1);if(_>0)for(p.iushrn(_);_-- >0;)m.isOdd()&&m.iadd(u),m.iushrn(1);h.cmp(p)>=0?(h.isub(p),w.isub(m)):(p.isub(h),m.isub(w))}var N;return h.cmpn(1)===0?N=w:N=m,N.cmpn(0)<0&&N.iadd(a),N},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var h=this.clone(),p=a.clone();h.negative=0,p.negative=0;for(var w=0;h.isEven()&&p.isEven();w++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var m=h.cmp(p);if(m<0){var u=h;h=p,p=u}else if(m===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(w)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var h=a%26,p=(a-h)/26,w=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=w,this;for(var m=w,u=p;m!==0&&u<this.length;u++){var c=this.words[u]|0;c+=m,m=c>>>26,c&=67108863,this.words[u]=c}return m!==0&&(this.words[u]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var h=a<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var p;if(this.length>1)p=1;else{h&&(a=-a),n(a<=67108863,"Number is too big");var w=this.words[0]|0;p=w===a?0:w<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var h=this.ucmp(a);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var w=this.words[p]|0,m=a.words[p]|0;if(w!==m){w<m?h=-1:w>m&&(h=1);break}}return h},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new d(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var $={k256:null,p224:null,p192:null,p25519:null};function D(f,a){this.name=f,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},D.prototype.ireduce=function(a){var h=a,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var w=p<this.n?-1:h.ucmp(this.p);return w===0?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},D.prototype.split=function(a,h){a.iushrn(this.n,0,h)},D.prototype.imulK=function(a){return a.imul(this.k)};function K(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(K,D),K.prototype.split=function(a,h){for(var p=4194303,w=Math.min(a.length,9),m=0;m<w;m++)h.words[m]=a.words[m];if(h.length=w,a.length<=9){a.words[0]=0,a.length=1;return}var u=a.words[9];for(h.words[h.length++]=u&p,m=10;m<a.length;m++){var c=a.words[m]|0;a.words[m-10]=(c&p)<<4|u>>>22,u=c}u>>>=22,a.words[m-10]=u,u===0&&a.length>10?a.length-=10:a.length-=9},K.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var h=0,p=0;p<a.length;p++){var w=a.words[p]|0;h+=w*977,a.words[p]=h&67108863,h=w*64+(h/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function F(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(F,D);function he(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(he,D);function P(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(P,D),P.prototype.imulK=function(a){for(var h=0,p=0;p<a.length;p++){var w=(a.words[p]|0)*19+h,m=w&67108863;w>>>=26,a.words[p]=m,h=w}return h!==0&&(a.words[a.length++]=h),a},i._prime=function(a){if($[a])return $[a];var h;if(a==="k256")h=new K;else if(a==="p224")h=new F;else if(a==="p192")h=new he;else if(a==="p25519")h=new P;else throw new Error("Unknown prime "+a);return $[a]=h,h};function d(f){if(typeof f=="string"){var a=i._prime(f);this.m=a.p,this.prime=a}else n(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}d.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},d.prototype._verify2=function(a,h){n((a.negative|h.negative)===0,"red works only with positives"),n(a.red&&a.red===h.red,"red works only with red numbers")},d.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(y(a,a.umod(this.m)._forceRed(this)),a)},d.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},d.prototype.add=function(a,h){this._verify2(a,h);var p=a.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},d.prototype.iadd=function(a,h){this._verify2(a,h);var p=a.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},d.prototype.sub=function(a,h){this._verify2(a,h);var p=a.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},d.prototype.isub=function(a,h){this._verify2(a,h);var p=a.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},d.prototype.shl=function(a,h){return this._verify1(a),this.imod(a.ushln(h))},d.prototype.imul=function(a,h){return this._verify2(a,h),this.imod(a.imul(h))},d.prototype.mul=function(a,h){return this._verify2(a,h),this.imod(a.mul(h))},d.prototype.isqr=function(a){return this.imul(a,a.clone())},d.prototype.sqr=function(a){return this.mul(a,a)},d.prototype.sqrt=function(a){if(a.isZero())return a.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var w=this.m.subn(1),m=0;!w.isZero()&&w.andln(1)===0;)m++,w.iushrn(1);n(!w.isZero());var u=new i(1).toRed(this),c=u.redNeg(),b=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new i(2*_*_).toRed(this);this.pow(_,b).cmp(c)!==0;)_.redIAdd(c);for(var E=this.pow(_,w),N=this.pow(a,w.addn(1).iushrn(1)),q=this.pow(a,w),U=m;q.cmp(u)!==0;){for(var ue=q,W=0;ue.cmp(u)!==0;W++)ue=ue.redSqr();n(W<U);var H=this.pow(E,new i(1).iushln(U-W-1));N=N.redMul(H),E=H.redSqr(),q=q.redMul(E),U=W}return N},d.prototype.invm=function(a){var h=a._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},d.prototype.pow=function(a,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return a.clone();var p=4,w=new Array(1<<p);w[0]=new i(1).toRed(this),w[1]=a;for(var m=2;m<w.length;m++)w[m]=this.mul(w[m-1],a);var u=w[0],c=0,b=0,_=h.bitLength()%26;for(_===0&&(_=26),m=h.length-1;m>=0;m--){for(var E=h.words[m],N=_-1;N>=0;N--){var q=E>>N&1;if(u!==w[0]&&(u=this.sqr(u)),q===0&&c===0){b=0;continue}c<<=1,c|=q,b++,!(b!==p&&(m!==0||N!==0))&&(u=this.mul(u,w[c]),b=0,c=0)}_=26}return u},d.prototype.convertTo=function(a){var h=a.umod(this.m);return h===a?h.clone():h},d.prototype.convertFrom=function(a){var h=a.clone();return h.red=null,h},i.mont=function(a){return new s(a)};function s(f){d.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(s,d),s.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},s.prototype.convertFrom=function(a){var h=this.imod(a.mul(this.rinv));return h.red=null,h},s.prototype.imul=function(a,h){if(a.isZero()||h.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(h),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(w).iushrn(this.shift),u=m;return m.cmp(this.m)>=0?u=m.isub(this.m):m.cmpn(0)<0&&(u=m.iadd(this.m)),u._forceRed(this)},s.prototype.mul=function(a,h){if(a.isZero()||h.isZero())return new i(0)._forceRed(this);var p=a.mul(h),w=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(w).iushrn(this.shift),u=m;return m.cmp(this.m)>=0?u=m.isub(this.m):m.cmpn(0)<0&&(u=m.iadd(this.m)),u._forceRed(this)},s.prototype.invm=function(a){var h=this.imod(a._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,Ie)})(F0);var $v=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});ar.getLength=ar.decode=ar.encode=void 0;var Dv=$v(F0.exports);function z0(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(z0(e[r]));var n=L.concat(t);return L.concat([su(n.length,192),n])}else{var o=of(e);return o.length===1&&o[0]<128?o:L.concat([su(o.length,128),o])}}ar.encode=z0;function ns(e,t){if(e[0]==="0"&&e[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function su(e,t){if(e<56)return L.from([e+t]);var r=os(e),n=r.length/2,o=os(t+55+n);return L.from(o+r,"hex")}function Hv(e,t){if(t===void 0&&(t=!1),!e||e.length===0)return L.from([]);var r=of(e),n=is(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}ar.decode=Hv;function Fv(e){if(!e||e.length===0)return L.from([]);var t=of(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,o=ns(t.slice(1,n).toString("hex"),16);return n+o}ar.getLength=Fv;function is(e){var t,r,n,o,i,l=[],v=e[0];if(v<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(v<=183){if(t=v-127,v===128?n=L.from([]):n=e.slice(1,t),t===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}else if(v<=191){if(r=v-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=ns(e.slice(1,r).toString("hex"),16),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=e.slice(r,t+r),n.length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(t+r)}}else if(v<=247){for(t=v-191,o=e.slice(1,t);o.length;)i=is(o),l.push(i.data),o=i.remainder;return{data:l,remainder:e.slice(t)}}else{r=v-246,t=ns(e.slice(1,r).toString("hex"),16);var g=r+t;if(g>e.length)throw new Error("invalid rlp: total length is larger than the data");if(o=e.slice(r,g),o.length===0)throw new Error("invalid rlp, List has a invalid length");for(;o.length;)i=is(o),l.push(i.data),o=i.remainder;return{data:l,remainder:e.slice(g)}}}function K0(e){return e.slice(0,2)==="0x"}function zv(e){return typeof e!="string"?e:K0(e)?e.slice(2):e}function os(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function Kv(e){return e.length%2?"0"+e:e}function Wv(e){var t=os(e);return L.from(t,"hex")}function of(e){if(!L.isBuffer(e)){if(typeof e=="string")return K0(e)?L.from(Kv(zv(e)),"hex"):L.from(e);if(typeof e=="number"||typeof e=="bigint")return e?Wv(e):L.from([]);if(e==null)return L.from([]);if(e instanceof Uint8Array)return L.from(e);if(Dv.default.isBN(e))return L.from(e.toArray());throw new Error("invalid type")}return e}var as={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Dn,n=r.Buffer;function o(l,v){for(var g in l)v[g]=l[g]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=i);function i(l,v,g){return n(l,v,g)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(l,v,g){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,v,g)},i.alloc=function(l,v,g){if(typeof l!="number")throw new TypeError("Argument must be a number");var x=n(l);return v!==void 0?typeof g=="string"?x.fill(v,g):x.fill(v):x.fill(0),x},i.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},i.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(l)}})(as,as.exports);var ss={exports:{}},W0=Ao.exports.EventEmitter;function fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fu(Object(r),!0).forEach(function(n){Gv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zv(e,t,r){return t&&uu(e.prototype,t),r&&uu(e,r),e}var Jv=Dn,Yi=Jv.Buffer,Yv=gr,fs=Yv.inspect,Xv=fs&&fs.custom||"inspect";function Qv(e,t,r){Yi.prototype.copy.call(e,t,r)}var ep=function(){function e(){Vv(this,e),this.head=null,this.tail=null,this.length=0}return Zv(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,o=""+n.data;n=n.next;)o+=r+n.data;return o}},{key:"concat",value:function(r){if(this.length===0)return Yi.alloc(0);for(var n=Yi.allocUnsafe(r>>>0),o=this.head,i=0;o;)Qv(o.data,n,i),i+=o.data.length,o=o.next;return n}},{key:"consume",value:function(r,n){var o;return r<this.head.data.length?(o=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?o=this.shift():o=n?this._getString(r):this._getBuffer(r),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,o=1,i=n.data;for(r-=i.length;n=n.next;){var l=n.data,v=r>l.length?l.length:r;if(v===l.length?i+=l:i+=l.slice(0,r),r-=v,r===0){v===l.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=l.slice(v));break}++o}return this.length-=o,i}},{key:"_getBuffer",value:function(r){var n=Yi.allocUnsafe(r),o=this.head,i=1;for(o.data.copy(n),r-=o.data.length;o=o.next;){var l=o.data,v=r>l.length?l.length:r;if(l.copy(n,n.length-r,0,v),r-=v,r===0){v===l.length?(++i,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=l.slice(v));break}++i}return this.length-=i,n}},{key:Xv,value:function(r,n){return fs(this,jv({},n,{depth:0,customInspect:!1}))}}]),e}();function tp(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ce.nextTick(us,this,e)):ce.nextTick(us,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(i){!t&&i?r._writableState?r._writableState.errorEmitted?ce.nextTick(Xi,r):(r._writableState.errorEmitted=!0,ce.nextTick(hu,r,i)):ce.nextTick(hu,r,i):t?(ce.nextTick(Xi,r),t(i)):ce.nextTick(Xi,r)}),this)}function hu(e,t){us(e,t),Xi(e)}function Xi(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function rp(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function us(e,t){e.emit("error",t)}function np(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var j0={destroy:tp,undestroy:rp,errorOrDestroy:np},dn={};function ip(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var G0={};function Ht(e,t,r){r||(r=Error);function n(i,l,v){return typeof t=="string"?t:t(i,l,v)}var o=function(i){ip(l,i);function l(v,g,x){return i.call(this,n(v,g,x))||this}return l}(r);o.prototype.name=r.name,o.prototype.code=e,G0[e]=o}function lu(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function op(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function ap(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function sp(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Ht("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Ht("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&op(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var o;if(ap(e," argument"))o="The ".concat(e," ").concat(n," ").concat(lu(t,"type"));else{var i=sp(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(i," ").concat(n," ").concat(lu(t,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError);Ht("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ht("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Ht("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ht("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Ht("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ht("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ht("ERR_STREAM_WRITE_AFTER_END","write after end");Ht("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ht("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Ht("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");dn.codes=G0;var fp=dn.codes.ERR_INVALID_OPT_VALUE;function up(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function hp(e,t,r,n){var o=up(t,n,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var i=n?r:"highWaterMark";throw new fp(i,o)}return Math.floor(o)}return e.objectMode?16:16*1024}var V0={getHighWaterMark:hp},Z0=dt;function J0(e){var t=this;this.next=null,this.entry=null,this.finish=function(){qp(t,e)}}var Mn;dt.WritableState=Ri;var lp={deprecate:ad},Y0=W0,Fo=Dn.Buffer,cp=Ie.Uint8Array||function(){};function dp(e){return Fo.from(e)}function vp(e){return Fo.isBuffer(e)||e instanceof cp}var af=j0,pp=V0,gp=pp.getHighWaterMark,zr=dn.codes,mp=zr.ERR_INVALID_ARG_TYPE,_p=zr.ERR_METHOD_NOT_IMPLEMENTED,yp=zr.ERR_MULTIPLE_CALLBACK,wp=zr.ERR_STREAM_CANNOT_PIPE,bp=zr.ERR_STREAM_DESTROYED,xp=zr.ERR_STREAM_NULL_VALUES,Mp=zr.ERR_STREAM_WRITE_AFTER_END,Sp=zr.ERR_UNKNOWN_ENCODING,Cn=af.errorOrDestroy;vt.exports(dt,Y0);function Ep(){}function Ri(e,t,r){Mn=Mn||Wn,e=e||{},typeof r!="boolean"&&(r=t instanceof Mn),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=gp(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){Pp(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new J0(this)}Ri.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(Ri.prototype,"buffer",{get:lp.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Qi;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qi=Function.prototype[Symbol.hasInstance],Object.defineProperty(dt,Symbol.hasInstance,{value:function(t){return Qi.call(this,t)?!0:this!==dt?!1:t&&t._writableState instanceof Ri}})):Qi=function(t){return t instanceof this};function dt(e){Mn=Mn||Wn;var t=this instanceof Mn;if(!t&&!Qi.call(dt,this))return new dt(e);this._writableState=new Ri(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Y0.call(this)}dt.prototype.pipe=function(){Cn(this,new wp)};function Ap(e,t){var r=new Mp;Cn(e,r),ce.nextTick(t,r)}function Rp(e,t,r,n){var o;return r===null?o=new xp:typeof r!="string"&&!t.objectMode&&(o=new mp("chunk",["string","Buffer"],r)),o?(Cn(e,o),ce.nextTick(n,o),!1):!0}dt.prototype.write=function(e,t,r){var n=this._writableState,o=!1,i=!n.objectMode&&vp(e);return i&&!Fo.isBuffer(e)&&(e=dp(e)),typeof t=="function"&&(r=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Ep),n.ending?Ap(this,r):(i||Rp(this,n,e,r))&&(n.pendingcb++,o=Tp(this,n,i,e,t,r)),o};dt.prototype.cork=function(){this._writableState.corked++};dt.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&X0(this,e))};dt.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Sp(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(dt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function kp(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Fo.from(t,r)),t}Object.defineProperty(dt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Tp(e,t,r,n,o,i){if(!r){var l=kp(t,n,o);n!==l&&(r=!0,o="buffer",n=l)}var v=t.objectMode?1:n.length;t.length+=v;var g=t.length<t.highWaterMark;if(g||(t.needDrain=!0),t.writing||t.corked){var x=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},x?x.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else hs(e,t,!1,v,n,o,i);return g}function hs(e,t,r,n,o,i,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new bp("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function Cp(e,t,r,n,o){--t.pendingcb,r?(ce.nextTick(o,n),ce.nextTick(pi,e,t),e._writableState.errorEmitted=!0,Cn(e,n)):(o(n),e._writableState.errorEmitted=!0,Cn(e,n),pi(e,t))}function Ip(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Pp(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(typeof o!="function")throw new yp;if(Ip(r),t)Cp(e,r,n,t,o);else{var i=Q0(r)||e.destroyed;!i&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&X0(e,r),n?ce.nextTick(cu,e,r,i,o):cu(e,r,i,o)}}function cu(e,t,r,n){r||Bp(e,t),t.pendingcb--,n(),pi(e,t)}function Bp(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function X0(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var l=0,v=!0;r;)o[l]=r,r.isBuf||(v=!1),r=r.next,l+=1;o.allBuffers=v,hs(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new J0(t),t.bufferedRequestCount=0}else{for(;r;){var g=r.chunk,x=r.encoding,y=r.callback,S=t.objectMode?1:g.length;if(hs(e,t,!1,S,g,x,y),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}dt.prototype._write=function(e,t,r){r(new _p("_write()"))};dt.prototype._writev=null;dt.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||Np(this,n,r),this};Object.defineProperty(dt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q0(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Op(e,t){e._final(function(r){t.pendingcb--,r&&Cn(e,r),t.prefinished=!0,e.emit("prefinish"),pi(e,t)})}function Lp(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,ce.nextTick(Op,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function pi(e,t){var r=Q0(t);if(r&&(Lp(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function Np(e,t,r){t.ending=!0,pi(e,t),r&&(t.finished?ce.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function qp(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});dt.prototype.destroy=af.destroy;dt.prototype._undestroy=af.undestroy;dt.prototype._destroy=function(e,t){t(e)};var Up=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},Wn=vr,eh=rh,ls=Z0;vt.exports(vr,eh);for(var du=Up(ls.prototype),Ta=0;Ta<du.length;Ta++){var Ca=du[Ta];vr.prototype[Ca]||(vr.prototype[Ca]=ls.prototype[Ca])}function vr(e){if(!(this instanceof vr))return new vr(e);eh.call(this,e),ls.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",$p)))}Object.defineProperty(vr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(vr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(vr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $p(){this._writableState.ended||ce.nextTick(Dp,this)}function Dp(e){e.end()}Object.defineProperty(vr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var vu=dn.codes.ERR_STREAM_PREMATURE_CLOSE;function Hp(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}function Fp(){}function zp(e){return e.setHeader&&typeof e.abort=="function"}function th(e,t,r){if(typeof t=="function")return th(e,null,t);t||(t={}),r=Hp(r||Fp);var n=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,i=function(){e.writable||v()},l=e._writableState&&e._writableState.finished,v=function(){o=!1,l=!0,n||r.call(e)},g=e._readableState&&e._readableState.endEmitted,x=function(){n=!1,g=!0,o||r.call(e)},y=function(M){r.call(e,M)},S=function(){var M;if(n&&!g)return(!e._readableState||!e._readableState.ended)&&(M=new vu),r.call(e,M);if(o&&!l)return(!e._writableState||!e._writableState.ended)&&(M=new vu),r.call(e,M)},R=function(){e.req.on("finish",v)};return zp(e)?(e.on("complete",v),e.on("abort",S),e.req?R():e.on("request",R)):o&&!e._writableState&&(e.on("end",i),e.on("close",i)),e.on("end",x),e.on("finish",v),t.error!==!1&&e.on("error",y),e.on("close",S),function(){e.removeListener("complete",v),e.removeListener("abort",S),e.removeListener("request",R),e.req&&e.req.removeListener("finish",v),e.removeListener("end",i),e.removeListener("close",i),e.removeListener("finish",v),e.removeListener("end",x),e.removeListener("error",y),e.removeListener("close",S)}}var sf=th,Hi;function Tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kp=sf,Cr=Symbol("lastResolve"),Xr=Symbol("lastReject"),hi=Symbol("error"),uo=Symbol("ended"),nn=Symbol("lastPromise"),ff=Symbol("handlePromise"),on=Symbol("stream");function Pr(e,t){return{value:e,done:t}}function Wp(e){var t=e[Cr];if(t!==null){var r=e[on].read();r!==null&&(e[nn]=null,e[Cr]=null,e[Xr]=null,t(Pr(r,!1)))}}function jp(e){ce.nextTick(Wp,e)}function Gp(e,t){return function(r,n){e.then(function(){if(t[uo]){r(Pr(void 0,!0));return}t[ff](r,n)},n)}}var Vp=Object.getPrototypeOf(function(){}),Zp=Object.setPrototypeOf((Hi={get stream(){return this[on]},next:function(){var t=this,r=this[hi];if(r!==null)return Promise.reject(r);if(this[uo])return Promise.resolve(Pr(void 0,!0));if(this[on].destroyed)return new Promise(function(l,v){ce.nextTick(function(){t[hi]?v(t[hi]):l(Pr(void 0,!0))})});var n=this[nn],o;if(n)o=new Promise(Gp(n,this));else{var i=this[on].read();if(i!==null)return Promise.resolve(Pr(i,!1));o=new Promise(this[ff])}return this[nn]=o,o}},Tr(Hi,Symbol.asyncIterator,function(){return this}),Tr(Hi,"return",function(){var t=this;return new Promise(function(r,n){t[on].destroy(null,function(o){if(o){n(o);return}r(Pr(void 0,!0))})})}),Hi),Vp),Jp=function(t){var r,n=Object.create(Zp,(r={},Tr(r,on,{value:t,writable:!0}),Tr(r,Cr,{value:null,writable:!0}),Tr(r,Xr,{value:null,writable:!0}),Tr(r,hi,{value:null,writable:!0}),Tr(r,uo,{value:t._readableState.endEmitted,writable:!0}),Tr(r,ff,{value:function(i,l){var v=n[on].read();v?(n[nn]=null,n[Cr]=null,n[Xr]=null,i(Pr(v,!1))):(n[Cr]=i,n[Xr]=l)},writable:!0}),r));return n[nn]=null,Kp(t,function(o){if(o&&o.code!=="ERR_STREAM_PREMATURE_CLOSE"){var i=n[Xr];i!==null&&(n[nn]=null,n[Cr]=null,n[Xr]=null,i(o)),n[hi]=o;return}var l=n[Cr];l!==null&&(n[nn]=null,n[Cr]=null,n[Xr]=null,l(Pr(void 0,!0))),n[uo]=!0}),t.on("readable",jp.bind(null,n)),n},Yp=Jp,Xp=function(){throw new Error("Readable.from is not available in the browser")},rh=qe,Sn;qe.ReadableState=ih;Ao.exports.EventEmitter;var nh=function(t,r){return t.listeners(r).length},ki=W0,zo=Dn.Buffer,Qp=Ie.Uint8Array||function(){};function eg(e){return zo.from(e)}function tg(e){return zo.isBuffer(e)||e instanceof Qp}var Ia=gr,Pe;Ia&&Ia.debuglog?Pe=Ia.debuglog("stream"):Pe=function(){};var rg=ep,uf=j0,ng=V0,ig=ng.getHighWaterMark,Ko=dn.codes,og=Ko.ERR_INVALID_ARG_TYPE,ag=Ko.ERR_STREAM_PUSH_AFTER_EOF,sg=Ko.ERR_METHOD_NOT_IMPLEMENTED,fg=Ko.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,En,Pa,Ba;vt.exports(qe,ki);var li=uf.errorOrDestroy,Oa=["error","close","destroy","pause","resume"];function ug(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function ih(e,t,r){Sn=Sn||Wn,e=e||{},typeof r!="boolean"&&(r=t instanceof Sn),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=ig(this,e,"readableHighWaterMark",r),this.buffer=new rg,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(En||(En=Gs.StringDecoder),this.decoder=new En(e.encoding),this.encoding=e.encoding)}function qe(e){if(Sn=Sn||Wn,!(this instanceof qe))return new qe(e);var t=this instanceof Sn;this._readableState=new ih(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ki.call(this)}Object.defineProperty(qe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});qe.prototype.destroy=uf.destroy;qe.prototype._undestroy=uf.undestroy;qe.prototype._destroy=function(e,t){t(e)};qe.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=zo.from(e,t),t=""),n=!0),oh(this,e,t,!1,n)};qe.prototype.unshift=function(e){return oh(this,e,null,!0,!1)};function oh(e,t,r,n,o){Pe("readableAddChunk",t);var i=e._readableState;if(t===null)i.reading=!1,cg(e,i);else{var l;if(o||(l=hg(i,t)),l)li(e,l);else if(i.objectMode||t&&t.length>0)if(typeof t!="string"&&!i.objectMode&&Object.getPrototypeOf(t)!==zo.prototype&&(t=eg(t)),n)i.endEmitted?li(e,new fg):La(e,i,t,!0);else if(i.ended)li(e,new ag);else{if(i.destroyed)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||t.length!==0?La(e,i,t,!1):cs(e,i)):La(e,i,t,!1)}else n||(i.reading=!1,cs(e,i))}return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function La(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Wo(e)),cs(e,t)}function hg(e,t){var r;return!tg(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new og("chunk",["string","Buffer","Uint8Array"],t)),r}qe.prototype.isPaused=function(){return this._readableState.flowing===!1};qe.prototype.setEncoding=function(e){En||(En=Gs.StringDecoder);var t=new En(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var pu=1073741824;function lg(e){return e>=pu?e=pu:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function gu(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=lg(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}qe.prototype.read=function(e){Pe("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return Pe("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Na(this):Wo(this),null;if(e=gu(e,t),e===0&&t.ended)return t.length===0&&Na(this),null;var n=t.needReadable;Pe("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Pe("length less than watermark",n)),t.ended||t.reading?(n=!1,Pe("reading or ended",n)):n&&(Pe("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=gu(r,t)));var o;return e>0?o=fh(e,t):o=null,o===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Na(this)),o!==null&&this.emit("data",o),o};function cg(e,t){if(Pe("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Wo(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,ah(e)))}}function Wo(e){var t=e._readableState;Pe("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(Pe("emitReadable",t.flowing),t.emittedReadable=!0,ce.nextTick(ah,e))}function ah(e){var t=e._readableState;Pe("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,hf(e)}function cs(e,t){t.readingMore||(t.readingMore=!0,ce.nextTick(dg,e,t))}function dg(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(Pe("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}qe.prototype._read=function(e){li(this,new sg("_read()"))};qe.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Pe("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||t.end!==!1)&&e!==ce.stdout&&e!==ce.stderr,i=o?v:T;n.endEmitted?ce.nextTick(i):r.once("end",i),e.on("unpipe",l);function l(A,C){Pe("onunpipe"),A===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,y())}function v(){Pe("onend"),e.end()}var g=vg(r);e.on("drain",g);var x=!1;function y(){Pe("cleanup"),e.removeListener("close",I),e.removeListener("finish",M),e.removeListener("drain",g),e.removeListener("error",R),e.removeListener("unpipe",l),r.removeListener("end",v),r.removeListener("end",T),r.removeListener("data",S),x=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&g()}r.on("data",S);function S(A){Pe("ondata");var C=e.write(A);Pe("dest.write",C),C===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&uh(n.pipes,e)!==-1)&&!x&&(Pe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function R(A){Pe("onerror",A),T(),e.removeListener("error",R),nh(e,"error")===0&&li(e,A)}ug(e,"error",R);function I(){e.removeListener("finish",M),T()}e.once("close",I);function M(){Pe("onfinish"),e.removeListener("close",I),T()}e.once("finish",M);function T(){Pe("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(Pe("pipe resume"),r.resume()),e};function vg(e){return function(){var r=e._readableState;Pe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&nh(e,"data")&&(r.flowing=!0,hf(e))}}qe.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var l=uh(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};qe.prototype.on=function(e,t){var r=ki.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Pe("on readable",n.length,n.reading),n.length?Wo(this):n.reading||ce.nextTick(pg,this)),r};qe.prototype.addListener=qe.prototype.on;qe.prototype.removeListener=function(e,t){var r=ki.prototype.removeListener.call(this,e,t);return e==="readable"&&ce.nextTick(sh,this),r};qe.prototype.removeAllListeners=function(e){var t=ki.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&ce.nextTick(sh,this),t};function sh(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function pg(e){Pe("readable nexttick read 0"),e.read(0)}qe.prototype.resume=function(){var e=this._readableState;return e.flowing||(Pe("resume"),e.flowing=!e.readableListening,gg(this,e)),e.paused=!1,this};function gg(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ce.nextTick(mg,e,t))}function mg(e,t){Pe("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),hf(e),t.flowing&&!t.reading&&e.read(0)}qe.prototype.pause=function(){return Pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function hf(e){var t=e._readableState;for(Pe("flow",t.flowing);t.flowing&&e.read()!==null;);}qe.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(Pe("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(Pe("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var v=t.push(l);v||(n=!0,e.pause())}});for(var o in e)this[o]===void 0&&typeof e[o]=="function"&&(this[o]=function(v){return function(){return e[v].apply(e,arguments)}}(o));for(var i=0;i<Oa.length;i++)e.on(Oa[i],this.emit.bind(this,Oa[i]));return this._read=function(l){Pe("wrapped _read",l),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(qe.prototype[Symbol.asyncIterator]=function(){return Pa===void 0&&(Pa=Yp),Pa(this)});Object.defineProperty(qe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(qe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(qe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});qe._fromList=fh;Object.defineProperty(qe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fh(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function Na(e){var t=e._readableState;Pe("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,ce.nextTick(_g,t,e))}function _g(e,t){if(Pe("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(qe.from=function(e,t){return Ba===void 0&&(Ba=Xp),Ba(qe,e,t)});function uh(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var hh=Sr,jo=dn.codes,yg=jo.ERR_METHOD_NOT_IMPLEMENTED,wg=jo.ERR_MULTIPLE_CALLBACK,bg=jo.ERR_TRANSFORM_ALREADY_TRANSFORMING,xg=jo.ERR_TRANSFORM_WITH_LENGTH_0,Go=Wn;vt.exports(Sr,Go);function Mg(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new wg);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Sr(e){if(!(this instanceof Sr))return new Sr(e);Go.call(this,e),this._transformState={afterTransform:Mg.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Sg)}function Sg(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){mu(e,t,r)}):mu(this,null,null)}Sr.prototype.push=function(e,t){return this._transformState.needTransform=!1,Go.prototype.push.call(this,e,t)};Sr.prototype._transform=function(e,t,r){r(new yg("_transform()"))};Sr.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};Sr.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Sr.prototype._destroy=function(e,t){Go.prototype._destroy.call(this,e,function(r){t(r)})};function mu(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new xg;if(e._transformState.transforming)throw new bg;return e.push(null)}var Eg=gi,lh=hh;vt.exports(gi,lh);function gi(e){if(!(this instanceof gi))return new gi(e);lh.call(this,e)}gi.prototype._transform=function(e,t,r){r(null,e)};var qa;function Ag(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var ch=dn.codes,Rg=ch.ERR_MISSING_ARGS,kg=ch.ERR_STREAM_DESTROYED;function _u(e){if(e)throw e}function Tg(e){return e.setHeader&&typeof e.abort=="function"}function Cg(e,t,r,n){n=Ag(n);var o=!1;e.on("close",function(){o=!0}),qa===void 0&&(qa=sf),qa(e,{readable:t,writable:r},function(l){if(l)return n(l);o=!0,n()});var i=!1;return function(l){if(!o&&!i){if(i=!0,Tg(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(l||new kg("pipe"))}}}function yu(e){e()}function Ig(e,t){return e.pipe(t)}function Pg(e){return!e.length||typeof e[e.length-1]!="function"?_u:e.pop()}function Bg(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Pg(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Rg("streams");var o,i=t.map(function(l,v){var g=v<t.length-1,x=v>0;return Cg(l,g,x,function(y){o||(o=y),y&&i.forEach(yu),!g&&(i.forEach(yu),n(o))})});return t.reduce(Ig)}var Og=Bg;(function(e,t){t=e.exports=rh,t.Stream=t,t.Readable=t,t.Writable=Z0,t.Duplex=Wn,t.Transform=hh,t.PassThrough=Eg,t.finished=sf,t.pipeline=Og})(ss,ss.exports);var ho=as.exports.Buffer,dh=ss.exports.Transform,Lg=vt.exports;function Ng(e,t){if(!ho.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function Kr(e){dh.call(this),this._block=ho.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Lg(Kr,dh);Kr.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(o){n=o}r(n)};Kr.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};Kr.prototype.update=function(e,t){if(Ng(e,"Data"),this._finalized)throw new Error("Digest already called");ho.isBuffer(e)||(e=ho.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var i=0,l=e.length*8;l>0;++i)this._length[i]+=l,l=this._length[i]/4294967296|0,l>0&&(this._length[i]-=4294967296*l);return this};Kr.prototype._update=function(){throw new Error("_update is not implemented")};Kr.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};Kr.prototype._digest=function(){throw new Error("_digest is not implemented")};var vh=Kr,qg=vt.exports,ph=vh,Ug=fr.exports.Buffer,$g=new Array(16);function Vo(){ph.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}qg(Vo,ph);Vo.prototype._update=function(){for(var e=$g,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,o=this._c,i=this._d;r=xt(r,n,o,i,e[0],3614090360,7),i=xt(i,r,n,o,e[1],3905402710,12),o=xt(o,i,r,n,e[2],606105819,17),n=xt(n,o,i,r,e[3],3250441966,22),r=xt(r,n,o,i,e[4],4118548399,7),i=xt(i,r,n,o,e[5],1200080426,12),o=xt(o,i,r,n,e[6],2821735955,17),n=xt(n,o,i,r,e[7],4249261313,22),r=xt(r,n,o,i,e[8],1770035416,7),i=xt(i,r,n,o,e[9],2336552879,12),o=xt(o,i,r,n,e[10],4294925233,17),n=xt(n,o,i,r,e[11],2304563134,22),r=xt(r,n,o,i,e[12],1804603682,7),i=xt(i,r,n,o,e[13],4254626195,12),o=xt(o,i,r,n,e[14],2792965006,17),n=xt(n,o,i,r,e[15],1236535329,22),r=Mt(r,n,o,i,e[1],4129170786,5),i=Mt(i,r,n,o,e[6],3225465664,9),o=Mt(o,i,r,n,e[11],643717713,14),n=Mt(n,o,i,r,e[0],3921069994,20),r=Mt(r,n,o,i,e[5],3593408605,5),i=Mt(i,r,n,o,e[10],38016083,9),o=Mt(o,i,r,n,e[15],3634488961,14),n=Mt(n,o,i,r,e[4],3889429448,20),r=Mt(r,n,o,i,e[9],568446438,5),i=Mt(i,r,n,o,e[14],3275163606,9),o=Mt(o,i,r,n,e[3],4107603335,14),n=Mt(n,o,i,r,e[8],1163531501,20),r=Mt(r,n,o,i,e[13],2850285829,5),i=Mt(i,r,n,o,e[2],4243563512,9),o=Mt(o,i,r,n,e[7],1735328473,14),n=Mt(n,o,i,r,e[12],2368359562,20),r=St(r,n,o,i,e[5],4294588738,4),i=St(i,r,n,o,e[8],2272392833,11),o=St(o,i,r,n,e[11],1839030562,16),n=St(n,o,i,r,e[14],4259657740,23),r=St(r,n,o,i,e[1],2763975236,4),i=St(i,r,n,o,e[4],1272893353,11),o=St(o,i,r,n,e[7],4139469664,16),n=St(n,o,i,r,e[10],3200236656,23),r=St(r,n,o,i,e[13],681279174,4),i=St(i,r,n,o,e[0],3936430074,11),o=St(o,i,r,n,e[3],3572445317,16),n=St(n,o,i,r,e[6],76029189,23),r=St(r,n,o,i,e[9],3654602809,4),i=St(i,r,n,o,e[12],3873151461,11),o=St(o,i,r,n,e[15],530742520,16),n=St(n,o,i,r,e[2],3299628645,23),r=Et(r,n,o,i,e[0],4096336452,6),i=Et(i,r,n,o,e[7],1126891415,10),o=Et(o,i,r,n,e[14],2878612391,15),n=Et(n,o,i,r,e[5],4237533241,21),r=Et(r,n,o,i,e[12],1700485571,6),i=Et(i,r,n,o,e[3],2399980690,10),o=Et(o,i,r,n,e[10],4293915773,15),n=Et(n,o,i,r,e[1],2240044497,21),r=Et(r,n,o,i,e[8],1873313359,6),i=Et(i,r,n,o,e[15],4264355552,10),o=Et(o,i,r,n,e[6],2734768916,15),n=Et(n,o,i,r,e[13],1309151649,21),r=Et(r,n,o,i,e[4],4149444226,6),i=Et(i,r,n,o,e[11],3174756917,10),o=Et(o,i,r,n,e[2],718787259,15),n=Et(n,o,i,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+o|0,this._d=this._d+i|0};Vo.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Ug.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function Zo(e,t){return e<<t|e>>>32-t}function xt(e,t,r,n,o,i,l){return Zo(e+(t&r|~t&n)+o+i|0,l)+t|0}function Mt(e,t,r,n,o,i,l){return Zo(e+(t&n|r&~n)+o+i|0,l)+t|0}function St(e,t,r,n,o,i,l){return Zo(e+(t^r^n)+o+i|0,l)+t|0}function Et(e,t,r,n,o,i,l){return Zo(e+(r^(t|~n))+o+i|0,l)+t|0}var Dg=Vo,Ua=Dn.Buffer,Hg=vt.exports,gh=vh,Fg=new Array(16),ri=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ni=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ii=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],oi=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ai=[0,1518500249,1859775393,2400959708,2840853838],si=[1352829926,1548603684,1836072691,2053994217,0];function Jo(){gh.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Hg(Jo,gh);Jo.prototype._update=function(){for(var e=Fg,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,l=this._e|0,v=this._a|0,g=this._b|0,x=this._c|0,y=this._d|0,S=this._e|0,R=0;R<80;R+=1){var I,M;R<16?(I=wu(r,n,o,i,l,e[ri[R]],ai[0],ii[R]),M=Su(v,g,x,y,S,e[ni[R]],si[0],oi[R])):R<32?(I=bu(r,n,o,i,l,e[ri[R]],ai[1],ii[R]),M=Mu(v,g,x,y,S,e[ni[R]],si[1],oi[R])):R<48?(I=xu(r,n,o,i,l,e[ri[R]],ai[2],ii[R]),M=xu(v,g,x,y,S,e[ni[R]],si[2],oi[R])):R<64?(I=Mu(r,n,o,i,l,e[ri[R]],ai[3],ii[R]),M=bu(v,g,x,y,S,e[ni[R]],si[3],oi[R])):(I=Su(r,n,o,i,l,e[ri[R]],ai[4],ii[R]),M=wu(v,g,x,y,S,e[ni[R]],si[4],oi[R])),r=l,l=i,i=hn(o,10),o=n,n=I,v=S,S=y,y=hn(x,10),x=g,g=M}var T=this._b+o+y|0;this._b=this._c+i+S|0,this._c=this._d+l+v|0,this._d=this._e+r+g|0,this._e=this._a+n+x|0,this._a=T};Jo.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Ua.alloc?Ua.alloc(20):new Ua(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function hn(e,t){return e<<t|e>>>32-t}function wu(e,t,r,n,o,i,l,v){return hn(e+(t^r^n)+i+l|0,v)+o|0}function bu(e,t,r,n,o,i,l,v){return hn(e+(t&r|~t&n)+i+l|0,v)+o|0}function xu(e,t,r,n,o,i,l,v){return hn(e+((t|~r)^n)+i+l|0,v)+o|0}function Mu(e,t,r,n,o,i,l,v){return hn(e+(t&n|r&~n)+i+l|0,v)+o|0}function Su(e,t,r,n,o,i,l,v){return hn(e+(t^(r|~n))+i+l|0,v)+o|0}var zg=Jo,mh={exports:{}},_h=fr.exports.Buffer;function Yo(e,t){this._block=_h.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Yo.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=_h.from(e,t));for(var r=this._block,n=this._blockSize,o=e.length,i=this._len,l=0;l<o;){for(var v=i%n,g=Math.min(o-l,n-v),x=0;x<g;x++)r[v+x]=e[l+x];i+=g,l+=g,i%n===0&&this._update(r)}return this._len+=o,this};Yo.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,o=(r-n)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};Yo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var jn=Yo,Kg=vt.exports,yh=jn,Wg=fr.exports.Buffer,jg=[1518500249,1859775393,-1894007588,-899497514],Gg=new Array(80);function Ti(){this.init(),this._w=Gg,yh.call(this,64,56)}Kg(Ti,yh);Ti.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Vg(e){return e<<5|e>>>27}function Zg(e){return e<<30|e>>>2}function Jg(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Ti.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,l=this._e|0,v=0;v<16;++v)t[v]=e.readInt32BE(v*4);for(;v<80;++v)t[v]=t[v-3]^t[v-8]^t[v-14]^t[v-16];for(var g=0;g<80;++g){var x=~~(g/20),y=Vg(r)+Jg(x,n,o,i)+l+t[g]+jg[x]|0;l=i,i=o,o=Zg(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=l+this._e|0};Ti.prototype._hash=function(){var e=Wg.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var Yg=Ti,Xg=vt.exports,wh=jn,Qg=fr.exports.Buffer,em=[1518500249,1859775393,-1894007588,-899497514],tm=new Array(80);function Ci(){this.init(),this._w=tm,wh.call(this,64,56)}Xg(Ci,wh);Ci.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rm(e){return e<<1|e>>>31}function nm(e){return e<<5|e>>>27}function im(e){return e<<30|e>>>2}function om(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Ci.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,l=this._e|0,v=0;v<16;++v)t[v]=e.readInt32BE(v*4);for(;v<80;++v)t[v]=rm(t[v-3]^t[v-8]^t[v-14]^t[v-16]);for(var g=0;g<80;++g){var x=~~(g/20),y=nm(r)+om(x,n,o,i)+l+t[g]+em[x]|0;l=i,i=o,o=im(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=l+this._e|0};Ci.prototype._hash=function(){var e=Qg.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var am=Ci,sm=vt.exports,bh=jn,fm=fr.exports.Buffer,um=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],hm=new Array(64);function Ii(){this.init(),this._w=hm,bh.call(this,64,56)}sm(Ii,bh);Ii.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function lm(e,t,r){return r^e&(t^r)}function cm(e,t,r){return e&t|r&(e|t)}function dm(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function vm(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function pm(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gm(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Ii.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,l=this._e|0,v=this._f|0,g=this._g|0,x=this._h|0,y=0;y<16;++y)t[y]=e.readInt32BE(y*4);for(;y<64;++y)t[y]=gm(t[y-2])+t[y-7]+pm(t[y-15])+t[y-16]|0;for(var S=0;S<64;++S){var R=x+vm(l)+lm(l,v,g)+um[S]+t[S]|0,I=dm(r)+cm(r,n,o)|0;x=g,g=v,v=l,l=i+R|0,i=o,o=n,n=r,r=R+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=l+this._e|0,this._f=v+this._f|0,this._g=g+this._g|0,this._h=x+this._h|0};Ii.prototype._hash=function(){var e=fm.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var xh=Ii,mm=vt.exports,_m=xh,ym=jn,wm=fr.exports.Buffer,bm=new Array(64);function Xo(){this.init(),this._w=bm,ym.call(this,64,56)}mm(Xo,_m);Xo.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Xo.prototype._hash=function(){var e=wm.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var xm=Xo,Mm=vt.exports,Mh=jn,Sm=fr.exports.Buffer,Eu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Em=new Array(160);function Pi(){this.init(),this._w=Em,Mh.call(this,128,112)}Mm(Pi,Mh);Pi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Au(e,t,r){return r^e&(t^r)}function Ru(e,t,r){return e&t|r&(e|t)}function ku(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Tu(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Am(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Rm(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function km(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Tm(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function pt(e,t){return e>>>0<t>>>0?1:0}Pi.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,o=this._ch|0,i=this._dh|0,l=this._eh|0,v=this._fh|0,g=this._gh|0,x=this._hh|0,y=this._al|0,S=this._bl|0,R=this._cl|0,I=this._dl|0,M=this._el|0,T=this._fl|0,A=this._gl|0,C=this._hl|0,k=0;k<32;k+=2)t[k]=e.readInt32BE(k*4),t[k+1]=e.readInt32BE(k*4+4);for(;k<160;k+=2){var B=t[k-30],O=t[k-15*2+1],$=Am(B,O),D=Rm(O,B);B=t[k-2*2],O=t[k-2*2+1];var K=km(B,O),F=Tm(O,B),he=t[k-7*2],P=t[k-7*2+1],d=t[k-16*2],s=t[k-16*2+1],f=D+P|0,a=$+he+pt(f,D)|0;f=f+F|0,a=a+K+pt(f,F)|0,f=f+s|0,a=a+d+pt(f,s)|0,t[k]=a,t[k+1]=f}for(var h=0;h<160;h+=2){a=t[h],f=t[h+1];var p=Ru(r,n,o),w=Ru(y,S,R),m=ku(r,y),u=ku(y,r),c=Tu(l,M),b=Tu(M,l),_=Eu[h],E=Eu[h+1],N=Au(l,v,g),q=Au(M,T,A),U=C+b|0,ue=x+c+pt(U,C)|0;U=U+q|0,ue=ue+N+pt(U,q)|0,U=U+E|0,ue=ue+_+pt(U,E)|0,U=U+f|0,ue=ue+a+pt(U,f)|0;var W=u+w|0,H=m+p+pt(W,u)|0;x=g,C=A,g=v,A=T,v=l,T=M,M=I+U|0,l=i+ue+pt(M,I)|0,i=o,I=R,o=n,R=S,n=r,S=y,y=U+W|0,r=ue+H+pt(y,U)|0}this._al=this._al+y|0,this._bl=this._bl+S|0,this._cl=this._cl+R|0,this._dl=this._dl+I|0,this._el=this._el+M|0,this._fl=this._fl+T|0,this._gl=this._gl+A|0,this._hl=this._hl+C|0,this._ah=this._ah+r+pt(this._al,y)|0,this._bh=this._bh+n+pt(this._bl,S)|0,this._ch=this._ch+o+pt(this._cl,R)|0,this._dh=this._dh+i+pt(this._dl,I)|0,this._eh=this._eh+l+pt(this._el,M)|0,this._fh=this._fh+v+pt(this._fl,T)|0,this._gh=this._gh+g+pt(this._gl,A)|0,this._hh=this._hh+x+pt(this._hl,C)|0};Pi.prototype._hash=function(){var e=Sm.allocUnsafe(64);function t(r,n,o){e.writeInt32BE(r,o),e.writeInt32BE(n,o+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Sh=Pi,Cm=vt.exports,Im=Sh,Pm=jn,Bm=fr.exports.Buffer,Om=new Array(160);function Qo(){this.init(),this._w=Om,Pm.call(this,128,112)}Cm(Qo,Im);Qo.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Qo.prototype._hash=function(){var e=Bm.allocUnsafe(48);function t(r,n,o){e.writeInt32BE(r,o),e.writeInt32BE(n,o+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Lm=Qo,vn=mh.exports=function(t){t=t.toLowerCase();var r=vn[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};vn.sha=Yg;vn.sha1=am;vn.sha224=xm;vn.sha256=xh;vn.sha384=Lm;vn.sha512=Sh;var Eh=fr.exports.Buffer,Ah=gr.Transform,Nm=Gs.StringDecoder,qm=vt.exports;function hr(e){Ah.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}qm(hr,Ah);hr.prototype.update=function(e,t,r){typeof e=="string"&&(e=Eh.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};hr.prototype.setAutoPadding=function(){};hr.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};hr.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};hr.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};hr.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(o){n=o}finally{r(n)}};hr.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};hr.prototype._finalOrDigest=function(e){var t=this.__final()||Eh.alloc(0);return e&&(t=this._toString(t,e,!0)),t};hr.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new Nm(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var Um=hr,$m=vt.exports,Dm=Dg,Hm=zg,Fm=mh.exports,Rh=Um;function ea(e){Rh.call(this,"digest"),this._hash=e}$m(ea,Rh);ea.prototype._update=function(e){this._hash.update(e)};ea.prototype._final=function(){return this._hash.digest()};var kh=function(t){return t=t.toLowerCase(),t==="md5"?new Dm:t==="rmd160"||t==="ripemd160"?new Hm:new ea(Fm(t))},Th=function(t){if(typeof t!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.slice(0,2)==="0x"},zm=Th,Km=function(t){return typeof t!="string"?t:zm(t)?t.slice(2):t},Wm=Th,Ch=Km;function ta(e){var t=e;if(typeof t!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function Ih(e){var t=e.toString(16);return"0x"+t}function jm(e){var t=Ih(e);return new L(ta(t.slice(2)),"hex")}function Gm(e){if(typeof e!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return L.byteLength(e,"utf8")}function Vm(e,t,r){if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)&&"some"||"every"](function(n){return e.indexOf(n)>=0})}function Zm(e){var t=new L(ta(Ch(e).replace(/^0+|0+$/g,"")),"hex");return t.toString("utf8")}function Jm(e){var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var o=parseInt(e.substr(r,2),16);t+=String.fromCharCode(o)}return t}function Ym(e){var t=new L(e,"utf8");return"0x"+ta(t.toString("hex")).replace(/^0+|0+$/g,"")}function Xm(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),o=n.toString(16);t+=o.length<2?"0"+o:o}return"0x"+t}function Qm(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if(typeof t!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],o=0;o<e.length;o++){var i=e[o][t];if(r&&!i)i="";else if(typeof i!="string")throw new Error("invalid abi");n.push(i)}return n}function e_(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}var Gn={arrayContainsArray:Vm,intToBuffer:jm,getBinarySize:Gm,isHexPrefixed:Wm,stripHexPrefix:Ch,padToEven:ta,intToHex:Ih,fromAscii:Xm,fromUtf8:Ym,toAscii:Jm,toUtf8:Zm,getKeys:Qm,isHexString:e_};(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},r=ln,n=r.keccak224,o=r.keccak384,i=r.keccak256,l=r.keccak512,v=Uv,g=gr,x=ar,y=ur.exports,S=kh,R=fr.exports.Buffer;Object.assign(e,Gn),e.MAX_INTEGER=new y("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new y("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=R.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=R.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=R.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=y,e.rlp=x,e.secp256k1=v,e.zeros=function(M){return R.allocUnsafe(M).fill(0)},e.zeroAddress=function(){var M=20,T=e.zeros(M);return e.bufferToHex(T)},e.setLengthLeft=e.setLength=function(M,T,A){var C=e.zeros(T);return M=e.toBuffer(M),A?M.length<T?(M.copy(C),C):M.slice(0,T):M.length<T?(M.copy(C,T-M.length),C):M.slice(-T)},e.setLengthRight=function(M,T){return e.setLength(M,T,!0)},e.unpad=e.stripZeros=function(M){M=e.stripHexPrefix(M);for(var T=M[0];M.length>0&&T.toString()==="0";)M=M.slice(1),T=M[0];return M},e.toBuffer=function(M){if(!R.isBuffer(M))if(Array.isArray(M))M=R.from(M);else if(typeof M=="string")e.isHexString(M)?M=R.from(e.padToEven(e.stripHexPrefix(M)),"hex"):M=R.from(M);else if(typeof M=="number")M=e.intToBuffer(M);else if(M==null)M=R.allocUnsafe(0);else if(y.isBN(M))M=M.toArrayLike(R);else if(M.toArray)M=R.from(M.toArray());else throw new Error("invalid type");return M},e.bufferToInt=function(M){return new y(e.toBuffer(M)).toNumber()},e.bufferToHex=function(M){return M=e.toBuffer(M),"0x"+M.toString("hex")},e.fromSigned=function(M){return new y(M).fromTwos(256)},e.toUnsigned=function(M){return R.from(M.toTwos(256).toArray())},e.keccak=function(M,T){switch(M=e.toBuffer(M),T||(T=256),T){case 224:return n(M);case 256:return i(M);case 384:return o(M);case 512:return l(M);default:throw new Error("Invald algorithm: keccak"+T)}},e.keccak256=function(M){return e.keccak(M)},e.sha3=e.keccak,e.sha256=function(M){return M=e.toBuffer(M),S("sha256").update(M).digest()},e.ripemd160=function(M,T){M=e.toBuffer(M);var A=S("rmd160").update(M).digest();return T===!0?e.setLength(A,32):A},e.rlphash=function(M){return e.keccak(x.encode(M))},e.isValidPrivate=function(M){return v.privateKeyVerify(M)},e.isValidPublic=function(M,T){return M.length===64?v.publicKeyVerify(R.concat([R.from([4]),M])):T?v.publicKeyVerify(M):!1},e.pubToAddress=e.publicToAddress=function(M,T){return M=e.toBuffer(M),T&&M.length!==64&&(M=v.publicKeyConvert(M,!1).slice(1)),g(M.length===64),e.keccak(M).slice(-20)};var I=e.privateToPublic=function(M){return M=e.toBuffer(M),v.publicKeyCreate(M,!1).slice(1)};e.importPublic=function(M){return M=e.toBuffer(M),M.length!==64&&(M=v.publicKeyConvert(M,!1).slice(1)),M},e.ecsign=function(M,T){var A=v.sign(M,T),C={};return C.r=A.signature.slice(0,32),C.s=A.signature.slice(32,64),C.v=A.recovery+27,C},e.hashPersonalMessage=function(M){var T=e.toBuffer(`Ethereum Signed Message:
`+M.length.toString());return e.keccak(R.concat([T,M]))},e.ecrecover=function(M,T,A,C){var k=R.concat([e.setLength(A,32),e.setLength(C,32)],64),B=T-27;if(B!==0&&B!==1)throw new Error("Invalid signature v value");var O=v.recover(M,k,B);return v.publicKeyConvert(O,!1).slice(1)},e.toRpcSig=function(M,T,A){if(M!==27&&M!==28)throw new Error("Invalid recovery id");return e.bufferToHex(R.concat([e.setLengthLeft(T,32),e.setLengthLeft(A,32),e.toBuffer(M-27)]))},e.fromRpcSig=function(M){if(M=e.toBuffer(M),M.length!==65)throw new Error("Invalid signature length");var T=M[64];return T<27&&(T+=27),{v:T,r:M.slice(0,32),s:M.slice(32,64)}},e.privateToAddress=function(M){return e.publicToAddress(I(M))},e.isValidAddress=function(M){return/^0x[0-9a-fA-F]{40}$/.test(M)},e.isZeroAddress=function(M){var T=e.zeroAddress();return T===e.addHexPrefix(M)},e.toChecksumAddress=function(M){M=e.stripHexPrefix(M).toLowerCase();for(var T=e.keccak(M).toString("hex"),A="0x",C=0;C<M.length;C++)parseInt(T[C],16)>=8?A+=M[C].toUpperCase():A+=M[C];return A},e.isValidChecksumAddress=function(M){return e.isValidAddress(M)&&e.toChecksumAddress(M)===M},e.generateAddress=function(M,T){return M=e.toBuffer(M),T=new y(T),T.isZero()?T=null:T=R.from(T.toArray()),e.rlphash([M,T]).slice(-20)},e.isPrecompiled=function(M){var T=e.unpad(M);return T.length===1&&T[0]>=1&&T[0]<=8},e.addHexPrefix=function(M){return typeof M!="string"||e.isHexPrefixed(M)?M:"0x"+M},e.isValidSignature=function(M,T,A,C){var k=new y("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),B=new y("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return!(T.length!==32||A.length!==32||M!==27&&M!==28||(T=new y(T),A=new y(A),T.isZero()||T.gt(B)||A.isZero()||A.gt(B))||C===!1&&new y(A).cmp(k)===1)},e.baToJSON=function(M){if(R.isBuffer(M))return"0x"+M.toString("hex");if(M instanceof Array){for(var T=[],A=0;A<M.length;A++)T.push(e.baToJSON(M[A]));return T}},e.defineProperties=function(M,T,A){if(M.raw=[],M._fields=[],M.toJSON=function(k){if(k){var B={};return M._fields.forEach(function(O){B[O]="0x"+M[O].toString("hex")}),B}return e.baToJSON(this.raw)},M.serialize=function(){return x.encode(M.raw)},T.forEach(function(k,B){M._fields.push(k.name);function O(){return M.raw[B]}function $(D){D=e.toBuffer(D),D.toString("hex")==="00"&&!k.allowZero&&(D=R.allocUnsafe(0)),k.allowLess&&k.length?(D=e.stripZeros(D),g(k.length>=D.length,"The field "+k.name+" must not have more "+k.length+" bytes")):!(k.allowZero&&D.length===0)&&k.length&&g(k.length===D.length,"The field "+k.name+" must have byte length of "+k.length),M.raw[B]=D}Object.defineProperty(M,k.name,{enumerable:!0,configurable:!0,get:O,set:$}),k.default&&(M[k.name]=k.default),k.alias&&Object.defineProperty(M,k.alias,{enumerable:!1,configurable:!0,set:$,get:O})}),A)if(typeof A=="string"&&(A=R.from(e.stripHexPrefix(A),"hex")),R.isBuffer(A)&&(A=x.decode(A)),Array.isArray(A)){if(A.length>M._fields.length)throw new Error("wrong number of fields in data");A.forEach(function(k,B){M[M._fields[B]]=e.toBuffer(k)})}else if((typeof A=="undefined"?"undefined":t(A))==="object"){var C=Object.keys(A);T.forEach(function(k){C.indexOf(k.name)!==-1&&(M[k.name]=A[k.name]),C.indexOf(k.alias)!==-1&&(M[k.alias]=A[k.alias])})}else throw new Error("invalid data")}})(Hn);var ds={exports:{}},vs={exports:{}},lo={exports:{}},t_=typeof Ie=="object"&&Ie&&Ie.Object===Object&&Ie,Ph=t_,r_=Ph,n_=typeof self=="object"&&self&&self.Object===Object&&self,i_=r_||n_||Function("return this")(),Bh=i_,o_=Bh,a_=o_.Symbol,Oh=a_,Cu=Oh,Lh=Object.prototype,s_=Lh.hasOwnProperty,f_=Lh.toString,fi=Cu?Cu.toStringTag:void 0;function u_(e){var t=s_.call(e,fi),r=e[fi];try{e[fi]=void 0;var n=!0}catch{}var o=f_.call(e);return n&&(t?e[fi]=r:delete e[fi]),o}var h_=u_,l_=Object.prototype,c_=l_.toString;function d_(e){return c_.call(e)}var v_=d_,Iu=Oh,p_=h_,g_=v_,m_="[object Null]",__="[object Undefined]",Pu=Iu?Iu.toStringTag:void 0;function y_(e){return e==null?e===void 0?__:m_:Pu&&Pu in Object(e)?p_(e):g_(e)}var lf=y_;function w_(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nh=w_,b_=lf,x_=Nh,M_="[object AsyncFunction]",S_="[object Function]",E_="[object GeneratorFunction]",A_="[object Proxy]";function R_(e){if(!x_(e))return!1;var t=b_(e);return t==S_||t==E_||t==M_||t==A_}var k_=R_,T_=9007199254740991;function C_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=T_}var qh=C_,I_=k_,P_=qh;function B_(e){return e!=null&&P_(e.length)&&!I_(e)}var ra=B_,co={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default})(co,co.exports);var ps={exports:{}},vo={exports:{}};function O_(){}var Bi=O_,mi={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(){if(n!==null){var o=n;n=null,o.apply(this,arguments)}}}e.exports=t.default})(mi,mi.exports);var gs={exports:{}},ms={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return r&&n[r]&&n[r]()};var r=typeof Symbol=="function"&&Symbol.iterator;e.exports=t.default})(ms,ms.exports);function L_(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var N_=L_;function q_(e){return e!=null&&typeof e=="object"}var cf=q_,U_=lf,$_=cf,D_="[object Arguments]";function H_(e){return $_(e)&&U_(e)==D_}var F_=H_,Bu=F_,z_=cf,Uh=Object.prototype,K_=Uh.hasOwnProperty,W_=Uh.propertyIsEnumerable,j_=Bu(function(){return arguments}())?Bu:function(e){return z_(e)&&K_.call(e,"callee")&&!W_.call(e,"callee")},G_=j_,V_=Array.isArray,$h=V_,_s={exports:{}};function Z_(){return!1}var J_=Z_;(function(e,t){var r=Bh,n=J_,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===o,v=l?r.Buffer:void 0,g=v?v.isBuffer:void 0,x=g||n;e.exports=x})(_s,_s.exports);var Y_=9007199254740991,X_=/^(?:0|[1-9]\d*)$/;function Q_(e,t){var r=typeof e;return t=t==null?Y_:t,!!t&&(r=="number"||r!="symbol"&&X_.test(e))&&e>-1&&e%1==0&&e<t}var e1=Q_,t1=lf,r1=qh,n1=cf,i1="[object Arguments]",o1="[object Array]",a1="[object Boolean]",s1="[object Date]",f1="[object Error]",u1="[object Function]",h1="[object Map]",l1="[object Number]",c1="[object Object]",d1="[object RegExp]",v1="[object Set]",p1="[object String]",g1="[object WeakMap]",m1="[object ArrayBuffer]",_1="[object DataView]",y1="[object Float32Array]",w1="[object Float64Array]",b1="[object Int8Array]",x1="[object Int16Array]",M1="[object Int32Array]",S1="[object Uint8Array]",E1="[object Uint8ClampedArray]",A1="[object Uint16Array]",R1="[object Uint32Array]",ht={};ht[y1]=ht[w1]=ht[b1]=ht[x1]=ht[M1]=ht[S1]=ht[E1]=ht[A1]=ht[R1]=!0;ht[i1]=ht[o1]=ht[m1]=ht[a1]=ht[_1]=ht[s1]=ht[f1]=ht[u1]=ht[h1]=ht[l1]=ht[c1]=ht[d1]=ht[v1]=ht[p1]=ht[g1]=!1;function k1(e){return n1(e)&&r1(e.length)&&!!ht[t1(e)]}var T1=k1;function C1(e){return function(t){return e(t)}}var I1=C1,ys={exports:{}};(function(e,t){var r=Ph,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===n,l=i&&r.process,v=function(){try{var g=o&&o.require&&o.require("util").types;return g||l&&l.binding&&l.binding("util")}catch{}}();e.exports=v})(ys,ys.exports);var P1=T1,B1=I1,Ou=ys.exports,Lu=Ou&&Ou.isTypedArray,O1=Lu?B1(Lu):P1,L1=O1,N1=N_,q1=G_,U1=$h,$1=_s.exports,D1=e1,H1=L1,F1=Object.prototype,z1=F1.hasOwnProperty;function K1(e,t){var r=U1(e),n=!r&&q1(e),o=!r&&!n&&$1(e),i=!r&&!n&&!o&&H1(e),l=r||n||o||i,v=l?N1(e.length,String):[],g=v.length;for(var x in e)(t||z1.call(e,x))&&!(l&&(x=="length"||o&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||D1(x,g)))&&v.push(x);return v}var W1=K1,j1=Object.prototype;function G1(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||j1;return e===r}var V1=G1;function Z1(e,t){return function(r){return e(t(r))}}var J1=Z1,Y1=J1,X1=Y1(Object.keys,Object),Q1=X1,ey=V1,ty=Q1,ry=Object.prototype,ny=ry.hasOwnProperty;function iy(e){if(!ey(e))return ty(e);var t=[];for(var r in Object(e))ny.call(e,r)&&r!="constructor"&&t.push(r);return t}var oy=iy,ay=W1,sy=oy,fy=ra;function uy(e){return fy(e)?ay(e):sy(e)}var hy=uy;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=R;var r=ra,n=g(r),o=ms.exports,i=g(o),l=hy,v=g(l);function g(I){return I&&I.__esModule?I:{default:I}}function x(I){var M=-1,T=I.length;return function(){return++M<T?{value:I[M],key:M}:null}}function y(I){var M=-1;return function(){var A=I.next();return A.done?null:(M++,{value:A.value,key:M})}}function S(I){var M=(0,v.default)(I),T=-1,A=M.length;return function C(){var k=M[++T];return k==="__proto__"?C():T<A?{value:I[k],key:k}:null}}function R(I){if((0,n.default)(I))return x(I);var M=(0,i.default)(I);return M?y(M):S(I)}e.exports=t.default})(gs,gs.exports);var _i={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(){if(n===null)throw new Error("Callback was already called.");var o=n;n=null,o.apply(this,arguments)}}e.exports=t.default})(_i,_i.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=I;var r=Bi,n=R(r),o=mi.exports,i=R(o),l=gs.exports,v=R(l),g=_i.exports,x=R(g),y=co.exports,S=R(y);function R(M){return M&&M.__esModule?M:{default:M}}function I(M){return function(T,A,C){if(C=(0,i.default)(C||n.default),M<=0||!T)return C(null);var k=(0,v.default)(T),B=!1,O=0,$=!1;function D(F,he){if(O-=1,F)B=!0,C(F);else{if(he===S.default||B&&O<=0)return B=!0,C(null);$||K()}}function K(){for($=!0;O<M&&!B;){var F=k();if(F===null){B=!0,O<=0&&C(null);return}O+=1,A(F.value,F.key,(0,x.default)(D))}$=!1}K()}}e.exports=t.default})(vo,vo.exports);var lr={},ws={exports:{}},bs={exports:{}},In={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,o){o=o|0;for(var i=Math.max(n.length-o,0),l=Array(i),v=0;v<i;v++)l[v]=n[o+v];return l}e.exports=t.default})(In,In.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(i){return function(){var l=(0,n.default)(arguments),v=l.pop();i.call(this,l,v)}};var r=In.exports,n=o(r);function o(i){return i&&i.__esModule?i:{default:i}}e.exports=t.default})(bs,bs.exports);var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.hasNextTick=Er.hasSetImmediate=void 0;Er.fallback=Dh;Er.wrap=Hh;var ly=In.exports,cy=dy(ly);function dy(e){return e&&e.__esModule?e:{default:e}}var vy=Er.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,py=Er.hasNextTick=typeof ce=="object"&&typeof ce.nextTick=="function";function Dh(e){setTimeout(e,0)}function Hh(e){return function(t){var r=(0,cy.default)(arguments,1);e(function(){t.apply(null,r)})}}var eo;vy?eo=setImmediate:py?eo=ce.nextTick:eo=Dh;Er.default=Hh(eo);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=Nh,n=g(r),o=bs.exports,i=g(o),l=Er,v=g(l);function g(R){return R&&R.__esModule?R:{default:R}}function x(R){return(0,i.default)(function(I,M){var T;try{T=R.apply(this,I)}catch(A){return M(A)}(0,n.default)(T)&&typeof T.then=="function"?T.then(function(A){y(M,null,A)},function(A){y(M,A.message?A:new Error(A))}):M(null,T)})}function y(R,I,M){try{R(I,M)}catch(T){(0,v.default)(S,T)}}function S(R){throw R}e.exports=t.default})(ws,ws.exports);Object.defineProperty(lr,"__esModule",{value:!0});lr.isAsync=void 0;var gy=ws.exports,my=_y(gy);function _y(e){return e&&e.__esModule?e:{default:e}}var yy=typeof Symbol=="function";function Fh(e){return yy&&e[Symbol.toStringTag]==="AsyncFunction"}function wy(e){return Fh(e)?(0,my.default)(e):e}lr.default=wy;lr.isAsync=Fh;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=vo.exports,n=l(r),o=lr,i=l(o);function l(g){return g&&g.__esModule?g:{default:g}}function v(g,x,y,S){(0,n.default)(x)(g,(0,i.default)(y),S)}e.exports=t.default})(ps,ps.exports);var po={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,o){return function(i,l,v){return n(i,o,l,v)}}e.exports=t.default})(po,po.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function($,D,K){var F=(0,n.default)($)?B:O;F($,(0,C.default)(D),K)};var r=ra,n=k(r),o=co.exports,i=k(o),l=ps.exports,v=k(l),g=po.exports,x=k(g),y=Bi,S=k(y),R=mi.exports,I=k(R),M=_i.exports,T=k(M),A=lr,C=k(A);function k($){return $&&$.__esModule?$:{default:$}}function B($,D,K){K=(0,I.default)(K||S.default);var F=0,he=0,P=$.length;P===0&&K(null);function d(s,f){s?K(s):(++he===P||f===i.default)&&K(null)}for(;F<P;F++)D($[F],F,(0,T.default)(d))}var O=(0,x.default)(v.default,1/0);e.exports=t.default})(lo,lo.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=lo.exports,n=l(r),o=lr,i=l(o);function l(g){return g&&g.__esModule?g:{default:g}}function v(g){return function(x,y,S){return g(n.default,x,(0,i.default)(y),S)}}e.exports=t.default})(vs,vs.exports);var xs={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=Bi,n=l(r),o=lr,i=l(o);function l(g){return g&&g.__esModule?g:{default:g}}function v(g,x,y,S){S=S||n.default,x=x||[];var R=[],I=0,M=(0,i.default)(y);g(x,function(T,A,C){var k=I++;M(T,function(B,O){R[k]=O,C(B)})},function(T){S(T,R)})}e.exports=t.default})(xs,xs.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=vs.exports,n=l(r),o=xs.exports,i=l(o);function l(v){return v&&v.__esModule?v:{default:v}}t.default=(0,n.default)(i.default),e.exports=t.default})(ds,ds.exports);var Ms={exports:{}},Ss={exports:{}},Es={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(o,i,l){return n(o,l)}}e.exports=t.default})(Es,Es.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=vo.exports,n=g(r),o=Es.exports,i=g(o),l=lr,v=g(l);function g(y){return y&&y.__esModule?y:{default:y}}function x(y,S,R,I){(0,n.default)(S)(y,(0,i.default)((0,v.default)(R)),I)}e.exports=t.default})(Ss,Ss.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Ss.exports,n=l(r),o=po.exports,i=l(o);function l(v){return v&&v.__esModule?v:{default:v}}t.default=(0,i.default)(n.default,1),e.exports=t.default})(Ms,Ms.exports);const zh=Ao.exports.EventEmitter,by=Mi.inherits;var xy=Oi;by(Oi,zh);function Oi(){const e=this;zh.call(e),e.isLocked=!0}Oi.prototype.go=function(){const e=this;e.isLocked=!1,e.emit("unlock")};Oi.prototype.stop=function(){const e=this;e.isLocked=!0,e.emit("lock")};Oi.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)};var df={},go,de,Nu={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},vf,$r=function(e){throw{name:"SyntaxError",message:e,at:go,text:vf}},Ne=function(e){return e&&e!==de&&$r("Expected '"+e+"' instead of '"+de+"'"),de=vf.charAt(go),go+=1,de},qu=function(){var e,t="";for(de==="-"&&(t="-",Ne("-"));de>="0"&&de<="9";)t+=de,Ne();if(de===".")for(t+=".";Ne()&&de>="0"&&de<="9";)t+=de;if(de==="e"||de==="E")for(t+=de,Ne(),(de==="-"||de==="+")&&(t+=de,Ne());de>="0"&&de<="9";)t+=de,Ne();if(e=+t,!isFinite(e))$r("Bad number");else return e},Kh=function(){var e,t,r="",n;if(de==='"')for(;Ne();){if(de==='"')return Ne(),r;if(de==="\\")if(Ne(),de==="u"){for(n=0,t=0;t<4&&(e=parseInt(Ne(),16),!!isFinite(e));t+=1)n=n*16+e;r+=String.fromCharCode(n)}else if(typeof Nu[de]=="string")r+=Nu[de];else break;else r+=de}$r("Bad string")},br=function(){for(;de&&de<=" ";)Ne()},My=function(){switch(de){case"t":return Ne("t"),Ne("r"),Ne("u"),Ne("e"),!0;case"f":return Ne("f"),Ne("a"),Ne("l"),Ne("s"),Ne("e"),!1;case"n":return Ne("n"),Ne("u"),Ne("l"),Ne("l"),null}$r("Unexpected '"+de+"'")},na,Sy=function(){var e=[];if(de==="["){if(Ne("["),br(),de==="]")return Ne("]"),e;for(;de;){if(e.push(na()),br(),de==="]")return Ne("]"),e;Ne(","),br()}}$r("Bad array")},Ey=function(){var e,t={};if(de==="{"){if(Ne("{"),br(),de==="}")return Ne("}"),t;for(;de;){if(e=Kh(),br(),Ne(":"),Object.hasOwnProperty.call(t,e)&&$r('Duplicate key "'+e+'"'),t[e]=na(),br(),de==="}")return Ne("}"),t;Ne(","),br()}}$r("Bad object")};na=function(){switch(br(),de){case"{":return Ey();case"[":return Sy();case'"':return Kh();case"-":return qu();default:return de>="0"&&de<="9"?qu():My()}};var Ay=function(e,t){var r;return vf=e,go=0,de=" ",r=na(),br(),de&&$r("Syntax error"),typeof t=="function"?function n(o,i){var l,v,g=o[i];if(g&&typeof g=="object")for(l in g)Object.prototype.hasOwnProperty.call(g,l)&&(v=n(g,l),v!==void 0?g[l]=v:delete g[l]);return t.call(o,i,g)}({"":r},""):r},$a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Bt,to,Ry={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Qr;function Da(e){return $a.lastIndex=0,$a.test(e)?'"'+e.replace($a,function(t){var r=Ry[t];return typeof r=="string"?r:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function ro(e,t){var r,n,o,i,l=Bt,v,g=t[e];switch(g&&typeof g=="object"&&typeof g.toJSON=="function"&&(g=g.toJSON(e)),typeof Qr=="function"&&(g=Qr.call(t,e,g)),typeof g){case"string":return Da(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(Bt+=to,v=[],Object.prototype.toString.apply(g)==="[object Array]"){for(i=g.length,r=0;r<i;r+=1)v[r]=ro(r,g)||"null";return o=v.length===0?"[]":Bt?`[
`+Bt+v.join(`,
`+Bt)+`
`+l+"]":"["+v.join(",")+"]",Bt=l,o}if(Qr&&typeof Qr=="object")for(i=Qr.length,r=0;r<i;r+=1)n=Qr[r],typeof n=="string"&&(o=ro(n,g),o&&v.push(Da(n)+(Bt?": ":":")+o));else for(n in g)Object.prototype.hasOwnProperty.call(g,n)&&(o=ro(n,g),o&&v.push(Da(n)+(Bt?": ":":")+o));return o=v.length===0?"{}":Bt?`{
`+Bt+v.join(`,
`+Bt)+`
`+l+"}":"{"+v.join(",")+"}",Bt=l,o}}var ky=function(e,t,r){var n;if(Bt="",to="",typeof r=="number")for(n=0;n<r;n+=1)to+=" ";else typeof r=="string"&&(to=r);if(Qr=t,t&&typeof t!="function"&&(typeof t!="object"||typeof t.length!="number"))throw new Error("JSON.stringify");return ro("",{"":e})};df.parse=Ay;df.stringify=ky;var Fi=typeof JSON!="undefined"?JSON:df,Wh=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=t.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var n=typeof t.cycles=="boolean"?t.cycles:!1,o=t.replacer||function(v,g){return g},i=t.cmp&&function(v){return function(g){return function(x,y){var S={key:x,value:g[x]},R={key:y,value:g[y]};return v(S,R)}}}(t.cmp),l=[];return function v(g,x,y,S){var R=r?`
`+new Array(S+1).join(r):"",I=r?": ":":";if(y&&y.toJSON&&typeof y.toJSON=="function"&&(y=y.toJSON()),y=o.call(g,x,y),y!==void 0){if(typeof y!="object"||y===null)return Fi.stringify(y);if(Ty(y)){for(var M=[],T=0;T<y.length;T++){var A=v(y,T,y[T],S+1)||Fi.stringify(null);M.push(R+r+A)}return"["+M.join(",")+R+"]"}else{if(l.indexOf(y)!==-1){if(n)return Fi.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else l.push(y);for(var C=Cy(y).sort(i&&i(y)),M=[],T=0;T<C.length;T++){var x=C[T],k=v(y,x,y[x],S+1);if(!!k){var B=Fi.stringify(x)+I+k;M.push(R+r+B)}}return l.splice(l.indexOf(y),1),"{"+M.join(",")+R+"}"}}}({"":e},"",e,0)},Ty=Array.isArray||function(e){return{}.toString.call(e)==="[object Array]"},Cy=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r};const Iy=Wh;var Py={cacheIdentifierForPayload:By,canCache:jh,blockTagForPayload:Oy,paramsWithoutBlockTag:Gh,blockTagParamIndex:pf,cacheTypeForPayload:Vh};function By(e,t={}){if(!jh(e))return null;const{includeBlockRef:r}=t,n=r?e.params:Gh(e);return e.method+":"+Iy(n)}function jh(e){return Vh(e)!=="never"}function Oy(e){var t=pf(e);return t>=e.params.length?null:e.params[t]}function Gh(e){var t=pf(e);return t>=e.params.length?e.params:e.method==="eth_getBlockByNumber"?e.params.slice(1):e.params.slice(0,t)}function pf(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function Vh(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}var Ly=Ny;function Ny(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())}const qy=Ly,Uy=k0;var gf=$y;function $y(e){return Uy({id:qy(),jsonrpc:"2.0",params:[]},e)}const Zh=Ao.exports.EventEmitter,Dy=Mi.inherits,gt=Hn,Hy=sd,Fy=ds.exports,zy=Ms.exports,Ky=xy,Wy=gf,jy=function(){};var Gy=Lt;Dy(Lt,Zh);function Lt(e){const t=this;Zh.call(t),t.setMaxListeners(30),e=e||{};const r={sendAsync:t._handleAsync.bind(t)},n=e.blockTrackerProvider||r;t._blockTracker=e.blockTracker||new Hy({provider:n,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),t._ready=new Ky,t.currentBlock=null,t._providers=[]}Lt.prototype.start=function(e=jy){const t=this;t._ready.go(),t._blockTracker.on("latest",r=>{t._getBlockByNumberWithRetry(r,(n,o)=>{if(n){this.emit("error",n);return}if(!o){console.log(o),this.emit("error",new Error("Could not find block"));return}const i=Vy(o);t._setCurrentBlock(i),t.emit("rawBlock",o),t.emit("latest",o)})}),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")};Lt.prototype.stop=function(){const e=this;e._blockTracker.removeAllListeners(),e._running=!1,e.emit("stop")};Lt.prototype.isRunning=function(){return this._running};Lt.prototype.addProvider=function(e,t){const r=this;typeof t=="number"?r._providers.splice(t,0,e):r._providers.push(e),e.setEngine(this)};Lt.prototype.removeProvider=function(e){const t=this,r=t._providers.indexOf(e);if(r<0)throw new Error("Provider not found.");t._providers.splice(r,1)};Lt.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")};Lt.prototype.sendAsync=function(e,t){const r=this;r._ready.await(function(){Array.isArray(e)?Fy(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)})};Lt.prototype._getBlockByNumberWithRetry=function(e,t){const r=this;let n=5;o();return;function o(){r._getBlockByNumber(e,i)}function i(l,v){if(l)return t(l);if(!v)if(n>0){n--,setTimeout(function(){o()},1e3);return}else{t(null,null);return}t(null,v)}};Lt.prototype._getBlockByNumber=function(e,t){const r=Wy({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(r,(n,o)=>n?t(n):t(null,o.result))};Lt.prototype._handleAsync=function(e,t){var r=this,n=-1,o=null,i=null,l=[];v();function v(x){if(n+=1,l.unshift(x),n>=r._providers.length)g(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{var y=r._providers[n];y.handleRequest(e,v,g)}catch(S){g(S)}}function g(x,y){i=x,o=y,zy(l,function(S,R){S?S(i,o,R):R()},function(){var S={id:e.id,jsonrpc:e.jsonrpc,result:o};i!=null?(S.error={message:i.stack||i.message||i,code:-32e3},t(i,S)):t(null,S)})}};Lt.prototype._setCurrentBlock=function(e){const t=this;t.currentBlock=e,t.emit("block",e)};function Vy(e){return{number:gt.toBuffer(e.number),hash:gt.toBuffer(e.hash),parentHash:gt.toBuffer(e.parentHash),nonce:gt.toBuffer(e.nonce),mixHash:gt.toBuffer(e.mixHash),sha3Uncles:gt.toBuffer(e.sha3Uncles),logsBloom:gt.toBuffer(e.logsBloom),transactionsRoot:gt.toBuffer(e.transactionsRoot),stateRoot:gt.toBuffer(e.stateRoot),receiptsRoot:gt.toBuffer(e.receiptRoot||e.receiptsRoot),miner:gt.toBuffer(e.miner),difficulty:gt.toBuffer(e.difficulty),totalDifficulty:gt.toBuffer(e.totalDifficulty),size:gt.toBuffer(e.size),extraData:gt.toBuffer(e.extraData),gasLimit:gt.toBuffer(e.gasLimit),gasUsed:gt.toBuffer(e.gasUsed),timestamp:gt.toBuffer(e.timestamp),transactions:e.transactions}}const Zy=gf;var ia=Vn;function Vn(){}Vn.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",function(r){t.currentBlock=r}),e.on("start",function(){t.start()}),e.on("stop",function(){t.stop()}))};Vn.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")};Vn.prototype.emitPayload=function(e,t){this.engine.sendAsync(Zy(e),t)};Vn.prototype.stop=function(){};Vn.prototype.start=function(){};const Jy=ia;class Yy extends Jy{constructor(t){if(super(),!t)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=t}setEngine(t){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const r=t._blockTracker,n=this._constructorFn({engine:t,provider:t,blockTracker:r});if(!n)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if(typeof n!="function")throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=n}handleRequest(t,r,n){const o={id:t.id};this.middleware(t,o,i,l);function i(v){r((g,x,y)=>{g?(delete o.result,o.error={message:g.message||g}):o.result=x,v?v(y):y()})}function l(v){if(v)return n(v);n(null,o.result)}}}var mf=Yy;const Xy=Wh;var Qy={cacheIdentifierForPayload:ew,canCache:Jh,blockTagForPayload:tw,paramsWithoutBlockTag:Yh,blockTagParamIndex:_f,cacheTypeForPayload:Xh};function ew(e,t){const r=t?Yh(e):e.params;return Jh(e)?e.method+":"+Xy(r):null}function Jh(e){return Xh(e)!=="never"}function tw(e){let t=_f(e);return t>=e.params.length?null:e.params[t]}function Yh(e){const t=_f(e);return t>=e.params.length?e.params:e.method==="eth_getBlockByNumber"?e.params.slice(1):e.params.slice(0,t)}function _f(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function Xh(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}var rw=function(t){return(r,n,o,i)=>{let l;const v=new Promise(S=>{l=S});let g,x;t(r,n,async()=>{x=!0,o(S=>{g=S,l()}),await v}).then(async()=>{x?(await v,g(null)):i(null)}).catch(S=>{g?g(S):i(S)})}};const bn=Qy,nw=rw,iw=[void 0,null,"<nil>"];var ow=aw;function aw(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new sw,n={perma:r,block:r,fork:r};return nw(async(o,i,l)=>{if(o.skipCache)return l();const v=bn.cacheTypeForPayload(o),g=n[v];if(!g||!g.canCacheRequest(o))return l();let x=bn.blockTagForPayload(o);x||(x="latest");let y;if(x==="earliest")y="0x00";else if(x==="latest"){const R=await t.getLatestBlock();r.clearBefore(R),y=R}else y=x;const S=await g.get(o,y);S===void 0?(await l(),await g.set(o,y,i.result)):i.result=S})}class sw{constructor(){this.cache={}}getBlockCacheForPayload(t,r){const n=Number.parseInt(r,16);let o=this.cache[n];if(!o){const i={};this.cache[n]=i,o=i}return o}async get(t,r){const n=this.getBlockCacheForPayload(t,r);if(!n)return;const o=bn.cacheIdentifierForPayload(t,!0);return n[o]}async set(t,r,n){if(!this.canCacheResult(t,n))return;const i=this.getBlockCacheForPayload(t,r),l=bn.cacheIdentifierForPayload(t,!0);i[l]=n}canCacheRequest(t){return!(!bn.canCache(t)||bn.blockTagForPayload(t)==="pending")}canCacheResult(t,r){if(!iw.includes(r))return!(["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(t.method)&&(!r||!r.blockHash||r.blockHash==="0x0000000000000000000000000000000000000000000000000000000000000000"))}clearBefore(t){const r=this,n=Number.parseInt(t,16);Object.keys(r.cache).map(Number).filter(o=>o<n).forEach(o=>delete r.cache[o])}}const fw=mf,uw=ow;class hw extends fw{constructor(t){super(({blockTracker:r})=>uw(Object.assign({blockTracker:r},t)))}}var lw=hw;const cw=Mi.inherits,dw=ia;var vw=yf;cw(yf,dw);function yf(e){const t=this;e=e||{},t.staticResponses=e}yf.prototype.handleRequest=function(e,t,r){var o=this.staticResponses[e.method];typeof o=="function"?o(e,t,r):o!==void 0?setTimeout(()=>r(null,o)):t()};const pw=mf,gw=fd;class mw extends pw{constructor(){super(({blockTracker:t,provider:r,engine:n})=>gw({blockTracker:t,provider:r}))}}var _w=mw,As={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(T,A){if(A=(0,v.default)(A||i.default),!(0,n.default)(T))return A(new Error("First argument to waterfall must be an array of functions"));if(!T.length)return A();var C=0;function k(O){var $=(0,I.default)(T[C++]);O.push((0,S.default)(B)),$.apply(null,O)}function B(O){if(O||C===T.length)return A.apply(null,arguments);k((0,x.default)(arguments,1))}k([])};var r=$h,n=M(r),o=Bi,i=M(o),l=mi.exports,v=M(l),g=In.exports,x=M(g),y=_i.exports,S=M(y),R=lr,I=M(R);function M(T){return T&&T.__esModule?T:{default:T}}e.exports=t.default})(As,As.exports);var Rs={exports:{}},ks={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var r=Bi,n=y(r),o=ra,i=y(o),l=In.exports,v=y(l),g=lr,x=y(g);function y(R){return R&&R.__esModule?R:{default:R}}function S(R,I,M){M=M||n.default;var T=(0,i.default)(I)?[]:{};R(I,function(A,C,k){(0,x.default)(A)(function(B,O){arguments.length>2&&(O=(0,v.default)(arguments,1)),T[C]=O,k(B)})},function(A){M(A,T)})}e.exports=t.default})(ks,ks.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=lo.exports,n=l(r),o=ks.exports,i=l(o);function l(g){return g&&g.__esModule?g:{default:g}}function v(g,x){(0,i.default)(n.default,g,x)}e.exports=t.default})(Rs,Rs.exports);var Qh={},oa={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});var an=ur.exports,yw=To.ec,wf=new yw("secp256k1"),Pn=wf.curve;Zn.privateKeyExport=function(e,t){t===void 0&&(t=!0);var r=new an(e);if(r.ucmp(Pn.n)>=0)throw new Error("couldn't export to DER format");var n=wf.g.mul(r);return el(n.getX(),n.getY(),t)};Zn.privateKeyModInverse=function(e){var t=new an(e);if(t.ucmp(Pn.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(Pn.n).toArrayLike(L,"be",32)};Zn.signatureImport=function(e){var t=new an(e.r);t.ucmp(Pn.n)>=0&&(t=new an(0));var r=new an(e.s);return r.ucmp(Pn.n)>=0&&(r=new an(0)),L.concat([t.toArrayLike(L,"be",32),r.toArrayLike(L,"be",32)])};Zn.ecdhUnsafe=function(e,t,r){r===void 0&&(r=!0);var n=wf.keyFromPublic(e),o=new an(t);if(o.ucmp(Pn.n)>=0||o.isZero())throw new Error("scalar was invalid (zero or overflow)");var i=n.pub.mul(o);return el(i.getX(),i.getY(),r)};var el=function(e,t,r){var n;return r?(n=L.alloc(33),n[0]=t.isOdd()?3:2,e.toArrayLike(L,"be",32).copy(n,1)):(n=L.alloc(65),n[0]=4,e.toArrayLike(L,"be",32).copy(n,1),t.toArrayLike(L,"be",32).copy(n,33)),n},Li={};Object.defineProperty(Li,"__esModule",{value:!0});var ww=L.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bw=L.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Li.privateKeyExport=function(e,t,r){r===void 0&&(r=!0);var n=L.from(r?ww:bw);return e.copy(n,r?8:9),t.copy(n,r?181:214),n};Li.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||e[r]!==48||(r+=1,t<r+1||!(e[r]&128)))return null;var n=e[r]&127;if(r+=1,n<1||n>2||t<r+n)return null;var o=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return r+=n,t<r+o||t<r+3||e[r]!==2||e[r+1]!==1||e[r+2]!==1||(r+=3,t<r+2||e[r]!==4||e[r+1]>32||t<r+2+e[r+1])?null:e.slice(r+2,r+2+e[r+1])};Li.signatureImportLax=function(e){var t=L.alloc(32,0),r=L.alloc(32,0),n=e.length,o=0;if(e[o++]!==48)return null;var i=e[o++];if(i&128&&(o+=i-128,o>n)||e[o++]!==2)return null;var l=e[o++];if(l&128){if(i=l-128,o+i>n)return null;for(;i>0&&e[o]===0;o+=1,i-=1);for(l=0;i>0;o+=1,i-=1)l=(l<<8)+e[o]}if(l>n-o)return null;var v=o;if(o+=l,e[o++]!==2)return null;var g=e[o++];if(g&128){if(i=g-128,o+i>n)return null;for(;i>0&&e[o]===0;o+=1,i-=1);for(g=0;i>0;o+=1,i-=1)g=(g<<8)+e[o]}if(g>n-o)return null;var x=o;for(o+=g;l>0&&e[v]===0;l-=1,v+=1);if(l>32)return null;var y=e.slice(v,v+l);for(y.copy(t,32-y.length);g>0&&e[x]===0;g-=1,x+=1);if(g>32)return null;var S=e.slice(x,x+g);return S.copy(r,32-S.length),{r:t,s:r}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ecdhUnsafe=e.ecdh=e.recover=e.verify=e.sign=e.signatureImportLax=e.signatureImport=e.signatureExport=e.signatureNormalize=e.publicKeyCombine=e.publicKeyTweakMul=e.publicKeyTweakAdd=e.publicKeyVerify=e.publicKeyConvert=e.publicKeyCreate=e.privateKeyTweakMul=e.privateKeyTweakAdd=e.privateKeyModInverse=e.privateKeyNegate=e.privateKeyImport=e.privateKeyExport=e.privateKeyVerify=void 0;var t=Js,r=Zn,n=Li;e.privateKeyVerify=function(o){return o.length!==32?!1:t.privateKeyVerify(Uint8Array.from(o))},e.privateKeyExport=function(o,i){if(o.length!==32)throw new RangeError("private key length is invalid");var l=r.privateKeyExport(o,i);return n.privateKeyExport(o,l,i)},e.privateKeyImport=function(o){if(o=n.privateKeyImport(o),o!==null&&o.length===32&&e.privateKeyVerify(o))return o;throw new Error("couldn't import from DER format")},e.privateKeyNegate=function(o){return L.from(t.privateKeyNegate(Uint8Array.from(o)))},e.privateKeyModInverse=function(o){if(o.length!==32)throw new Error("private key length is invalid");return L.from(r.privateKeyModInverse(Uint8Array.from(o)))},e.privateKeyTweakAdd=function(o,i){return L.from(t.privateKeyTweakAdd(Uint8Array.from(o),i))},e.privateKeyTweakMul=function(o,i){return L.from(t.privateKeyTweakMul(Uint8Array.from(o),Uint8Array.from(i)))},e.publicKeyCreate=function(o,i){return L.from(t.publicKeyCreate(Uint8Array.from(o),i))},e.publicKeyConvert=function(o,i){return L.from(t.publicKeyConvert(Uint8Array.from(o),i))},e.publicKeyVerify=function(o){return o.length!==33&&o.length!==65?!1:t.publicKeyVerify(Uint8Array.from(o))},e.publicKeyTweakAdd=function(o,i,l){return L.from(t.publicKeyTweakAdd(Uint8Array.from(o),Uint8Array.from(i),l))},e.publicKeyTweakMul=function(o,i,l){return L.from(t.publicKeyTweakMul(Uint8Array.from(o),Uint8Array.from(i),l))},e.publicKeyCombine=function(o,i){var l=[];return o.forEach(function(v){l.push(Uint8Array.from(v))}),L.from(t.publicKeyCombine(l,i))},e.signatureNormalize=function(o){return L.from(t.signatureNormalize(Uint8Array.from(o)))},e.signatureExport=function(o){return L.from(t.signatureExport(Uint8Array.from(o)))},e.signatureImport=function(o){return L.from(t.signatureImport(Uint8Array.from(o)))},e.signatureImportLax=function(o){if(o.length===0)throw new RangeError("signature length is invalid");var i=n.signatureImportLax(o);if(i===null)throw new Error("couldn't parse DER signature");return r.signatureImport(i)},e.sign=function(o,i,l){if(l===null)throw new TypeError("options should be an Object");var v=void 0;if(l){if(v={},l.data===null)throw new TypeError("options.data should be a Buffer");if(l.data){if(l.data.length!=32)throw new RangeError("options.data length is invalid");v.data=new Uint8Array(l.data)}if(l.noncefn===null)throw new TypeError("options.noncefn should be a Function");l.noncefn&&(v.noncefn=function(x,y,S,R,I){var M=S!=null?L.from(S):null,T=R!=null?L.from(R):null,A=L.from("");return l.noncefn&&(A=l.noncefn(L.from(x),L.from(y),M,T,I)),new Uint8Array(A)})}var g=t.ecdsaSign(Uint8Array.from(o),Uint8Array.from(i),v);return{signature:L.from(g.signature),recovery:g.recid}},e.verify=function(o,i,l){return t.ecdsaVerify(Uint8Array.from(i),Uint8Array.from(o),l)},e.recover=function(o,i,l,v){return L.from(t.ecdsaRecover(Uint8Array.from(i),l,Uint8Array.from(o),v))},e.ecdh=function(o,i){return L.from(t.ecdh(Uint8Array.from(o),Uint8Array.from(i),{}))},e.ecdhUnsafe=function(o,i,l){if(o.length!==33&&o.length!==65)throw new RangeError("public key length is invalid");if(i.length!==32)throw new RangeError("private key length is invalid");return L.from(r.ecdhUnsafe(Uint8Array.from(o),Uint8Array.from(i),l))}})(oa);var tl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=void 0;var t=ur.exports;e.MAX_INTEGER=new t("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new t("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=L.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=L.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=L.from(e.KECCAK256_RLP_S,"hex")})(tl);var rl={},Jn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.baToJSON=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.stripZeros=e.unpad=e.setLengthRight=e.setLength=e.setLengthLeft=e.zeros=void 0;var t=Gn,r=ur.exports;e.zeros=function(n){return L.allocUnsafe(n).fill(0)},e.setLengthLeft=function(n,o,i){i===void 0&&(i=!1);var l=e.zeros(o);return n=e.toBuffer(n),i?n.length<o?(n.copy(l),l):n.slice(0,o):n.length<o?(n.copy(l,o-n.length),l):n.slice(-o)},e.setLength=e.setLengthLeft,e.setLengthRight=function(n,o){return e.setLength(n,o,!0)},e.unpad=function(n){n=t.stripHexPrefix(n);for(var o=n[0];n.length>0&&o.toString()==="0";)n=n.slice(1),o=n[0];return n},e.stripZeros=e.unpad,e.toBuffer=function(n){if(!L.isBuffer(n))if(Array.isArray(n))n=L.from(n);else if(typeof n=="string")if(t.isHexString(n))n=L.from(t.padToEven(t.stripHexPrefix(n)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+n);else if(typeof n=="number")n=t.intToBuffer(n);else if(n==null)n=L.allocUnsafe(0);else if(r.isBN(n))n=n.toArrayLike(L);else if(n.toArray)n=L.from(n.toArray());else throw new Error("invalid type");return n},e.bufferToInt=function(n){return new r(e.toBuffer(n)).toNumber()},e.bufferToHex=function(n){return n=e.toBuffer(n),"0x"+n.toString("hex")},e.fromSigned=function(n){return new r(n).fromTwos(256)},e.toUnsigned=function(n){return L.from(n.toTwos(256).toArray())},e.addHexPrefix=function(n){return typeof n!="string"||t.isHexPrefixed(n)?n:"0x"+n},e.baToJSON=function(n){if(L.isBuffer(n))return"0x"+n.toString("hex");if(n instanceof Array){for(var o=[],i=0;i<n.length;i++)o.push(e.baToJSON(n[i]));return o}}})(Jn);var aa={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160=e.sha256=e.keccak256=e.keccak=void 0;var t=ln,r=t.keccak224,n=t.keccak384,o=t.keccak256,i=t.keccak512,l=kh,v=Gn,g=ar,x=Jn;e.keccak=function(y,S){switch(S===void 0&&(S=256),typeof y=="string"&&!v.isHexString(y)?y=L.from(y,"utf8"):y=x.toBuffer(y),S||(S=256),S){case 224:return r(y);case 256:return o(y);case 384:return n(y);case 512:return i(y);default:throw new Error("Invald algorithm: keccak"+S)}},e.keccak256=function(y){return e.keccak(y)},e.sha256=function(y){return y=x.toBuffer(y),l("sha256").update(y).digest()},e.ripemd160=function(y,S){y=x.toBuffer(y);var R=l("rmd160").update(y).digest();return S===!0?x.setLength(R,32):R},e.rlphash=function(y){return e.keccak(g.encode(y))}})(aa);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importPublic=e.privateToPublic=e.privateToAddress=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.isPrecompiled=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isZeroAddress=e.isValidAddress=e.zeroAddress=void 0;var t=gr,r=Gn,n=oa,o=ur.exports,i=Jn,l=aa;e.zeroAddress=function(){var v=20,g=i.zeros(v);return i.bufferToHex(g)},e.isValidAddress=function(v){return/^0x[0-9a-fA-F]{40}$/.test(v)},e.isZeroAddress=function(v){var g=e.zeroAddress();return g===i.addHexPrefix(v)},e.toChecksumAddress=function(v,g){v=r.stripHexPrefix(v).toLowerCase();for(var x=g!==void 0?g.toString()+"0x":"",y=l.keccak(x+v).toString("hex"),S="0x",R=0;R<v.length;R++)parseInt(y[R],16)>=8?S+=v[R].toUpperCase():S+=v[R];return S},e.isValidChecksumAddress=function(v,g){return e.isValidAddress(v)&&e.toChecksumAddress(v,g)===v},e.generateAddress=function(v,g){v=i.toBuffer(v);var x=new o(g);return x.isZero()?l.rlphash([v,null]).slice(-20):l.rlphash([v,L.from(x.toArray())]).slice(-20)},e.generateAddress2=function(v,g,x){var y=i.toBuffer(v),S=i.toBuffer(g),R=i.toBuffer(x);t(y.length===20),t(S.length===32);var I=l.keccak256(L.concat([L.from("ff","hex"),y,S,l.keccak256(R)]));return I.slice(-20)},e.isPrecompiled=function(v){var g=i.unpad(v);return g.length===1&&g[0]>=1&&g[0]<=8},e.isValidPrivate=function(v){return n.privateKeyVerify(v)},e.isValidPublic=function(v,g){return g===void 0&&(g=!1),v.length===64?n.publicKeyVerify(L.concat([L.from([4]),v])):g?n.publicKeyVerify(v):!1},e.pubToAddress=function(v,g){return g===void 0&&(g=!1),v=i.toBuffer(v),g&&v.length!==64&&(v=n.publicKeyConvert(v,!1).slice(1)),t(v.length===64),l.keccak(v).slice(-20)},e.publicToAddress=e.pubToAddress,e.privateToAddress=function(v){return e.publicToAddress(e.privateToPublic(v))},e.privateToPublic=function(v){return v=i.toBuffer(v),n.publicKeyCreate(v,!1).slice(1)},e.importPublic=function(v){return v=i.toBuffer(v),v.length!==64&&(v=n.publicKeyConvert(v,!1).slice(1)),v}})(rl);var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.hashPersonalMessage=Ct.isValidSignature=Ct.fromRpcSig=Ct.toRpcSig=Ct.ecrecover=Ct.ecsign=void 0;var Ts=oa,zi=ur.exports,sn=Jn,xw=aa;Ct.ecsign=function(e,t,r){var n=Ts.sign(e,t),o=n.recovery,i={r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?o+(r*2+35):o+27};return i};Ct.ecrecover=function(e,t,r,n,o){var i=L.concat([sn.setLength(r,32),sn.setLength(n,32)],64),l=bf(t,o);if(!xf(l))throw new Error("Invalid signature v value");var v=Ts.recover(e,i,l);return Ts.publicKeyConvert(v,!1).slice(1)};Ct.toRpcSig=function(e,t,r,n){var o=bf(e,n);if(!xf(o))throw new Error("Invalid signature v value");return sn.bufferToHex(L.concat([sn.setLengthLeft(t,32),sn.setLengthLeft(r,32),sn.toBuffer(e)]))};Ct.fromRpcSig=function(e){var t=sn.toBuffer(e);if(t.length!==65)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}};Ct.isValidSignature=function(e,t,r,n,o){n===void 0&&(n=!0);var i=new zi("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),l=new zi("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(t.length!==32||r.length!==32||!xf(bf(e,o)))return!1;var v=new zi(t),g=new zi(r);return!(v.isZero()||v.gt(l)||g.isZero()||g.gt(l)||n&&g.cmp(i)===1)};Ct.hashPersonalMessage=function(e){var t=L.from(`Ethereum Signed Message:
`+e.length.toString(),"utf-8");return xw.keccak(L.concat([t,e]))};function bf(e,t){return t?e-(2*t+35):e-27}function xf(e){return e===0||e===1}var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.defineProperties=void 0;var Uu=gr,Mw=Gn,$u=ar,Ki=Jn;sa.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(o){if(o===void 0&&(o=!1),o){var i={};return e._fields.forEach(function(l){i[l]="0x"+e[l].toString("hex")}),i}return Ki.baToJSON(e.raw)},e.serialize=function(){return $u.encode(e.raw)},t.forEach(function(o,i){e._fields.push(o.name);function l(){return e.raw[i]}function v(g){g=Ki.toBuffer(g),g.toString("hex")==="00"&&!o.allowZero&&(g=L.allocUnsafe(0)),o.allowLess&&o.length?(g=Ki.stripZeros(g),Uu(o.length>=g.length,"The field "+o.name+" must not have more "+o.length+" bytes")):!(o.allowZero&&g.length===0)&&o.length&&Uu(o.length===g.length,"The field "+o.name+" must have byte length of "+o.length),e.raw[i]=g}Object.defineProperty(e,o.name,{enumerable:!0,configurable:!0,get:l,set:v}),o.default&&(e[o.name]=o.default),o.alias&&Object.defineProperty(e,o.alias,{enumerable:!1,configurable:!0,set:v,get:l})}),r)if(typeof r=="string"&&(r=L.from(Mw.stripHexPrefix(r),"hex")),L.isBuffer(r)&&(r=$u.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(o,i){e[e._fields[i]]=Ki.toBuffer(o)})}else if(typeof r=="object"){var n=Object.keys(r);t.forEach(function(o){n.indexOf(o.name)!==-1&&(e[o.name]=r[o.name]),n.indexOf(o.alias)!==-1&&(e[o.alias]=r[o.alias])})}else throw new Error("invalid data")};(function(e){var t=Ie&&Ie.__createBinding||(Object.create?function(v,g,x,y){y===void 0&&(y=x),Object.defineProperty(v,y,{enumerable:!0,get:function(){return g[x]}})}:function(v,g,x,y){y===void 0&&(y=x),v[y]=g[x]}),r=Ie&&Ie.__exportStar||function(v,g){for(var x in v)x!=="default"&&!g.hasOwnProperty(x)&&t(g,v,x)};Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=e.rlp=e.BN=void 0;var n=oa;e.secp256k1=n;var o=Gn,i=ur.exports;e.BN=i;var l=ar;e.rlp=l,Object.assign(e,o),r(tl,e),r(rl,e),r(aa,e),r(Ct,e),r(Jn,e),r(sa,e)})(Qh);const pr=Qh,Tt=ur.exports;var lt=function(){};function fa(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}lt.eventID=function(e,t){var r=e+"("+t.map(fa).join(",")+")";return pr.keccak256(L.from(r))};lt.methodID=function(e,t){return lt.eventID(e,t).slice(0,4)};function Or(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function Cs(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Ni(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function tn(e){var t=typeof e;if(t==="string")return pr.isHexPrefixed(e)?new Tt(pr.stripHexPrefix(e),16):new Tt(e,10);if(t==="number")return new Tt(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function nl(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(t.length!==3)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(r!==null&&r.length===3)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return n.length===1&&n[0]===""&&(n=[]),{method:t[1],args:n}}function cr(e,t){var r,n,o,i;if(e==="address")return cr("uint160",tn(t));if(e==="bool")return cr("uint8",t?1:0);if(e==="string")return cr("bytes",L.from(t,"utf8"));if(yi(e)){if(typeof t.length=="undefined")throw new Error("Not an array?");if(r=Ni(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);o=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(i in t)o.push(cr(e,t[i]));if(r==="dynamic"){var l=cr("uint256",t.length);o.unshift(l)}return L.concat(o)}else{if(e==="bytes")return t=L.from(t),o=L.concat([cr("uint256",t.length),t]),t.length%32!==0&&(o=L.concat([o,pr.zeros(32-t.length%32)])),o;if(e.startsWith("bytes")){if(r=Or(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return pr.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=Or(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=tn(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(L,"be",32)}else if(e.startsWith("int")){if(r=Or(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=tn(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(L,"be",32)}else if(e.startsWith("ufixed")){if(r=Cs(e),n=tn(t),n<0)throw new Error("Supplied ufixed is negative");return cr("uint256",n.mul(new Tt(2).pow(new Tt(r[1]))))}else if(e.startsWith("fixed"))return r=Cs(e),cr("int256",tn(t).mul(new Tt(2).pow(new Tt(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function or(e,t,r){typeof e=="string"&&(e=Mf(e));var n,o,i,l;if(e.name==="address")return or(e.rawType,t,r).toArrayLike(L,"be",20).toString("hex");if(e.name==="bool")return or(e.rawType,t,r).toString()===new Tt(1).toString();if(e.name==="string"){var v=or(e.rawType,t,r);return L.from(v,"utf8").toString()}else if(e.isArray){for(i=[],n=e.size,e.size==="dynamic"&&(r=or("uint256",t,r).toNumber(),n=or("uint256",t,r).toNumber(),r=r+32),l=0;l<n;l++){var g=or(e.subArray,t,r);i.push(g),r+=e.subArray.memoryUsage}return i}else{if(e.name==="bytes")return r=or("uint256",t,r).toNumber(),n=or("uint256",t,r).toNumber(),t.slice(r+32,r+32+n);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if(o=new Tt(t.slice(r,r+32),16,"be"),o.bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+o.bitLength());return o}else if(e.name.startsWith("int")){if(o=new Tt(t.slice(r,r+32),16,"be").fromTwos(256),o.bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+o.bitLength());return o}else if(e.name.startsWith("ufixed")){if(n=new Tt(2).pow(new Tt(e.size[1])),o=or("uint256",t,r),!o.mod(n).isZero())throw new Error("Decimals not supported yet");return o.div(n)}else if(e.name.startsWith("fixed")){if(n=new Tt(2).pow(new Tt(e.size[1])),o=or("int256",t,r),!o.mod(n).isZero())throw new Error("Decimals not supported yet");return o.div(n)}}throw new Error("Unsupported or invalid type: "+e.name)}function Mf(e){var t,r;if(yi(e)){t=Ni(e);var n=e.slice(0,e.lastIndexOf("["));return n=Mf(n),r={isArray:!0,name:e,size:t,memoryUsage:t==="dynamic"?32:n.memoryUsage*t,subArray:n},r}else{var o;switch(e){case"address":o="uint160";break;case"bool":o="uint8";break;case"string":o="bytes";break}if(r={rawType:o,name:e,memoryUsage:32},e.startsWith("bytes")&&e!=="bytes"||e.startsWith("uint")||e.startsWith("int")?r.size=Or(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=Cs(e)),e.startsWith("bytes")&&e!=="bytes"&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}}function Sw(e){return e==="string"||e==="bytes"||Ni(e)==="dynamic"}function yi(e){return e.lastIndexOf("]")===e.length-1}lt.rawEncode=function(e,t){var r=[],n=[],o=0;e.forEach(function(x){if(yi(x)){var y=Ni(x);y!=="dynamic"?o+=32*y:o+=32}else o+=32});for(var i=0;i<e.length;i++){var l=fa(e[i]),v=t[i],g=cr(l,v);Sw(l)?(r.push(cr("uint256",o)),n.push(g),o+=g.length):r.push(g)}return L.concat(r.concat(n))};lt.rawDecode=function(e,t){var r=[];t=L.from(t);for(var n=0,o=0;o<e.length;o++){var i=fa(e[o]),l=Mf(i),v=or(l,t,n);n+=l.memoryUsage,r.push(v)}return r};lt.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=nl(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return L.concat([lt.methodID(r.method,r.args),lt.rawEncode(r.args,t)])};lt.simpleDecode=function(e,t){var r=nl(e);if(!r.retargs)throw new Error("No return values in method");return lt.rawDecode(r.retargs,t)};function Du(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}lt.stringify=function(e,t){var r=[];for(var n in e){var o=e[n],i=t[n];/^[^\[]+\[.*\]$/.test(o)?i=i.map(function(l){return Du(o,l)}).join(", "):i=Du(o,i),r.push(i)}return r};lt.solidityHexValue=function(e,t,r){var n,o;if(yi(e)){var i=e.replace(/\[.*?\]/,"");if(!yi(i)){var l=Ni(e);if(l!=="dynamic"&&l!==0&&t.length>l)throw new Error("Elements exceed array size: "+l)}var v=t.map(function(y){return lt.solidityHexValue(i,y,256)});return L.concat(v)}else{if(e==="bytes")return t;if(e==="string")return L.from(t,"utf8");if(e==="bool"){r=r||8;var g=Array(r/4).join("0");return L.from(t?g+"1":g+"0","hex")}else if(e==="address"){var x=20;return r&&(x=r/8),pr.setLengthLeft(t,x)}else if(e.startsWith("bytes")){if(n=Or(e),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return pr.setLengthRight(t,n)}else if(e.startsWith("uint")){if(n=Or(e),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(o=tn(t),o.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+o.bitLength());return r=r||n,o.toArrayLike(L,"be",r/8)}else if(e.startsWith("int")){if(n=Or(e),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(o=tn(t),o.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+o.bitLength());return r=r||n,o.toTwos(n).toArrayLike(L,"be",r/8)}else throw new Error("Unsupported or invalid type: "+e)}};lt.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<e.length;n++){var o=fa(e[n]),i=t[n];r.push(lt.solidityHexValue(o,i,null))}return L.concat(r)};lt.soliditySHA3=function(e,t){return pr.keccak256(lt.solidityPack(e,t))};lt.soliditySHA256=function(e,t){return pr.sha256(lt.solidityPack(e,t))};lt.solidityRIPEMD160=function(e,t){return pr.ripemd160(lt.solidityPack(e,t),!0)};function Ew(e){return e>="0"&&e<="9"}lt.fromSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n==="s")t.push("bytes");else if(n==="b"){for(var o="bytes",i=r+1;i<e.length&&Ew(e[i]);)o+=e[i]-"0",i++;r=i-1,t.push(o)}else if(n==="i")t.push("int256");else if(n==="a")t.push("int256[]");else throw new Error("Unsupported or invalid type: "+n)}return t};lt.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n==="bytes")t.push("s");else if(n.startsWith("bytes"))t.push("b"+Or(n));else if(n==="int256")t.push("i");else if(n==="int256[]")t.push("a");else throw new Error("Unsupported or invalid type: "+n)}return t.join("")};var Aw=lt,Rw=Aw;const ze=Hn,Ha=Rw;var kw={concatSig:function(e,t,r){const n=ze.fromSigned(t),o=ze.fromSigned(r),i=ze.bufferToInt(e),l=Fu(ze.toUnsigned(n).toString("hex"),64),v=Fu(ze.toUnsigned(o).toString("hex"),64),g=ze.stripHexPrefix(ze.intToHex(i));return ze.addHexPrefix(l.concat(v,g)).toString("hex")},normalize:function(e){if(!!e){if(typeof e=="number"){const r=ze.toBuffer(e);e=ze.bufferToHex(r)}if(typeof e!="string"){var t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=" received "+typeof e+": "+e,new Error(t)}return ze.addHexPrefix(e.toLowerCase())}},personalSign:function(e,t){var r=ze.toBuffer(t.data),n=ze.hashPersonalMessage(r),o=ze.ecsign(n,e),i=ze.bufferToHex(this.concatSig(o.v,o.r,o.s));return i},recoverPersonalSignature:function(e){const t=Hu(e),r=ze.publicToAddress(t);return ze.bufferToHex(r)},extractPublicKey:function(e){const t=Hu(e);return"0x"+t.toString("hex")},typedSignatureHash:function(e){const t=Fa(e);return ze.bufferToHex(t)},signTypedData:function(e,t){const r=Fa(t.data),n=ze.ecsign(r,e);return ze.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature:function(e){const t=Fa(e.data),r=il(t,e.sig),n=ze.publicToAddress(r);return ze.bufferToHex(n)}};function Fa(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(i){return i.type==="bytes"?ze.toBuffer(i.value):i.value}),n=e.map(function(i){return i.type}),o=e.map(function(i){if(!i.name)throw t;return i.type+" "+i.name});return Ha.soliditySHA3(["bytes32","bytes32"],[Ha.soliditySHA3(new Array(e.length).fill("string"),o),Ha.soliditySHA3(n,r)])}function il(e,t){const r=ze.toBuffer(t),n=ze.fromRpcSig(r);return ze.ecrecover(e,n.v,n.r,n.s)}function Hu(e){const t=ze.toBuffer(e.data),r=ze.hashPersonalMessage(t);return il(r,e.sig)}function Fu(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}var ol={exports:{}};(function(e,t){(function(r){var n=function(i){setTimeout(i,0)};typeof ce!="undefined"&&ce&&typeof ce.nextTick=="function"&&(n=ce.nextTick);function o(i){var l={capacity:i||1,current:0,queue:[],firstHere:!1,take:function(){if(l.firstHere===!1){l.current++,l.firstHere=!0;var v=1}else var v=0;var g={n:1};typeof arguments[0]=="function"?g.task=arguments[0]:g.n=arguments[0],arguments.length>=2&&(typeof arguments[1]=="function"?g.task=arguments[1]:g.n=arguments[1]);var x=g.task;if(g.task=function(){x(l.leave)},l.current+g.n-v>l.capacity)return v===1&&(l.current--,l.firstHere=!1),l.queue.push(g);l.current+=g.n-v,g.task(l.leave),v===1&&(l.firstHere=!1)},leave:function(v){if(v=v||1,l.current-=v,!l.queue.length){if(l.current<0)throw new Error("leave called too many times.");return}var g=l.queue[0];g.n+l.current>l.capacity||(l.queue.shift(),l.current+=g.n,n(g.task))},available:function(v){return v=v||1,l.current+v<=l.capacity}};return l}e.exports=o})()})(ol);const Tw=gf;var Cw=Iw;function Iw(e,t,r){e.sendAsync(Tw({method:"eth_estimateGas",params:[t]}),function(n,o){if(n)return n.message==="no contract code at given address"?r(null,"0xcf08"):r(n);r(null,o.result)})}const At=As.exports,Pw=Rs.exports,Bw=Mi.inherits,mo=Hn,Ow=kw,yn=k0,Lw=ol.exports,Nw=ia,qw=Cw,Uw=/^[0-9A-Fa-f]+$/g;var $w=De;Bw(De,Nw);function De(e){const t=this;t.nonceLock=Lw(1),e.getAccounts&&(t.getAccounts=e.getAccounts),e.processTransaction&&(t.processTransaction=e.processTransaction),e.processMessage&&(t.processMessage=e.processMessage),e.processPersonalMessage&&(t.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(t.processTypedMessage=e.processTypedMessage),t.approveTransaction=e.approveTransaction||t.autoApprove,t.approveMessage=e.approveMessage||t.autoApprove,t.approvePersonalMessage=e.approvePersonalMessage||t.autoApprove,t.approveDecryptMessage=e.approveDecryptMessage||t.autoApprove,t.approveEncryptionPublicKey=e.approveEncryptionPublicKey||t.autoApprove,t.approveTypedMessage=e.approveTypedMessage||t.autoApprove,e.signTransaction&&(t.signTransaction=e.signTransaction||mn("signTransaction")),e.signMessage&&(t.signMessage=e.signMessage||mn("signMessage")),e.signPersonalMessage&&(t.signPersonalMessage=e.signPersonalMessage||mn("signPersonalMessage")),e.decryptMessage&&(t.decryptMessage=e.decryptMessage||mn("decryptMessage")),e.encryptionPublicKey&&(t.encryptionPublicKey=e.encryptionPublicKey||mn("encryptionPublicKey")),e.signTypedMessage&&(t.signTypedMessage=e.signTypedMessage||mn("signTypedMessage")),e.recoverPersonalSignature&&(t.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(t.publishTransaction=e.publishTransaction),t.estimateGas=e.estimateGas||t.estimateGas,t.getGasPrice=e.getGasPrice||t.getGasPrice}De.prototype.handleRequest=function(e,t,r){const n=this;n._parityRequests={},n._parityRequestCount=0;let o,i,l,v,g;switch(e.method){case"eth_coinbase":n.getAccounts(function(x,y){if(x)return r(x);let S=y[0]||null;r(null,S)});return;case"eth_accounts":n.getAccounts(function(x,y){if(x)return r(x);r(null,y)});return;case"eth_sendTransaction":o=e.params[0],At([x=>n.validateTransaction(o,x),x=>n.processTransaction(o,x)],r);return;case"eth_signTransaction":o=e.params[0],At([x=>n.validateTransaction(o,x),x=>n.processSignTransaction(o,x)],r);return;case"eth_sign":g=e.params[0],v=e.params[1],l=e.params[2]||{},i=yn(l,{from:g,data:v}),At([x=>n.validateMessage(i,x),x=>n.processMessage(i,x)],r);return;case"personal_sign":return function(){const x=e.params[0],y=e.params[1];if(zu(y)&&za(x)){let S="The eth_personalSign method requires params ordered ";S+="[message, address]. This was previously handled incorrectly, ",S+="and has been corrected automatically. ",S+="Please switch this param order for smooth behavior in the future.",console.warn(S),g=e.params[0],v=e.params[1]}else v=e.params[0],g=e.params[1];l=e.params[2]||{},i=yn(l,{from:g,data:v}),At([S=>n.validatePersonalMessage(i,S),S=>n.processPersonalMessage(i,S)],r)}();case"eth_decryptMessage":return function(){const x=e.params[0],y=e.params[1];if(zu(y)&&za(x)){let S="The eth_decryptMessage method requires params ordered ";S+="[message, address]. This was previously handled incorrectly, ",S+="and has been corrected automatically. ",S+="Please switch this param order for smooth behavior in the future.",console.warn(S),g=e.params[0],v=e.params[1]}else v=e.params[0],g=e.params[1];l=e.params[2]||{},i=yn(l,{from:g,data:v}),At([S=>n.validateDecryptMessage(i,S),S=>n.processDecryptMessage(i,S)],r)}();case"encryption_public_key":return function(){const x=e.params[0];At([y=>n.validateEncryptionPublicKey(x,y),y=>n.processEncryptionPublicKey(x,y)],r)}();case"personal_ecRecover":return function(){v=e.params[0];let x=e.params[1];l=e.params[2]||{},i=yn(l,{sig:x,data:v}),n.recoverPersonalSignature(i,r)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const x=e.params[0],y=e.params[1];za(x)?(g=x,v=y):(v=x,g=y),l=e.params[2]||{},i=yn(l,{from:g,data:v}),At([S=>n.validateTypedMessage(i,S),S=>n.processTypedMessage(i,S)],r)}();case"parity_postTransaction":o=e.params[0],n.parityPostTransaction(o,r);return;case"parity_postSign":g=e.params[0],v=e.params[1],n.parityPostSign(g,v,r);return;case"parity_checkRequest":return function(){const x=e.params[0];n.parityCheckRequest(x,r)}();case"parity_defaultAccount":n.getAccounts(function(x,y){if(x)return r(x);const S=y[0]||null;r(null,S)});return;default:t();return}};De.prototype.getAccounts=function(e){e(null,[])};De.prototype.processTransaction=function(e,t){const r=this;At([n=>r.approveTransaction(e,n),(n,o)=>r.checkApproval("transaction",n,o),n=>r.finalizeAndSubmitTx(e,n)],t)};De.prototype.processSignTransaction=function(e,t){const r=this;At([n=>r.approveTransaction(e,n),(n,o)=>r.checkApproval("transaction",n,o),n=>r.finalizeTx(e,n)],t)};De.prototype.processMessage=function(e,t){const r=this;At([n=>r.approveMessage(e,n),(n,o)=>r.checkApproval("message",n,o),n=>r.signMessage(e,n)],t)};De.prototype.processPersonalMessage=function(e,t){const r=this;At([n=>r.approvePersonalMessage(e,n),(n,o)=>r.checkApproval("message",n,o),n=>r.signPersonalMessage(e,n)],t)};De.prototype.processDecryptMessage=function(e,t){const r=this;At([n=>r.approveDecryptMessage(e,n),(n,o)=>r.checkApproval("decryptMessage",n,o),n=>r.decryptMessage(e,n)],t)};De.prototype.processEncryptionPublicKey=function(e,t){const r=this;At([n=>r.approveEncryptionPublicKey(e,n),(n,o)=>r.checkApproval("encryptionPublicKey",n,o),n=>r.encryptionPublicKey(e,n)],t)};De.prototype.processTypedMessage=function(e,t){const r=this;At([n=>r.approveTypedMessage(e,n),(n,o)=>r.checkApproval("message",n,o),n=>r.signTypedMessage(e,n)],t)};De.prototype.autoApprove=function(e,t){t(null,!0)};De.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))};De.prototype.parityPostTransaction=function(e,t){const r=this,o=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},function(i,l){if(i){r._parityRequests[o]={error:i};return}const v=l.result;r._parityRequests[o]=v}),t(null,o)};De.prototype.parityPostSign=function(e,t,r){const n=this,i=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[e,t]},function(l,v){if(l){n._parityRequests[i]={error:l};return}const g=v.result;n._parityRequests[i]=g}),r(null,i)};De.prototype.parityCheckRequest=function(e,t){const n=this._parityRequests[e]||null;if(!n)return t(null,null);if(n.error)return t(n.error);t(null,n)};De.prototype.recoverPersonalSignature=function(e,t){let r;try{r=Ow.recoverPersonalSignature(e)}catch(n){return t(n)}t(null,r)};De.prototype.validateTransaction=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to sign transaction."));r.validateSender(e.from,function(n,o){if(n)return t(n);if(!o)return t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`));t()})};De.prototype.validateMessage=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to sign message."));r.validateSender(e.from,function(n,o){if(n)return t(n);if(!o)return t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`));t()})};De.prototype.validatePersonalMessage=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to sign personal message."));if(e.data===void 0)return t(new Error("Undefined message - message required to sign personal message."));if(!Sf(e.data))return t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."));r.validateSender(e.from,function(n,o){if(n)return t(n);if(!o)return t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`));t()})};De.prototype.validateDecryptMessage=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to decrypt message."));if(e.data===void 0)return t(new Error("Undefined message - message required to decrypt message."));if(!Sf(e.data))return t(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."));r.validateSender(e.from,function(n,o){if(n)return t(n);if(!o)return t(new Error(`Unknown address - unable to decrypt message for this address: "${e.from}"`));t()})};De.prototype.validateEncryptionPublicKey=function(e,t){this.validateSender(e,function(n,o){if(n)return t(n);if(!o)return t(new Error(`Unknown address - unable to obtain encryption public key for this address: "${e}"`));t()})};De.prototype.validateTypedMessage=function(e,t){if(e.from===void 0)return t(new Error("Undefined address - from address required to sign typed data."));if(e.data===void 0)return t(new Error("Undefined data - message required to sign typed data."));this.validateSender(e.from,function(r,n){if(r)return t(r);if(!n)return t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`));t()})};De.prototype.validateSender=function(e,t){const r=this;if(!e)return t(null,!1);r.getAccounts(function(n,o){if(n)return t(n);const i=o.map(Hw).indexOf(e.toLowerCase())!==-1;t(null,i)})};De.prototype.finalizeAndSubmitTx=function(e,t){const r=this;r.nonceLock.take(function(){At([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],function(n,o){if(r.nonceLock.leave(),n)return t(n);t(null,o)})})};De.prototype.finalizeTx=function(e,t){const r=this;r.nonceLock.take(function(){At([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],function(n,o){if(r.nonceLock.leave(),n)return t(n);t(null,{raw:o,tx:e})})})};De.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},function(n,o){if(n)return t(n);t(null,o.result)})};De.prototype.estimateGas=function(e,t){qw(this.engine,e,t)};De.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},function(r,n){if(r)return e(r);e(null,n.result)})};De.prototype.fillInTxExtras=function(e,t){const r=this,n=e.from,o={};e.gasPrice===void 0&&(o.gasPrice=r.getGasPrice.bind(r)),e.nonce===void 0&&(o.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),e.gas===void 0&&(o.gas=r.estimateGas.bind(r,Dw(e))),Pw(o,function(i,l){if(i)return t(i);const v={};l.gasPrice&&(v.gasPrice=l.gasPrice),l.nonce&&(v.nonce=l.nonce.result),l.gas&&(v.gas=l.gas),t(null,yn(e,v))})};function Dw(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}function Hw(e){return e.toLowerCase()}function za(e){const t=mo.addHexPrefix(e);return mo.isValidAddress(t)}function zu(e){const t=mo.addHexPrefix(e);return!mo.isValidAddress(t)&&Sf(e)}function Sf(e){return!(typeof e=="string")||!(e.slice(0,2)==="0x")?!1:e.slice(2).match(Uw)}function mn(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}const Fw={v:5e3,d:"Gas limit of the Genesis block."},zw={v:17179869184,d:"Difficulty of the Genesis block."},Kw={v:"0x0000000000000042",d:"the geneis nonce"},Ww={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},jw={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},Gw={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},Vw={v:5e3,d:"Minimum the gas limit may ever be."},Zw={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},Jw={v:131072,d:"The minimum that the difficulty may ever be."},Yw={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},Xw={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},Qw={v:32,d:"Maximum size extra data may be after Genesis."},eb={v:3e4,d:"Duration between proof-of-work epochs."},tb={v:1024,d:"Maximum size of VM stack allowed."},rb={v:1024,d:"Maximum depth of call/create stack."},nb={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},ib={v:10,d:"Once per EXP instuction."},ob={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},ab={v:30,d:"Once per SHA3 operation."},sb={v:6,d:"Once per word of the SHA3 operation's data."},fb={v:50,d:"Once per SLOAD operation."},ub={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},hb={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},lb={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},cb={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},db={v:375,d:"Per LOG* operation."},vb={v:8,d:"Per byte in a LOG* operation's data."},pb={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},gb={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},mb={v:40,d:"Once per CALL operation & message call transaction."},_b={v:2300,d:"Free gas given at beginning of call."},yb={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},wb={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},bb={v:24e3,d:"Refunded following a suicide operation."},xb={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},Mb={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},Sb={v:200,d:""},Eb={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},Ab={v:32e3,d:"the cost of creating a contract via tx"},Rb={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},kb={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},Tb={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},Cb={v:3e3,d:""},Ib={v:60,d:""},Pb={v:12,d:""},Bb={v:600,d:""},Ob={v:120,d:""},Lb={v:15,d:""},Nb={v:3,d:""},qb={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},Ub={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},$b={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},Db={v:115e4,d:"the block that the Homestead fork started at"},Hb={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},Fb={v:1e5,d:"Exponential difficulty timebomb period"},zb={v:2};var Kb={genesisGasLimit:Fw,genesisDifficulty:zw,genesisNonce:Kw,genesisExtraData:Ww,genesisHash:jw,genesisStateRoot:Gw,minGasLimit:Vw,gasLimitBoundDivisor:Zw,minimumDifficulty:Jw,difficultyBoundDivisor:Yw,durationLimit:Xw,maximumExtraDataSize:Qw,epochDuration:eb,stackLimit:tb,callCreateDepth:rb,tierStepGas:nb,expGas:ib,expByteGas:ob,sha3Gas:ab,sha3WordGas:sb,sloadGas:fb,sstoreSetGas:ub,sstoreResetGas:hb,sstoreRefundGas:lb,jumpdestGas:cb,logGas:db,logDataGas:vb,logTopicGas:pb,createGas:gb,callGas:mb,callStipend:_b,callValueTransferGas:yb,callNewAccountGas:wb,suicideRefundGas:bb,memoryGas:xb,quadCoeffDiv:Mb,createDataGas:Sb,txGas:Eb,txCreation:Ab,txDataZeroGas:Rb,txDataNonZeroGas:kb,copyGas:Tb,ecrecoverGas:Cb,sha256Gas:Ib,sha256WordGas:Pb,ripemd160Gas:Bb,ripemd160WordGas:Ob,identityGas:Lb,identityWordGas:Nb,minerReward:qb,ommerReward:Ub,niblingReward:$b,homeSteadForkNumber:Db,homesteadRepriceForkNumber:Hb,timebombPeriod:Fb,freeBlockPeriod:zb};function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var kr=Hn,Wi=Kb,en=kr.BN,jb=new en("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),Gb=function(){function e(t){Wb(this,e),t=t||{};var r=[{name:"nonce",length:32,allowLess:!0,default:new L([])},{name:"gasPrice",length:32,allowLess:!0,default:new L([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new L([])},{name:"to",allowZero:!0,length:20,default:new L([])},{name:"value",length:32,allowLess:!0,default:new L([])},{name:"data",alias:"input",allowZero:!0,default:new L([])},{name:"v",allowZero:!0,default:new L([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new L([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new L([])}];kr.defineProperties(this,r,t),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var n=kr.bufferToInt(this.v),o=Math.floor((n-35)/2);o<0&&(o=0),this._chainId=o||t.chainId||0,this._homestead=!0}return e.prototype.toCreationAddress=function(){return this.to.toString("hex")===""},e.prototype.hash=function(r){r===void 0&&(r=!0);var n=void 0;if(r)n=this.raw;else if(this._chainId>0){var o=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,n=this.raw,this.raw=o}else n=this.raw.slice(0,6);return kr.rlphash(n)},e.prototype.getChainId=function(){return this._chainId},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var r=this.getSenderPublicKey();return this._from=kr.publicToAddress(r),this._from},e.prototype.getSenderPublicKey=function(){if((!this._senderPubKey||!this._senderPubKey.length)&&!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var r=this.hash(!1);if(this._homestead&&new en(this.s).cmp(jb)===1)return!1;try{var n=kr.bufferToInt(this.v);this._chainId>0&&(n-=this._chainId*2+8),this._senderPubKey=kr.ecrecover(r,n,this.r,this.s)}catch{return!1}return!!this._senderPubKey},e.prototype.sign=function(r){var n=this.hash(!1),o=kr.ecsign(n,r);this._chainId>0&&(o.v+=this._chainId*2+8),Object.assign(this,o)},e.prototype.getDataFee=function(){for(var r=this.raw[5],n=new en(0),o=0;o<r.length;o++)r[o]===0?n.iaddn(Wi.txDataZeroGas.v):n.iaddn(Wi.txDataNonZeroGas.v);return n},e.prototype.getBaseFee=function(){var r=this.getDataFee().iaddn(Wi.txGas.v);return this._homestead&&this.toCreationAddress()&&r.iaddn(Wi.txCreation.v),r},e.prototype.getUpfrontCost=function(){return new en(this.gasLimit).imul(new en(this.gasPrice)).iadd(new en(this.value))},e.prototype.validate=function(r){var n=[];return this.verifySignature()||n.push("Invalid Signature"),this.getBaseFee().cmp(new en(this.gasLimit))>0&&n.push(["gas limit is too low. Need at least "+this.getBaseFee()]),r===void 0||r===!1?n.length===0:n.join(" ")},e}(),Vb=Gb;const Zb=Mi.inherits,Jb=Vb,ji=Hn,Yb=ia,Xb=Py.blockTagForPayload;var Qb=Ef;Zb(Ef,Yb);function Ef(e){const t=this;t.nonceCache={}}Ef.prototype.handleRequest=function(e,t,r){const n=this;switch(e.method){case"eth_getTransactionCount":var o=Xb(e),i=e.params[0].toLowerCase(),l=n.nonceCache[i];o==="pending"?l?r(null,l):t(function(v,g,x){if(v)return x();n.nonceCache[i]===void 0&&(n.nonceCache[i]=g),x()}):t();return;case"eth_sendRawTransaction":t(function(v,g,x){if(v)return x();var y=e.params[0];ji.stripHexPrefix(y),L.from(ji.stripHexPrefix(y),"hex");var S=new Jb(L.from(ji.stripHexPrefix(y),"hex")),R="0x"+S.getSenderAddress().toString("hex").toLowerCase(),I=ji.bufferToInt(S.nonce);I++;var M=I.toString(16);M.length%2&&(M="0"+M),M="0x"+M,n.nonceCache[R]=M,x()});return;case"evm_revert":n.nonceCache={},t();return;default:t();return}};const ex=mf,tx=ud;class rx extends ex{constructor(){super(({blockTracker:t,provider:r,engine:n})=>{const{events:o,middleware:i}=tx({blockTracker:t,provider:r});return o.on("notification",l=>n.emit("data",null,l)),i})}}var nx=rx,Af={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});var al=ft.getLocalStorage=ml=ft.getLocalStorageOrThrow=gl=ft.getCrypto=pl=ft.getCryptoOrThrow=vl=ft.getLocation=dl=ft.getLocationOrThrow=cl=ft.getNavigator=ll=ft.getNavigatorOrThrow=hl=ft.getDocument=ul=ft.getDocumentOrThrow=fl=ft.getFromWindowOrThrow=sl=ft.getFromWindow=void 0;function pn(e){let t;return typeof window!="undefined"&&typeof window[e]!="undefined"&&(t=window[e]),t}var sl=ft.getFromWindow=pn;function Yn(e){const t=pn(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}var fl=ft.getFromWindowOrThrow=Yn;function ix(){return Yn("document")}var ul=ft.getDocumentOrThrow=ix;function ox(){return pn("document")}var hl=ft.getDocument=ox;function ax(){return Yn("navigator")}var ll=ft.getNavigatorOrThrow=ax;function sx(){return pn("navigator")}var cl=ft.getNavigator=sx;function fx(){return Yn("location")}var dl=ft.getLocationOrThrow=fx;function ux(){return pn("location")}var vl=ft.getLocation=ux;function hx(){return Yn("crypto")}var pl=ft.getCryptoOrThrow=hx;function lx(){return pn("crypto")}var gl=ft.getCrypto=lx;function cx(){return Yn("localStorage")}var ml=ft.getLocalStorageOrThrow=cx;function dx(){return pn("localStorage")}al=ft.getLocalStorage=dx;Object.defineProperty(Af,"__esModule",{value:!0});var _l=Af.getWindowMetadata=void 0;const Ku=ft;function vx(){let e,t;try{e=Ku.getDocumentOrThrow(),t=Ku.getLocationOrThrow()}catch{return null}function r(){const S=e.getElementsByTagName("link"),R=[];for(let I=0;I<S.length;I++){const M=S[I],T=M.getAttribute("rel");if(T&&T.toLowerCase().indexOf("icon")>-1){const A=M.getAttribute("href");if(A)if(A.toLowerCase().indexOf("https:")===-1&&A.toLowerCase().indexOf("http:")===-1&&A.indexOf("//")!==0){let C=t.protocol+"//"+t.host;if(A.indexOf("/")===0)C+=A;else{const k=t.pathname.split("/");k.pop(),C+=k.join("/")+"/"+A}R.push(C)}else if(A.indexOf("//")===0){const C=t.protocol+A;R.push(C)}else R.push(A)}}return R}function n(...S){const R=e.getElementsByTagName("meta");for(let I=0;I<R.length;I++){const M=R[I],T=["itemprop","property","name"].map(A=>M.getAttribute(A)).filter(A=>A?S.includes(A):!1);if(T.length&&T){const A=M.getAttribute("content");if(A)return A}}return""}function o(){let S=n("name","og:site_name","og:title","twitter:title");return S||(S=e.title),S}function i(){return n("description","og:description","twitter:description","keywords")}const l=o(),v=i(),g=t.origin,x=r();return{description:v,url:g,icons:x,name:l}}_l=Af.getWindowMetadata=vx;var px=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],l=0,v=i.length;l<v;l++,o++)n[o]=i[l];return n},gx=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),mx=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=ce.platform}return e}(),_x=function(){function e(t,r,n,o){this.name=t,this.version=r,this.os=n,this.bot=o,this.type="bot-device"}return e}(),yx=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),wx=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),bx=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,xx=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Wu=3,Mx=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",bx]],ju=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Sx(e){return e?Gu(e):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new wx:typeof navigator!="undefined"?Gu(navigator.userAgent):Rx()}function Ex(e){return e!==""&&Mx.reduce(function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]},!1)}function Gu(e){var t=Ex(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new yx;var o=n[1]&&n[1].split(/[._]/).slice(0,3);o?o.length<Wu&&(o=px(o,kx(Wu-o.length))):o=[];var i=o.join("."),l=Ax(e),v=xx.exec(e);return v&&v[1]?new _x(r,i,l,v[1]):new gx(r,i,l)}function Ax(e){for(var t=0,r=ju.length;t<r;t++){var n=ju[t],o=n[0],i=n[1],l=i.exec(e);if(l)return o}return null}function Rx(){var e=typeof ce!="undefined"&&ce.version;return e?new mx(ce.version.slice(1)):null}function kx(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function ua(e){return Sx(e)}function ha(){const e=ua();return e&&e.os?e.os:void 0}function yl(){const e=ha();return e?e.toLowerCase().includes("android"):!1}function wl(){const e=ha();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function bl(){return ha()?yl()||wl():!1}function xl(){const e=ua();return e&&e.name?e.name.toLowerCase()==="node":!1}function Ml(){return!xl()&&!!El()}const Sl=sl,Tx=fl,Cx=ul,Ix=hl,Px=ll,El=cl,Bx=dl,Al=vl,Ox=pl,Lx=gl,Nx=ml,la=al;function Is(){return _l()}function qx(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch{return e}}function Ux(e){return typeof e=="string"?e:JSON.stringify(e)}const Rl=qx,kl=Ux;function Rf(e,t){const r=kl(t),n=la();n&&n.setItem(e,r)}function kf(e){let t=null,r=null;const n=la();return n&&(r=n.getItem(e)),t=r&&Rl(r),t}function Tf(e){const t=la();t&&t.removeItem(e)}const _o="WALLETCONNECT_DEEPLINK_CHOICE";function $x(e,t){const r=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${r}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function Dx(e){const t=e.href.split("?")[0];Rf(_o,Object.assign(Object.assign({},e),{href:t}))}function Tl(e,t){return e.filter(r=>r.name.toLowerCase().includes(t.toLowerCase()))[0]}function Hx(e,t){let r=e;return t&&(r=t.map(n=>Tl(e,n)).filter(Boolean)),r}const Cl="https://registry.walletconnect.com";function Fx(){return Cl+"/api/v2/wallets"}function zx(){return Cl+"/api/v2/dapps"}function Il(e,t="mobile"){var r;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:(r=e.image_url.sm)!==null&&r!==void 0?r:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function Kx(e,t="mobile"){return Object.values(e).filter(r=>!!r[t].universal||!!r[t].native).map(r=>Il(r,t))}var Wx=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:ua,detectOS:ha,isAndroid:yl,isIOS:wl,isMobile:bl,isNode:xl,isBrowser:Ml,getFromWindow:Sl,getFromWindowOrThrow:Tx,getDocumentOrThrow:Cx,getDocument:Ix,getNavigatorOrThrow:Px,getNavigator:El,getLocationOrThrow:Bx,getLocation:Al,getCryptoOrThrow:Ox,getCrypto:Lx,getLocalStorageOrThrow:Nx,getLocalStorage:la,getClientMeta:Is,safeJsonParse:Rl,safeJsonStringify:kl,setLocal:Rf,getLocal:kf,removeLocal:Tf,mobileLinkChoiceKey:_o,formatIOSMobile:$x,saveMobileLinkInfo:Dx,getMobileRegistryEntry:Tl,getMobileLinkRegistry:Hx,getWalletRegistryUrl:Fx,getDappRegistryUrl:zx,formatMobileRegistryEntry:Il,formatMobileRegistry:Kx},Symbol.toStringTag,{value:"Module"}));const jx=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Cf=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Gx={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Vx=If;If.strict=Pl;If.loose=Bl;var Zx=Object.prototype.toString,Jx={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function If(e){return Pl(e)||Bl(e)}function Pl(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Bl(e){return Jx[Zx.call(e)]}var Yx=Vx.strict,Xx=function(t){if(Yx(t)){var r=L.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}else return L.from(t)};const Ol="hex",Ll="utf8",ca="0";function Bn(e){return new Uint8Array(e)}function Nl(e,t=!1){const r=e.toString(Ol);return t?Xn(r):r}function Qx(e){return e.toString(Ll)}function da(e){return Xx(e)}function An(e,t=!1){return Nl(da(e),t)}function e2(e){return Qx(da(e))}function t2(e){return L.from(Dr(e),Ol)}function Rn(e){return Bn(t2(e))}function Pf(e){return L.from(e,Ll)}function r2(e){return Bn(Pf(e))}function n2(e,t=!1){return Nl(Pf(e),t)}function i2(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}function ql(...e){let t=[];return e.forEach(r=>t=t.concat(Array.from(r))),new Uint8Array([...t])}function o2(e,t=8){const r=e%t;return r?(e-r)/t*t+t:e}function a2(e,t=8,r=ca){return s2(e,o2(e.length,t),r)}function s2(e,t,r=ca){return u2(e,t,!0,r)}function Dr(e){return e.replace(/^0x/,"")}function Xn(e){return e.startsWith("0x")?e:`0x${e}`}function Ul(e){return e=Dr(e),e=a2(e,2),e&&(e=Xn(e)),e}function f2(e){const t=e.startsWith("0x");return e=Dr(e),e=e.startsWith(ca)?e.substring(1):e,t?Xn(e):e}function u2(e,t,r,n=ca){const o=t-e.length;let i=e;if(o>0){const l=n.repeat(o);i=r?l+e:e+l}return i}function Ps(e){return da(new Uint8Array(e))}function h2(e,t){return An(new Uint8Array(e),!t)}function l2(e){return Bn(e).buffer}function c2(e){return Pf(e)}function d2(e,t){return n2(e,!t)}function v2(e){return Rn(e).buffer}function $l(e,t){const r=Dr(Ul(new dv(e).toString(16)));return t?r:Xn(r)}var Qn={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.isBrowserCryptoAvailable=Lr.getSubtleCrypto=Lr.getBrowerCrypto=void 0;function Bf(){return(Ie===null||Ie===void 0?void 0:Ie.crypto)||(Ie===null||Ie===void 0?void 0:Ie.msCrypto)||{}}Lr.getBrowerCrypto=Bf;function Dl(){const e=Bf();return e.subtle||e.webkitSubtle}Lr.getSubtleCrypto=Dl;function p2(){return!!Bf()&&!!Dl()}Lr.isBrowserCryptoAvailable=p2;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.isBrowser=Nr.isNode=Nr.isReactNative=void 0;function Hl(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}Nr.isReactNative=Hl;function Fl(){return typeof ce!="undefined"&&typeof ce.versions!="undefined"&&typeof ce.versions.node!="undefined"}Nr.isNode=Fl;function g2(){return!Hl()&&!Fl()}Nr.isBrowser=g2;(function(e){var t=Ie&&Ie.__createBinding||(Object.create?function(n,o,i,l){l===void 0&&(l=i),Object.defineProperty(n,l,{enumerable:!0,get:function(){return o[i]}})}:function(n,o,i,l){l===void 0&&(l=i),n[l]=o[i]}),r=Ie&&Ie.__exportStar||function(n,o){for(var i in n)i!=="default"&&!o.hasOwnProperty(i)&&t(o,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(Lr,e),r(Nr,e)})(Qn);function m2(){const e=Date.now()*Math.pow(10,3),t=Math.floor(Math.random()*Math.pow(10,3));return e+t}function Gi(e){return Ul(e)}function _2(e){return f2(Xn(e))}const Bs=m2;function Ka(){return((t,r)=>{for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r})()}function y2(e,t){let r;const n=Gx[e];return n&&(r=`https://${n}.infura.io/v3/${t}`),r}function w2(e,t){let r;const n=y2(e,t.infuraId);return t.custom&&t.custom[e]?r=t.custom[e]:n&&(r=n),r}function b2(e){return e===""||typeof e=="string"&&e.trim()===""}function x2(e){return!(e&&e.length)}function zl(e,t){return i2(e,t)}function M2(e){return typeof e.method!="undefined"}function ui(e){return typeof e.result!="undefined"}function yo(e){return typeof e.error!="undefined"}function Vu(e){return typeof e.event!="undefined"}function S2(e){return jx.includes(e)||e.startsWith("wc_")}function E2(e){return e.method.startsWith("wc_")?!0:!Cf.includes(e.method)}function A2(e){e=Dr(e.toLowerCase());const t=Dr(hd.exports.keccak_256(c2(e)));let r="";for(let n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return Xn(r)}const R2=e=>e?e.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x)?[0-9a-f]{40}$/.test(e)||/^(0x)?[0-9A-F]{40}$/.test(e)?!0:e===A2(e):!1:!1;function wo(e){return!x2(e)&&!zl(e[0])&&(e[0]=d2(e[0])),e}function Wa(e){if(typeof e.type!="undefined"&&e.type!=="0")return e;if(typeof e.from=="undefined"||!R2(e.from))throw new Error("Transaction object must include a valid 'from' value.");function t(o){let i=o;return(typeof o=="number"||typeof o=="string"&&!b2(o))&&(zl(o)?typeof o=="string"&&(i=Gi(o)):i=$l(o)),typeof i=="string"&&(i=_2(i)),i}const r={from:Gi(e.from),to:typeof e.to=="undefined"?void 0:Gi(e.to),gasPrice:typeof e.gasPrice=="undefined"?"":t(e.gasPrice),gas:typeof e.gas=="undefined"?typeof e.gasLimit=="undefined"?"":t(e.gasLimit):t(e.gas),value:typeof e.value=="undefined"?"":t(e.value),nonce:typeof e.nonce=="undefined"?"":t(e.nonce),data:typeof e.data=="undefined"?"":Gi(e.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(o=>{(typeof r[o]=="undefined"||typeof r[o]=="string"&&!r[o].trim().length)&&n.includes(o)&&delete r[o]}),r}function k2(e){const t=e.message||"Failed or Rejected Request";let r=-32e3;if(e&&!e.code)switch(t){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}return{code:r,message:t}}var Of={},T2=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Kl="%[a-f0-9]{2}",Zu=new RegExp(Kl,"gi"),Ju=new RegExp("("+Kl+")+","gi");function Os(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],Os(r),Os(n))}function C2(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Zu),r=1;r<t.length;r++)e=Os(t,r).join(""),t=e.match(Zu);return e}}function I2(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Ju.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=C2(r[0]);n!==r[0]&&(t[r[0]]=n)}r=Ju.exec(e)}t["%C2"]="\uFFFD";for(var o=Object.keys(t),i=0;i<o.length;i++){var l=o[i];e=e.replace(new RegExp(l,"g"),t[l])}return e}var P2=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return I2(e)}},B2=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]};(function(e){const t=T2,r=P2,n=B2,o=A=>A==null;function i(A){switch(A.arrayFormat){case"index":return C=>(k,B)=>{const O=k.length;return B===void 0||A.skipNull&&B===null||A.skipEmptyString&&B===""?k:B===null?[...k,[g(C,A),"[",O,"]"].join("")]:[...k,[g(C,A),"[",g(O,A),"]=",g(B,A)].join("")]};case"bracket":return C=>(k,B)=>B===void 0||A.skipNull&&B===null||A.skipEmptyString&&B===""?k:B===null?[...k,[g(C,A),"[]"].join("")]:[...k,[g(C,A),"[]=",g(B,A)].join("")];case"comma":case"separator":return C=>(k,B)=>B==null||B.length===0?k:k.length===0?[[g(C,A),"=",g(B,A)].join("")]:[[k,g(B,A)].join(A.arrayFormatSeparator)];default:return C=>(k,B)=>B===void 0||A.skipNull&&B===null||A.skipEmptyString&&B===""?k:B===null?[...k,g(C,A)]:[...k,[g(C,A),"=",g(B,A)].join("")]}}function l(A){let C;switch(A.arrayFormat){case"index":return(k,B,O)=>{if(C=/\[(\d*)\]$/.exec(k),k=k.replace(/\[\d*\]$/,""),!C){O[k]=B;return}O[k]===void 0&&(O[k]={}),O[k][C[1]]=B};case"bracket":return(k,B,O)=>{if(C=/(\[\])$/.exec(k),k=k.replace(/\[\]$/,""),!C){O[k]=B;return}if(O[k]===void 0){O[k]=[B];return}O[k]=[].concat(O[k],B)};case"comma":case"separator":return(k,B,O)=>{const D=typeof B=="string"&&B.split("").indexOf(A.arrayFormatSeparator)>-1?B.split(A.arrayFormatSeparator).map(K=>x(K,A)):B===null?B:x(B,A);O[k]=D};default:return(k,B,O)=>{if(O[k]===void 0){O[k]=B;return}O[k]=[].concat(O[k],B)}}}function v(A){if(typeof A!="string"||A.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function g(A,C){return C.encode?C.strict?t(A):encodeURIComponent(A):A}function x(A,C){return C.decode?r(A):A}function y(A){return Array.isArray(A)?A.sort():typeof A=="object"?y(Object.keys(A)).sort((C,k)=>Number(C)-Number(k)).map(C=>A[C]):A}function S(A){const C=A.indexOf("#");return C!==-1&&(A=A.slice(0,C)),A}function R(A){let C="";const k=A.indexOf("#");return k!==-1&&(C=A.slice(k)),C}function I(A){A=S(A);const C=A.indexOf("?");return C===-1?"":A.slice(C+1)}function M(A,C){return C.parseNumbers&&!Number.isNaN(Number(A))&&typeof A=="string"&&A.trim()!==""?A=Number(A):C.parseBooleans&&A!==null&&(A.toLowerCase()==="true"||A.toLowerCase()==="false")&&(A=A.toLowerCase()==="true"),A}function T(A,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),v(C.arrayFormatSeparator);const k=l(C),B=Object.create(null);if(typeof A!="string"||(A=A.trim().replace(/^[?#&]/,""),!A))return B;for(const O of A.split("&")){let[$,D]=n(C.decode?O.replace(/\+/g," "):O,"=");D=D===void 0?null:["comma","separator"].includes(C.arrayFormat)?D:x(D,C),k(x($,C),D,B)}for(const O of Object.keys(B)){const $=B[O];if(typeof $=="object"&&$!==null)for(const D of Object.keys($))$[D]=M($[D],C);else B[O]=M($,C)}return C.sort===!1?B:(C.sort===!0?Object.keys(B).sort():Object.keys(B).sort(C.sort)).reduce((O,$)=>{const D=B[$];return Boolean(D)&&typeof D=="object"&&!Array.isArray(D)?O[$]=y(D):O[$]=D,O},Object.create(null))}e.extract=I,e.parse=T,e.stringify=(A,C)=>{if(!A)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),v(C.arrayFormatSeparator);const k=D=>C.skipNull&&o(A[D])||C.skipEmptyString&&A[D]==="",B=i(C),O={};for(const D of Object.keys(A))k(D)||(O[D]=A[D]);const $=Object.keys(O);return C.sort!==!1&&$.sort(C.sort),$.map(D=>{const K=A[D];return K===void 0?"":K===null?g(D,C):Array.isArray(K)?K.reduce(B(D),[]).join("&"):g(D,C)+"="+g(K,C)}).filter(D=>D.length>0).join("&")},e.parseUrl=(A,C)=>{C=Object.assign({decode:!0},C);const[k,B]=n(A,"#");return Object.assign({url:k.split("?")[0]||"",query:T(I(A),C)},C&&C.parseFragmentIdentifier&&B?{fragmentIdentifier:x(B,C)}:{})},e.stringifyUrl=(A,C)=>{C=Object.assign({encode:!0,strict:!0},C);const k=S(A.url).split("?")[0]||"",B=e.extract(A.url),O=e.parse(B,{sort:!1}),$=Object.assign(O,A.query);let D=e.stringify($,C);D&&(D=`?${D}`);let K=R(A.url);return A.fragmentIdentifier&&(K=`#${g(A.fragmentIdentifier,C)}`),`${k}${D}${K}`}})(Of);function O2(e){const t=e.indexOf("?")!==-1?e.indexOf("?"):void 0;return typeof t!="undefined"?e.substr(t):""}function L2(e,t){let r=Wl(e);return r=Object.assign(Object.assign({},r),t),e=N2(r),e}function Wl(e){return Of.parse(e)}function N2(e){return Of.stringify(e)}function q2(e){return typeof e.bridge!="undefined"}function U2(e){const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),o=e.substring(t+1,r);function i(S){const R="@",I=S.split(R);return{handshakeTopic:I[0],version:parseInt(I[1],10)}}const l=i(o),v=typeof r!="undefined"?e.substr(r):"";function g(S){const R=Wl(S);return{key:R.key||"",bridge:R.bridge||""}}const x=g(v);return Object.assign(Object.assign({protocol:n},l),x)}var $2=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};class D2{constructor(){this._eventEmitters=[],typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,r){this._eventEmitters.push({event:t,callback:r})}trigger(t){let r=[];t&&(r=this._eventEmitters.filter(n=>n.event===t)),r.forEach(n=>{n.callback()})}}const H2=typeof tu.WebSocket!="undefined"?tu.WebSocket:$2;class F2{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new D2,!t.url||typeof t.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return this.readyState===0}set connected(t){}get connected(){return this.readyState===1}set closing(t){}get closing(){return this.readyState===2}set closed(t){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(t,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:t,silent:!!n})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,r){this._events.push({event:t,callback:r})}_socketCreate(){if(this._nextSocket)return;const t=z2(this._url,this._protocol,this._version);if(this._nextSocket=new H2(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const r=JSON.stringify(t);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let r;try{r=JSON.parse(t.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(o=>o.event==="message");n&&n.length&&n.forEach(o=>o.callback(r))}}_socketError(t){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(t))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function z2(e,t,r){var n,o;const l=(e.startsWith("https")?e.replace("https","wss"):e.startsWith("http")?e.replace("http","ws"):e).split("?"),v=Ml()?{protocol:t,version:r,env:"browser",host:((n=Al())===null||n===void 0?void 0:n.host)||""}:{protocol:t,version:r,env:((o=ua())===null||o===void 0?void 0:o.name)||""},g=L2(O2(l[1]||""),v);return l[0]+"?"+g}const ja="Session currently connected",Yr="Session currently disconnected",K2="Session Rejected",W2="Missing JSON RPC response",j2='JSON-RPC success response must include "result" field',G2='JSON-RPC error response must include "error" field',V2='JSON RPC request must have valid "method" value',Z2='JSON RPC request must have valid "id" value',J2="Missing one of the required parameters: bridge / uri / session",Yu="JSON RPC response format is invalid",Y2="URI format is invalid",X2="QRCode Modal not provided",Xu="User close QRCode Modal";class Q2{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==t)}trigger(t){let r=[],n;M2(t)?n=t.method:ui(t)||yo(t)?n=`response:${t.id}`:Vu(t)?n=t.event:n="",n&&(r=this._eventEmitters.filter(o=>o.event===n)),(!r||!r.length)&&!S2(n)&&!Vu(n)&&(r=this._eventEmitters.filter(o=>o.event==="call_request")),r.forEach(o=>{if(yo(t)){const i=new Error(t.error.message);o.callback(i,null)}else o.callback(null,t)})}}class eM{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null;const r=kf(this.storageId);return r&&q2(r)&&(t=r),t}setSession(t){return Rf(this.storageId,t),t}removeSession(){Tf(this.storageId)}}const tM="walletconnect.org",rM="abcdefghijklmnopqrstuvwxyz0123456789",jl=rM.split("").map(e=>`https://${e}.bridge.walletconnect.org`);function nM(e){let t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return t=t.split(":")[0],t=t.split("?")[0],t}function iM(e){return nM(e).split(".").slice(-2).join(".")}function oM(){return Math.floor(Math.random()*jl.length)}function aM(){return jl[oM()]}function sM(e){return iM(e)===tM}function fM(e){return sM(e)?aM():e}class uM{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Q2,this._clientMeta=Is()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new eM(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Cf,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error(J2);t.connectorOpts.bridge&&(this.bridge=fM(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const r=t.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new F2({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){!t||(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;const r=v2(t);this._key=r}get key(){return this._key?h2(this._key,!0):""}set clientId(t){!t||(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=Ka()),this._clientId}set peerId(t){!t||(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=Is()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){!t||(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){!t||(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;const{handshakeTopic:r,bridge:n,key:o}=this._parseUri(t);this.handshakeTopic=r,this.bridge=n,this.key=o}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){!t||(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,r){const n={event:t,callback:r};this._eventManager.subscribe(n)}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=r.id,this.handshakeTopic=Ka(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Xu)});const n=()=>{this.killSession()};try{const o=await this._sendCallRequest(r);return o&&n(),o}catch(o){throw n(),o}}async connect(t){if(!this._qrcodeModal)throw new Error(X2);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(Xu))),this.on("connect",(o,i)=>{if(o)return n(o);r(i.params[0])})}))}async createSession(t){if(this._connected)throw new Error(ja);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=Ka(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw new Error(ja);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw new Error(ja);const r=t&&t.message?t.message:K2,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw new Error(Yr);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){const r=t?t.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},o=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(o),this._handleSessionDisconnect(r)}async sendTransaction(t){if(!this._connected)throw new Error(Yr);const r=Wa(t),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(t){if(!this._connected)throw new Error(Yr);const r=Wa(t),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(t){if(!this._connected)throw new Error(Yr);const r=this._formatRequest({method:"eth_sign",params:t});return await this._sendCallRequest(r)}async signPersonalMessage(t){if(!this._connected)throw new Error(Yr);t=wo(t);const r=this._formatRequest({method:"personal_sign",params:t});return await this._sendCallRequest(r)}async signTypedData(t){if(!this._connected)throw new Error(Yr);const r=this._formatRequest({method:"eth_signTypedData",params:t});return await this._sendCallRequest(r)}async updateChain(t){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[t]});return await this._sendCallRequest(r)}unsafeSend(t,r){return this._sendRequest(t,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:r}]}),new Promise((n,o)=>{this._subscribeToResponse(t.id,(i,l)=>{if(i){o(i);return}if(!l)throw new Error(W2);n(l)})})}async sendCustomRequest(t,r){if(!this._connected)throw new Error(Yr);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return $l(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=Wa(t.params[0]));break;case"personal_sign":t.params&&(t.params=wo(t.params));break}const n=this._formatRequest(t);return await this._sendCallRequest(n,r)}approveRequest(t){if(ui(t)){const r=this._formatResponse(t);this._sendResponse(r)}else throw new Error(j2)}rejectRequest(t){if(yo(t)){const r=this._formatResponse(t);this._sendResponse(r)}else throw new Error(G2)}transportClose(){this._transport.close()}async _sendRequest(t,r){const n=this._formatRequest(t),o=await this._encrypt(n),i=typeof(r==null?void 0:r.topic)!="undefined"?r.topic:this.peerId,l=JSON.stringify(o),v=typeof(r==null?void 0:r.forcePushNotification)!="undefined"?!r.forcePushNotification:E2(n);this._transport.send(l,i,v)}async _sendResponse(t){const r=await this._encrypt(t),n=this.peerId,o=JSON.stringify(r),i=!0;this._transport.send(o,n,i)}async _sendSessionRequest(t,r,n){this._sendRequest(t,n),this._subscribeToSessionResponse(t.id,r)}_sendCallRequest(t,r){return this._sendRequest(t,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:r}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(typeof t.method=="undefined")throw new Error(V2);return{id:typeof t.id=="undefined"?Bs():t.id,jsonrpc:"2.0",method:t.method,params:typeof t.params=="undefined"?[]:t.params}}_formatResponse(t){if(typeof t.id=="undefined")throw new Error(Z2);const r={id:t.id,jsonrpc:"2.0"};if(yo(t)){const n=k2(t.error);return Object.assign(Object.assign(Object.assign({},r),t),{error:n})}else if(ui(t))return Object.assign(Object.assign({},r),t);throw new Error(Yu)}_handleSessionDisconnect(t){const r=t||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Tf(_o)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){if(![this.clientId,this.handshakeTopic].includes(t.topic))return;let n;try{n=JSON.parse(t.payload)}catch{return}const o=await this._decrypt(n);o&&this._eventManager.trigger(o)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,r){this.on(`response:${t}`,r)}_subscribeToSessionResponse(t,r){this._subscribeToResponse(t,(n,o)=>{if(n){this._handleSessionResponse(n.message);return}ui(o)?this._handleSessionResponse(r,o.result):o.error&&o.error.message?this._handleSessionResponse(o.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(t){return new Promise((r,n)=>{this._subscribeToResponse(t,(o,i)=>{if(o){n(o);return}ui(i)?r(i.result):i.error&&i.error.message?n(new Error(i.error.message)):n(new Error(Yu))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(t,r)=>{const{request:n}=r.params[0];if(bl()&&this._signingMethods.includes(n.method)){const o=kf(_o);o&&(window.location.href=o.href)}}),this.on("wc_sessionRequest",(t,r)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(t,r)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",t=>this._handleIncomingMessages(t)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const t=this.protocol,r=this.handshakeTopic,n=this.version,o=encodeURIComponent(this.bridge),i=this.key;return`${t}:${r}@${n}?bridge=${o}&key=${i}`}_parseUri(t){const r=U2(t);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const o=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const i=r.key;return{handshakeTopic:n,bridge:o,key:i}}else throw new Error(Y2)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(t){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(t,r):null}async _decrypt(t){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(t,r):null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||typeof t.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||typeof t.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||typeof t.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",async(n,o)=>{if(n)throw n;if(t.peerMeta){const i=o.params[0].peerMeta.name;r.peerName=i}try{if(!(await(await fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function hM(e){return Qn.getBrowerCrypto().getRandomValues(new Uint8Array(e))}const Gl=256,Vl=Gl,lM=Gl,Hr="AES-CBC",cM=`SHA-${Vl}`,Ls="HMAC",dM="encrypt",vM="decrypt",pM="sign",gM="verify";function mM(e){return e===Hr?{length:Vl,name:Hr}:{hash:{name:cM},name:Ls}}function _M(e){return e===Hr?[dM,vM]:[pM,gM]}async function Lf(e,t=Hr){return Qn.getSubtleCrypto().importKey("raw",e,mM(t),!0,_M(t))}async function yM(e,t,r){const n=Qn.getSubtleCrypto(),o=await Lf(t,Hr),i=await n.encrypt({iv:e,name:Hr},o,r);return new Uint8Array(i)}async function wM(e,t,r){const n=Qn.getSubtleCrypto(),o=await Lf(t,Hr),i=await n.decrypt({iv:e,name:Hr},o,r);return new Uint8Array(i)}async function bM(e,t){const r=Qn.getSubtleCrypto(),n=await Lf(e,Ls),o=await r.sign({length:lM,name:Ls},n,t);return new Uint8Array(o)}function xM(e,t,r){return yM(e,t,r)}function MM(e,t,r){return wM(e,t,r)}async function Zl(e,t){return await bM(e,t)}async function Jl(e){const t=(e||256)/8,r=hM(t);return l2(da(r))}async function Yl(e,t){const r=Rn(e.data),n=Rn(e.iv),o=Rn(e.hmac),i=An(o,!1),l=ql(r,n),v=await Zl(t,l),g=An(v,!1);return Dr(i)===Dr(g)}async function SM(e,t,r){const n=Bn(Ps(t)),o=r||await Jl(128),i=Bn(Ps(o)),l=An(i,!1),v=JSON.stringify(e),g=r2(v),x=await xM(i,n,g),y=An(x,!1),S=ql(x,i),R=await Zl(n,S),I=An(R,!1);return{data:y,hmac:I,iv:l}}async function EM(e,t){const r=Bn(Ps(t));if(!r)throw new Error("Missing key: required for decryption");if(!await Yl(e,r))return null;const o=Rn(e.data),i=Rn(e.iv),l=await MM(i,r,o),v=e2(l);let g;try{g=JSON.parse(v)}catch{return null}return g}var AM=Object.freeze(Object.defineProperty({__proto__:null,generateKey:Jl,verifyHmac:Yl,encrypt:SM,decrypt:EM},Symbol.toStringTag,{value:"Module"}));class RM extends uM{constructor(t,r){super({cryptoLib:AM,connectorOpts:t,pushServerOpts:r})}}var kM=T0(Wx),qi={},TM=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Xl={},Wr={},CM={}.toString,Nf=Array.isArray||function(e){return CM.call(e)=="[object Array]"},IM=Nf;function PM(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch{return!1}}Be.TYPED_ARRAY_SUPPORT=PM();var Qu=Be.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Be(e,t,r){return!Be.TYPED_ARRAY_SUPPORT&&!(this instanceof Be)?new Be(e,t,r):typeof e=="number"?Ql(this,e):$M(this,e,t,r)}Be.TYPED_ARRAY_SUPPORT&&(Be.prototype.__proto__=Uint8Array.prototype,Be.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&Be[Symbol.species]===Be&&Object.defineProperty(Be,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function qf(e){if(e>=Qu)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Qu.toString(16)+" bytes");return e|0}function BM(e){return e!==e}function On(e,t){var r;return Be.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=Be.prototype):(r=e,r===null&&(r=new Be(t)),r.length=t),r}function Ql(e,t){var r=On(e,t<0?0:qf(t)|0);if(!Be.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function OM(e,t){var r=tc(t)|0,n=On(e,r),o=n.write(t);return o!==r&&(n=n.slice(0,o)),n}function Ns(e,t){for(var r=t.length<0?0:qf(t.length)|0,n=On(e,r),o=0;o<r;o+=1)n[o]=t[o]&255;return n}function LM(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var o;return r===void 0&&n===void 0?o=new Uint8Array(t):n===void 0?o=new Uint8Array(t,r):o=new Uint8Array(t,r,n),Be.TYPED_ARRAY_SUPPORT?o.__proto__=Be.prototype:o=Ns(e,o),o}function NM(e,t){if(Be.isBuffer(t)){var r=qf(t.length)|0,n=On(e,r);return n.length===0||t.copy(n,0,0,r),n}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||BM(t.length)?On(e,0):Ns(e,t);if(t.type==="Buffer"&&Array.isArray(t.data))return Ns(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ec(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],l=0;l<n;++l){if(r=e.charCodeAt(l),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(l+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function tc(e){if(Be.isBuffer(e))return e.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;return t===0?0:ec(e).length}function qM(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function UM(e,t,r,n){return qM(ec(t,e.length-r),e,r,n)}function $M(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?LM(e,t,r,n):typeof t=="string"?OM(e,t):NM(e,t)}Be.prototype.write=function(t,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return UM(this,t,r,n)};Be.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var o;if(Be.TYPED_ARRAY_SUPPORT)o=this.subarray(t,r),o.__proto__=Be.prototype;else{var i=r-t;o=new Be(i,void 0);for(var l=0;l<i;++l)o[l]=this[l+t]}return o};Be.prototype.copy=function(t,r,n,o){if(n||(n=0),!o&&o!==0&&(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<n&&(o=n),o===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);var i=o-n,l;if(this===t&&n<r&&r<o)for(l=i-1;l>=0;--l)t[l+r]=this[l+n];else if(i<1e3||!Be.TYPED_ARRAY_SUPPORT)for(l=0;l<i;++l)t[l+r]=this[l+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),r);return i};Be.prototype.fill=function(t,r,n){if(typeof t=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var i;if(typeof t=="number")for(i=r;i<n;++i)this[i]=t;else{var l=Be.isBuffer(t)?t:new Be(t),v=l.length;for(i=0;i<n-r;++i)this[i+r]=l[i%v]}return this};Be.concat=function(t,r){if(!IM(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return On(null,0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var o=Ql(null,r),i=0;for(n=0;n<t.length;++n){var l=t[n];if(!Be.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(o,i),i+=l.length}return o};Be.byteLength=tc;Be.prototype._isBuffer=!0;Be.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};Wr.alloc=function(e){var t=new Be(e);return t.fill(0),t};Wr.from=function(e){return new Be(e)};var Nt={},Uf,DM=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Nt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Nt.getSymbolTotalCodewords=function(t){return DM[t]};Nt.getBCHDigit=function(e){for(var t=0;e!==0;)t++,e>>>=1;return t};Nt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Uf=t};Nt.isKanjiModeEnabled=function(){return typeof Uf!="undefined"};Nt.toSJIS=function(t){return Uf(t)};var va={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit!="undefined"&&n.bit>=0&&n.bit<4},e.from=function(n,o){if(e.isValid(n))return n;try{return t(n)}catch{return o}}})(va);function rc(){this.buffer=[],this.length=0}rc.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var HM=rc,e0=Wr;function Ui(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=e0.alloc(e*e),this.reservedBit=e0.alloc(e*e)}Ui.prototype.set=function(e,t,r,n){var o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)};Ui.prototype.get=function(e,t){return this.data[e*this.size+t]};Ui.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Ui.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var FM=Ui,nc={};(function(e){var t=Nt.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];for(var o=Math.floor(n/7)+2,i=t(n),l=i===145?26:Math.ceil((i-13)/(2*o-2))*2,v=[i-7],g=1;g<o-1;g++)v[g]=v[g-1]-l;return v.push(6),v.reverse()},e.getPositions=function(n){for(var o=[],i=e.getRowColCoords(n),l=i.length,v=0;v<l;v++)for(var g=0;g<l;g++)v===0&&g===0||v===0&&g===l-1||v===l-1&&g===0||o.push([i[v],i[g]]);return o}})(nc);var ic={},zM=Nt.getSymbolSize,t0=7;ic.getPositions=function(t){var r=zM(t);return[[0,0],[r-t0,0],[0,r-t0]]};var oc={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){for(var i=o.size,l=0,v=0,g=0,x=null,y=null,S=0;S<i;S++){v=g=0,x=y=null;for(var R=0;R<i;R++){var I=o.get(S,R);I===x?v++:(v>=5&&(l+=t.N1+(v-5)),x=I,v=1),I=o.get(R,S),I===y?g++:(g>=5&&(l+=t.N1+(g-5)),y=I,g=1)}v>=5&&(l+=t.N1+(v-5)),g>=5&&(l+=t.N1+(g-5))}return l},e.getPenaltyN2=function(o){for(var i=o.size,l=0,v=0;v<i-1;v++)for(var g=0;g<i-1;g++){var x=o.get(v,g)+o.get(v,g+1)+o.get(v+1,g)+o.get(v+1,g+1);(x===4||x===0)&&l++}return l*t.N2},e.getPenaltyN3=function(o){for(var i=o.size,l=0,v=0,g=0,x=0;x<i;x++){v=g=0;for(var y=0;y<i;y++)v=v<<1&2047|o.get(x,y),y>=10&&(v===1488||v===93)&&l++,g=g<<1&2047|o.get(y,x),y>=10&&(g===1488||g===93)&&l++}return l*t.N3},e.getPenaltyN4=function(o){for(var i=0,l=o.data.length,v=0;v<l;v++)i+=o.data[v];var g=Math.abs(Math.ceil(i*100/l/5)-10);return g*t.N4};function r(n,o,i){switch(n){case e.Patterns.PATTERN000:return(o+i)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(o+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return o*i%2+o*i%3===0;case e.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case e.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(o,i){for(var l=i.size,v=0;v<l;v++)for(var g=0;g<l;g++)i.isReserved(g,v)||i.xor(g,v,r(o,g,v))},e.getBestMask=function(o,i){for(var l=Object.keys(e.Patterns).length,v=0,g=1/0,x=0;x<l;x++){i(x),e.applyMask(x,o);var y=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(x,o),y<g&&(g=y,v=x)}return v}})(oc);var pa={},Br=va,Vi=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Zi=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pa.getBlocksCount=function(t,r){switch(r){case Br.L:return Vi[(t-1)*4+0];case Br.M:return Vi[(t-1)*4+1];case Br.Q:return Vi[(t-1)*4+2];case Br.H:return Vi[(t-1)*4+3];default:return}};pa.getTotalCodewordsCount=function(t,r){switch(r){case Br.L:return Zi[(t-1)*4+0];case Br.M:return Zi[(t-1)*4+1];case Br.Q:return Zi[(t-1)*4+2];case Br.H:return Zi[(t-1)*4+3];default:return}};var ac={},ga={},sc=Wr,ci=sc.alloc(512),bo=sc.alloc(256);(function(){for(var t=1,r=0;r<255;r++)ci[r]=t,bo[t]=r,t<<=1,t&256&&(t^=285);for(r=255;r<512;r++)ci[r]=ci[r-255]})();ga.log=function(t){if(t<1)throw new Error("log("+t+")");return bo[t]};ga.exp=function(t){return ci[t]};ga.mul=function(t,r){return t===0||r===0?0:ci[bo[t]+bo[r]]};(function(e){var t=Wr,r=ga;e.mul=function(o,i){for(var l=t.alloc(o.length+i.length-1),v=0;v<o.length;v++)for(var g=0;g<i.length;g++)l[v+g]^=r.mul(o[v],i[g]);return l},e.mod=function(o,i){for(var l=t.from(o);l.length-i.length>=0;){for(var v=l[0],g=0;g<i.length;g++)l[g]^=r.mul(i[g],v);for(var x=0;x<l.length&&l[x]===0;)x++;l=l.slice(x)}return l},e.generateECPolynomial=function(o){for(var i=t.from([1]),l=0;l<o;l++)i=e.mul(i,[1,r.exp(l)]);return i}})(ac);var r0=Wr,fc=ac,KM=Dn.Buffer;function $f(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}$f.prototype.initialize=function(t){this.degree=t,this.genPoly=fc.generateECPolynomial(this.degree)};$f.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=r0.alloc(this.degree),n=KM.concat([t,r],t.length+this.degree),o=fc.mod(n,this.genPoly),i=this.degree-o.length;if(i>0){var l=r0.alloc(this.degree);return o.copy(l,i),l}return o};var WM=$f,uc={},jr={},Df={};Df.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var yr={},hc="[0-9]+",jM="[A-Z $%*+\\-./:]+",wi="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wi=wi.replace(/u/g,"\\u");var GM="(?:(?![A-Z0-9 $%*+\\-./:]|"+wi+`)(?:.|[\r
]))+`;yr.KANJI=new RegExp(wi,"g");yr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");yr.BYTE=new RegExp(GM,"g");yr.NUMERIC=new RegExp(hc,"g");yr.ALPHANUMERIC=new RegExp(jM,"g");var VM=new RegExp("^"+wi+"$"),ZM=new RegExp("^"+hc+"$"),JM=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");yr.testKanji=function(t){return VM.test(t)};yr.testNumeric=function(t){return ZM.test(t)};yr.testAlphanumeric=function(t){return JM.test(t)};(function(e){var t=Df,r=yr;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");var i=o.toLowerCase();switch(i){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(i,l){if(e.isValid(i))return i;try{return n(i)}catch{return l}}})(jr);(function(e){var t=Nt,r=pa,n=va,o=jr,i=Df,l=Nf,v=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,g=t.getBCHDigit(v);function x(I,M,T){for(var A=1;A<=40;A++)if(M<=e.getCapacity(A,T,I))return A}function y(I,M){return o.getCharCountIndicator(I,M)+4}function S(I,M){var T=0;return I.forEach(function(A){var C=y(A.mode,M);T+=C+A.getBitsLength()}),T}function R(I,M){for(var T=1;T<=40;T++){var A=S(I,T);if(A<=e.getCapacity(T,M,o.MIXED))return T}}e.from=function(M,T){return i.isValid(M)?parseInt(M,10):T},e.getCapacity=function(M,T,A){if(!i.isValid(M))throw new Error("Invalid QR Code version");typeof A=="undefined"&&(A=o.BYTE);var C=t.getSymbolTotalCodewords(M),k=r.getTotalCodewordsCount(M,T),B=(C-k)*8;if(A===o.MIXED)return B;var O=B-y(A,M);switch(A){case o.NUMERIC:return Math.floor(O/10*3);case o.ALPHANUMERIC:return Math.floor(O/11*2);case o.KANJI:return Math.floor(O/13);case o.BYTE:default:return Math.floor(O/8)}},e.getBestVersionForData=function(M,T){var A,C=n.from(T,n.M);if(l(M)){if(M.length>1)return R(M,C);if(M.length===0)return 1;A=M[0]}else A=M;return x(A.mode,A.getLength(),C)},e.getEncodedBits=function(M){if(!i.isValid(M)||M<7)throw new Error("Invalid QR Code version");for(var T=M<<12;t.getBCHDigit(T)-g>=0;)T^=v<<t.getBCHDigit(T)-g;return M<<12|T}})(uc);var lc={},qs=Nt,cc=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,YM=1<<14|1<<12|1<<10|1<<4|1<<1,n0=qs.getBCHDigit(cc);lc.getEncodedBits=function(t,r){for(var n=t.bit<<3|r,o=n<<10;qs.getBCHDigit(o)-n0>=0;)o^=cc<<qs.getBCHDigit(o)-n0;return(n<<10|o)^YM};var dc={},XM=jr;function Ln(e){this.mode=XM.NUMERIC,this.data=e.toString()}Ln.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ln.prototype.getLength=function(){return this.data.length};Ln.prototype.getBitsLength=function(){return Ln.getBitsLength(this.data.length)};Ln.prototype.write=function(t){var r,n,o;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),o=parseInt(n,10),t.put(o,10);var i=this.data.length-r;i>0&&(n=this.data.substr(r),o=parseInt(n,10),t.put(o,i*3+1))};var QM=Ln,e3=jr,Ga=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Nn(e){this.mode=e3.ALPHANUMERIC,this.data=e}Nn.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Nn.prototype.getLength=function(){return this.data.length};Nn.prototype.getBitsLength=function(){return Nn.getBitsLength(this.data.length)};Nn.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var n=Ga.indexOf(this.data[r])*45;n+=Ga.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(Ga.indexOf(this.data[r]),6)};var t3=Nn,r3=Wr,n3=jr;function qn(e){this.mode=n3.BYTE,this.data=r3.from(e)}qn.getBitsLength=function(t){return t*8};qn.prototype.getLength=function(){return this.data.length};qn.prototype.getBitsLength=function(){return qn.getBitsLength(this.data.length)};qn.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var i3=qn,o3=jr,a3=Nt;function Un(e){this.mode=o3.KANJI,this.data=e}Un.getBitsLength=function(t){return t*13};Un.prototype.getLength=function(){return this.data.length};Un.prototype.getBitsLength=function(){return Un.getBitsLength(this.data.length)};Un.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=a3.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var s3=Un,vc={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,o){var i={},l={};l[n]=0;var v=t.PriorityQueue.make();v.push(n,0);for(var g,x,y,S,R,I,M,T,A;!v.empty();){g=v.pop(),x=g.value,S=g.cost,R=r[x]||{};for(y in R)R.hasOwnProperty(y)&&(I=R[y],M=S+I,T=l[y],A=typeof l[y]=="undefined",(A||T>M)&&(l[y]=M,v.push(y,M),i[y]=x))}if(typeof o!="undefined"&&typeof l[o]=="undefined"){var C=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(C)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var o=[],i=n;i;)o.push(i),r[i],i=r[i];return o.reverse(),o},find_path:function(r,n,o){var i=t.single_source_shortest_paths(r,n,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,o={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o.queue=[],o.sorter=r.sorter||n.default_sorter,o},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var o={value:r,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(vc);(function(e){var t=jr,r=QM,n=t3,o=i3,i=s3,l=yr,v=Nt,g=vc.exports;function x(C){return unescape(encodeURIComponent(C)).length}function y(C,k,B){for(var O=[],$;($=C.exec(B))!==null;)O.push({data:$[0],index:$.index,mode:k,length:$[0].length});return O}function S(C){var k=y(l.NUMERIC,t.NUMERIC,C),B=y(l.ALPHANUMERIC,t.ALPHANUMERIC,C),O,$;v.isKanjiModeEnabled()?(O=y(l.BYTE,t.BYTE,C),$=y(l.KANJI,t.KANJI,C)):(O=y(l.BYTE_KANJI,t.BYTE,C),$=[]);var D=k.concat(B,O,$);return D.sort(function(K,F){return K.index-F.index}).map(function(K){return{data:K.data,mode:K.mode,length:K.length}})}function R(C,k){switch(k){case t.NUMERIC:return r.getBitsLength(C);case t.ALPHANUMERIC:return n.getBitsLength(C);case t.KANJI:return i.getBitsLength(C);case t.BYTE:return o.getBitsLength(C)}}function I(C){return C.reduce(function(k,B){var O=k.length-1>=0?k[k.length-1]:null;return O&&O.mode===B.mode?(k[k.length-1].data+=B.data,k):(k.push(B),k)},[])}function M(C){for(var k=[],B=0;B<C.length;B++){var O=C[B];switch(O.mode){case t.NUMERIC:k.push([O,{data:O.data,mode:t.ALPHANUMERIC,length:O.length},{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.ALPHANUMERIC:k.push([O,{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.KANJI:k.push([O,{data:O.data,mode:t.BYTE,length:x(O.data)}]);break;case t.BYTE:k.push([{data:O.data,mode:t.BYTE,length:x(O.data)}])}}return k}function T(C,k){for(var B={},O={start:{}},$=["start"],D=0;D<C.length;D++){for(var K=C[D],F=[],he=0;he<K.length;he++){var P=K[he],d=""+D+he;F.push(d),B[d]={node:P,lastCount:0},O[d]={};for(var s=0;s<$.length;s++){var f=$[s];B[f]&&B[f].node.mode===P.mode?(O[f][d]=R(B[f].lastCount+P.length,P.mode)-R(B[f].lastCount,P.mode),B[f].lastCount+=P.length):(B[f]&&(B[f].lastCount=P.length),O[f][d]=R(P.length,P.mode)+4+t.getCharCountIndicator(P.mode,k))}}$=F}for(s=0;s<$.length;s++)O[$[s]].end=0;return{map:O,table:B}}function A(C,k){var B,O=t.getBestModeForData(C);if(B=t.from(k,O),B!==t.BYTE&&B.bit<O.bit)throw new Error('"'+C+'" cannot be encoded with mode '+t.toString(B)+`.
 Suggested mode is: `+t.toString(O));switch(B===t.KANJI&&!v.isKanjiModeEnabled()&&(B=t.BYTE),B){case t.NUMERIC:return new r(C);case t.ALPHANUMERIC:return new n(C);case t.KANJI:return new i(C);case t.BYTE:return new o(C)}}e.fromArray=function(k){return k.reduce(function(B,O){return typeof O=="string"?B.push(A(O,null)):O.data&&B.push(A(O.data,O.mode)),B},[])},e.fromString=function(k,B){for(var O=S(k,v.isKanjiModeEnabled()),$=M(O),D=T($,B),K=g.find_path(D.map,"start","end"),F=[],he=1;he<K.length-1;he++)F.push(D.table[K[he]].node);return e.fromArray(I(F))},e.rawSplit=function(k){return e.fromArray(S(k,v.isKanjiModeEnabled()))}})(dc);var i0=Wr,ma=Nt,Va=va,f3=HM,u3=FM,h3=nc,l3=ic,Us=oc,$s=pa,c3=WM,xo=uc,d3=lc,v3=jr,Za=dc,p3=Nf;function g3(e,t){for(var r=e.size,n=l3.getPositions(t),o=0;o<n.length;o++)for(var i=n[o][0],l=n[o][1],v=-1;v<=7;v++)if(!(i+v<=-1||r<=i+v))for(var g=-1;g<=7;g++)l+g<=-1||r<=l+g||(v>=0&&v<=6&&(g===0||g===6)||g>=0&&g<=6&&(v===0||v===6)||v>=2&&v<=4&&g>=2&&g<=4?e.set(i+v,l+g,!0,!0):e.set(i+v,l+g,!1,!0))}function m3(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function _3(e,t){for(var r=h3.getPositions(t),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],l=-2;l<=2;l++)for(var v=-2;v<=2;v++)l===-2||l===2||v===-2||v===2||l===0&&v===0?e.set(o+l,i+v,!0,!0):e.set(o+l,i+v,!1,!0)}function y3(e,t){for(var r=e.size,n=xo.getEncodedBits(t),o,i,l,v=0;v<18;v++)o=Math.floor(v/3),i=v%3+r-8-3,l=(n>>v&1)===1,e.set(o,i,l,!0),e.set(i,o,l,!0)}function Ja(e,t,r){var n=e.size,o=d3.getEncodedBits(t,r),i,l;for(i=0;i<15;i++)l=(o>>i&1)===1,i<6?e.set(i,8,l,!0):i<8?e.set(i+1,8,l,!0):e.set(n-15+i,8,l,!0),i<8?e.set(8,n-i-1,l,!0):i<9?e.set(8,15-i-1+1,l,!0):e.set(8,15-i-1,l,!0);e.set(n-8,8,1,!0)}function w3(e,t){for(var r=e.size,n=-1,o=r-1,i=7,l=0,v=r-1;v>0;v-=2)for(v===6&&v--;;){for(var g=0;g<2;g++)if(!e.isReserved(o,v-g)){var x=!1;l<t.length&&(x=(t[l]>>>i&1)===1),e.set(o,v-g,x),i--,i===-1&&(l++,i=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}function b3(e,t,r){var n=new f3;r.forEach(function(x){n.put(x.mode.bit,4),n.put(x.getLength(),v3.getCharCountIndicator(x.mode,e)),x.write(n)});var o=ma.getSymbolTotalCodewords(e),i=$s.getTotalCodewordsCount(e,t),l=(o-i)*8;for(n.getLengthInBits()+4<=l&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var v=(l-n.getLengthInBits())/8,g=0;g<v;g++)n.put(g%2?17:236,8);return x3(n,e,t)}function x3(e,t,r){for(var n=ma.getSymbolTotalCodewords(t),o=$s.getTotalCodewordsCount(t,r),i=n-o,l=$s.getBlocksCount(t,r),v=n%l,g=l-v,x=Math.floor(n/l),y=Math.floor(i/l),S=y+1,R=x-y,I=new c3(R),M=0,T=new Array(l),A=new Array(l),C=0,k=i0.from(e.buffer),B=0;B<l;B++){var O=B<g?y:S;T[B]=k.slice(M,M+O),A[B]=I.encode(T[B]),M+=O,C=Math.max(C,O)}var $=i0.alloc(n),D=0,K,F;for(K=0;K<C;K++)for(F=0;F<l;F++)K<T[F].length&&($[D++]=T[F][K]);for(K=0;K<R;K++)for(F=0;F<l;F++)$[D++]=A[F][K];return $}function M3(e,t,r,n){var o;if(p3(e))o=Za.fromArray(e);else if(typeof e=="string"){var i=t;if(!i){var l=Za.rawSplit(e);i=xo.getBestVersionForData(l,r)}o=Za.fromString(e,i||40)}else throw new Error("Invalid data");var v=xo.getBestVersionForData(o,r);if(!v)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=v;else if(t<v)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+v+`.
`);var g=b3(t,r,o),x=ma.getSymbolSize(t),y=new u3(x);return g3(y,t),m3(y),_3(y,t),Ja(y,r,0),t>=7&&y3(y,t),w3(y,g),isNaN(n)&&(n=Us.getBestMask(y,Ja.bind(null,y,r))),Us.applyMask(n,y),Ja(y,r,n),{modules:y,version:t,errorCorrectionLevel:r,maskPattern:n,segments:o}}Xl.create=function(t,r){if(typeof t=="undefined"||t==="")throw new Error("No input text");var n=Va.M,o,i;return typeof r!="undefined"&&(n=Va.from(r.errorCorrectionLevel,Va.M),o=xo.from(r.version),i=Us.from(r.maskPattern),r.toSJISFunc&&ma.setToSJISFunction(r.toSJISFunc)),M3(t,o,n,i)};var pc={},Hf={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");var o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});var o=typeof n.margin=="undefined"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,l=n.scale||4;return{width:i,scale:i?4:l,margin:o,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},e.getImageWidth=function(n,o){var i=e.getScale(n,o);return Math.floor((n+o.margin*2)*i)},e.qrToImageData=function(n,o,i){for(var l=o.modules.size,v=o.modules.data,g=e.getScale(l,i),x=Math.floor((l+i.margin*2)*g),y=i.margin*g,S=[i.color.light,i.color.dark],R=0;R<x;R++)for(var I=0;I<x;I++){var M=(R*x+I)*4,T=i.color.light;if(R>=y&&I>=y&&R<x-y&&I<x-y){var A=Math.floor((R-y)/g),C=Math.floor((I-y)/g);T=S[v[A*l+C]?1:0]}n[M++]=T.r,n[M++]=T.g,n[M++]=T.b,n[M]=T.a}}})(Hf);(function(e){var t=Hf;function r(o,i,l){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,l,v){var g=v,x=l;typeof g=="undefined"&&(!l||!l.getContext)&&(g=l,l=void 0),l||(x=n()),g=t.getOptions(g);var y=t.getImageWidth(i.modules.size,g),S=x.getContext("2d"),R=S.createImageData(y,y);return t.qrToImageData(R.data,i,g),r(S,x,y),S.putImageData(R,0,0),x},e.renderToDataURL=function(i,l,v){var g=v;typeof g=="undefined"&&(!l||!l.getContext)&&(g=l,l=void 0),g||(g={});var x=e.render(i,l,g),y=g.type||"image/png",S=g.rendererOpts||{};return x.toDataURL(y,S.quality)}})(pc);var gc={},S3=Hf;function o0(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Ya(e,t,r){var n=e+t;return typeof r!="undefined"&&(n+=" "+r),n}function E3(e,t,r){for(var n="",o=0,i=!1,l=0,v=0;v<e.length;v++){var g=Math.floor(v%t),x=Math.floor(v/t);!g&&!i&&(i=!0),e[v]?(l++,v>0&&g>0&&e[v-1]||(n+=i?Ya("M",g+r,.5+x+r):Ya("m",o,0),o=0,i=!1),g+1<t&&e[v+1]||(n+=Ya("h",l),l=0)):o++}return n}gc.render=function(t,r,n){var o=S3.getOptions(r),i=t.modules.size,l=t.modules.data,v=i+o.margin*2,g=o.color.light.a?"<path "+o0(o.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",x="<path "+o0(o.color.dark,"stroke")+' d="'+E3(l,i,o.margin)+'"/>',y='viewBox="0 0 '+v+" "+v+'"',S=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",R='<svg xmlns="http://www.w3.org/2000/svg" '+S+y+' shape-rendering="crispEdges">'+g+x+`</svg>
`;return typeof n=="function"&&n(null,R),R};var A3=TM,Ds=Xl,mc=pc,R3=gc;function Ff(e,t,r,n,o){var i=[].slice.call(arguments,1),l=i.length,v=typeof i[l-1]=="function";if(!v&&!A3())throw new Error("Callback required as last argument");if(v){if(l<2)throw new Error("Too few arguments provided");l===2?(o=r,r=t,t=n=void 0):l===3&&(t.getContext&&typeof o=="undefined"?(o=n,n=void 0):(o=n,n=r,r=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(r=t,t=n=void 0):l===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(x,y){try{var S=Ds.create(r,n);x(e(S,t,n))}catch(R){y(R)}})}try{var g=Ds.create(r,n);o(null,e(g,t,n))}catch(x){o(x)}}qi.create=Ds.create;qi.toCanvas=Ff.bind(null,mc.render);qi.toDataURL=Ff.bind(null,mc.renderToDataURL);qi.toString=Ff.bind(null,function(e,t,r){return R3.render(e,r)});var k3=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(o){e.addRange(o)}),t&&t.focus()}},T3=k3,a0={"text/plain":"Text","text/html":"Url",default:"Text"},C3="Copy to clipboard: #{key}, Enter";function I3(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function P3(e,t){var r,n,o,i,l,v,g=!1;t||(t={}),r=t.debug||!1;try{o=T3(),i=document.createRange(),l=document.getSelection(),v=document.createElement("span"),v.textContent=e,v.style.all="unset",v.style.position="fixed",v.style.top=0,v.style.clip="rect(0, 0, 0, 0)",v.style.whiteSpace="pre",v.style.webkitUserSelect="text",v.style.MozUserSelect="text",v.style.msUserSelect="text",v.style.userSelect="text",v.addEventListener("copy",function(y){if(y.stopPropagation(),t.format)if(y.preventDefault(),typeof y.clipboardData=="undefined"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var S=a0[t.format]||a0.default;window.clipboardData.setData(S,e)}else y.clipboardData.clearData(),y.clipboardData.setData(t.format,e);t.onCopy&&(y.preventDefault(),t.onCopy(y.clipboardData))}),document.body.appendChild(v),i.selectNodeContents(v),l.addRange(i);var x=document.execCommand("copy");if(!x)throw new Error("copy command was unsuccessful");g=!0}catch(y){r&&console.error("unable to copy using execCommand: ",y),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),g=!0}catch(S){r&&console.error("unable to copy using clipboardData: ",S),r&&console.error("falling back to prompt"),n=I3("message"in t?t.message:C3),window.prompt(n,e)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(i):l.removeAllRanges()),v&&document.body.removeChild(v),o()}return g}var B3=P3,le,di,zf,_c,s0,Kf,yc,Mr={},_a=[],O3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function xr(e,t){for(var r in t)e[r]=t[r];return e}function wc(e){var t=e.parentNode;t&&t.removeChild(e)}function Ar(e,t,r){var n,o=arguments,i={};for(n in t)n!=="key"&&n!=="ref"&&(i[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(o[n]);if(r!=null&&(i.children=r),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return Mo(e,i,t&&t.key,t&&t.ref,null)}function Mo(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return o==null&&(i.__v=i),le.vnode&&le.vnode(i),i}function bc(){return{}}function $i(e){return e.children}function sr(e,t){this.props=e,this.context=t}function bi(e,t){if(t==null)return e.__?bi(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?bi(e):null}function xc(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return xc(e)}}function no(e){(!e.__d&&(e.__d=!0)&&di.push(e)&&!zf++||s0!==le.debounceRendering)&&((s0=le.debounceRendering)||_c)(L3)}function L3(){for(var e;zf=di.length;)e=di.sort(function(t,r){return t.__v.__b-r.__v.__b}),di=[],e.some(function(t){var r,n,o,i,l,v,g;t.__d&&(v=(l=(r=t).__v).__e,(g=r.__P)&&(n=[],(o=xr({},l)).__v=o,i=Wf(g,l,o,r.__n,g.ownerSVGElement!==void 0,null,n,v==null?bi(l):v),Sc(n,l),i!=v&&xc(l)))})}function Mc(e,t,r,n,o,i,l,v,g){var x,y,S,R,I,M,T,A=r&&r.__k||_a,C=A.length;if(v==Mr&&(v=i!=null?i[0]:C?bi(r,0):null),x=0,t.__k=qr(t.__k,function(k){if(k!=null){if(k.__=t,k.__b=t.__b+1,(S=A[x])===null||S&&k.key==S.key&&k.type===S.type)A[x]=void 0;else for(y=0;y<C;y++){if((S=A[y])&&k.key==S.key&&k.type===S.type){A[y]=void 0;break}S=null}if(R=Wf(e,k,S=S||Mr,n,o,i,l,v,g),(y=k.ref)&&S.ref!=y&&(T||(T=[]),S.ref&&T.push(S.ref,null,k),T.push(y,k.__c||R,k)),R!=null){var B;if(M==null&&(M=R),k.__d!==void 0)B=k.__d,k.__d=void 0;else if(i==S||R!=v||R.parentNode==null){e:if(v==null||v.parentNode!==e)e.appendChild(R),B=null;else{for(I=v,y=0;(I=I.nextSibling)&&y<C;y+=2)if(I==R)break e;e.insertBefore(R,v),B=v}t.type=="option"&&(e.value="")}v=B!==void 0?B:R.nextSibling,typeof t.type=="function"&&(t.__d=v)}else v&&S.__e==v&&v.parentNode!=e&&(v=bi(S))}return x++,k}),t.__e=M,i!=null&&typeof t.type!="function")for(x=i.length;x--;)i[x]!=null&&wc(i[x]);for(x=C;x--;)A[x]!=null&&vi(A[x],A[x]);if(T)for(x=0;x<T.length;x++)Ec(T[x],T[++x],T[++x])}function qr(e,t,r){if(r==null&&(r=[]),e==null||typeof e=="boolean")t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)qr(e[n],t,r);else r.push(t?t(typeof e=="string"||typeof e=="number"?Mo(null,e,null,null,e):e.__e!=null||e.__c!=null?Mo(e.type,e.props,e.key,null,e.__v):e):e);return r}function N3(e,t,r,n,o){var i;for(i in r)i==="children"||i==="key"||i in t||So(e,i,null,r[i],n);for(i in t)o&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===t[i]||So(e,i,t[i],r[i],n)}function f0(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=typeof r=="number"&&O3.test(t)===!1?r+"px":r==null?"":r}function So(e,t,r,n,o){var i,l,v,g,x;if(o?t==="className"&&(t="class"):t==="class"&&(t="className"),t==="style")if(i=e.style,typeof r=="string")i.cssText=r;else{if(typeof n=="string"&&(i.cssText="",n=null),n)for(g in n)r&&g in r||f0(i,g,"");if(r)for(x in r)n&&r[x]===n[x]||f0(i,x,r[x])}else t[0]==="o"&&t[1]==="n"?(l=t!==(t=t.replace(/Capture$/,"")),v=t.toLowerCase(),t=(v in e?v:t).slice(2),r?(n||e.addEventListener(t,u0,l),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,u0,l)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&!o&&t in e?e[t]=r==null?"":r:typeof r!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/^xlink:?/,""))?r==null||r===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function u0(e){this.l[e.type](le.event?le.event(e):e)}function Wf(e,t,r,n,o,i,l,v,g){var x,y,S,R,I,M,T,A,C,k,B=t.type;if(t.constructor!==void 0)return null;(x=le.__b)&&x(t);try{e:if(typeof B=="function"){if(A=t.props,C=(x=B.contextType)&&n[x.__c],k=x?C?C.props.value:x.__:n,r.__c?T=(y=t.__c=r.__c).__=y.__E:("prototype"in B&&B.prototype.render?t.__c=y=new B(A,k):(t.__c=y=new sr(A,k),y.constructor=B,y.render=U3),C&&C.sub(y),y.props=A,y.state||(y.state={}),y.context=k,y.__n=n,S=y.__d=!0,y.__h=[]),y.__s==null&&(y.__s=y.state),B.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=xr({},y.__s)),xr(y.__s,B.getDerivedStateFromProps(A,y.__s))),R=y.props,I=y.state,S)B.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(B.getDerivedStateFromProps==null&&A!==R&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(A,k),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(A,y.__s,k)===!1||t.__v===r.__v&&!y.__){for(y.props=A,y.state=y.__s,t.__v!==r.__v&&(y.__d=!1),y.__v=t,t.__e=r.__e,t.__k=r.__k,y.__h.length&&l.push(y),x=0;x<t.__k.length;x++)t.__k[x]&&(t.__k[x].__=t);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(A,y.__s,k),y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(R,I,M)})}y.context=k,y.props=A,y.state=y.__s,(x=le.__r)&&x(t),y.__d=!1,y.__v=t,y.__P=e,x=y.render(y.props,y.state,y.context),t.__k=x!=null&&x.type==$i&&x.key==null?x.props.children:Array.isArray(x)?x:[x],y.getChildContext!=null&&(n=xr(xr({},n),y.getChildContext())),S||y.getSnapshotBeforeUpdate==null||(M=y.getSnapshotBeforeUpdate(R,I)),Mc(e,t,r,n,o,i,l,v,g),y.base=t.__e,y.__h.length&&l.push(y),T&&(y.__E=y.__=null),y.__e=!1}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=q3(r.__e,t,r,n,o,i,l,g);(x=le.diffed)&&x(t)}catch(O){t.__v=null,le.__e(O,t,r)}return t.__e}function Sc(e,t){le.__c&&le.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){le.__e(n,r.__v)}})}function q3(e,t,r,n,o,i,l,v){var g,x,y,S,R,I=r.props,M=t.props;if(o=t.type==="svg"||o,i!=null){for(g=0;g<i.length;g++)if((x=i[g])!=null&&((t.type===null?x.nodeType===3:x.localName===t.type)||e==x)){e=x,i[g]=null;break}}if(e==null){if(t.type===null)return document.createTextNode(M);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,M.is&&{is:M.is}),i=null,v=!1}if(t.type===null)I!==M&&e.data!=M&&(e.data=M);else{if(i!=null&&(i=_a.slice.call(e.childNodes)),y=(I=r.props||Mr).dangerouslySetInnerHTML,S=M.dangerouslySetInnerHTML,!v){if(I===Mr)for(I={},R=0;R<e.attributes.length;R++)I[e.attributes[R].name]=e.attributes[R].value;(S||y)&&(S&&y&&S.__html==y.__html||(e.innerHTML=S&&S.__html||""))}N3(e,M,I,o,v),S?t.__k=[]:(t.__k=t.props.children,Mc(e,t,r,n,t.type!=="foreignObject"&&o,i,l,Mr,v)),v||("value"in M&&(g=M.value)!==void 0&&g!==e.value&&So(e,"value",g,I.value,!1),"checked"in M&&(g=M.checked)!==void 0&&g!==e.checked&&So(e,"checked",g,I.checked,!1))}return e}function Ec(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){le.__e(n,r)}}function vi(e,t,r){var n,o,i;if(le.unmount&&le.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Ec(n,null,t)),r||typeof e.type=="function"||(r=(o=e.__e)!=null),e.__e=e.__d=void 0,(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(l){le.__e(l,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&vi(n[i],t,r);o!=null&&wc(o)}function U3(e,t,r){return this.constructor(e,r)}function xi(e,t,r){var n,o,i;le.__&&le.__(e,t),o=(n=r===Kf)?null:r&&r.__k||t.__k,e=Ar($i,null,[e]),i=[],Wf(t,(n?t:r||t).__k=e,o||Mr,Mr,t.ownerSVGElement!==void 0,r&&!n?[r]:o?null:_a.slice.call(t.childNodes),i,r||Mr,n),Sc(i,e)}function Ac(e,t){xi(e,t,Kf)}function $3(e,t){var r,n;for(n in t=xr(xr({},e.props),t),arguments.length>2&&(t.children=_a.slice.call(arguments,2)),r={},t)n!=="key"&&n!=="ref"&&(r[n]=t[n]);return Mo(e.type,r,t.key||e.key,t.ref||e.ref,null)}function Rc(e){var t={},r={__c:"__cC"+yc++,__:e,Consumer:function(n,o){return n.children(o)},Provider:function(n){var o,i=this;return this.getChildContext||(o=[],this.getChildContext=function(){return t[r.__c]=i,t},this.shouldComponentUpdate=function(l){i.props.value!==l.value&&o.some(function(v){v.context=l.value,no(v)})},this.sub=function(l){o.push(l);var v=l.componentWillUnmount;l.componentWillUnmount=function(){o.splice(o.indexOf(l),1),v&&v.call(l)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}le={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(e)),n)return no(r.__E=r)}catch(o){e=o}throw e}},sr.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=xr({},this.state),typeof e=="function"&&(e=e(r,this.props)),e&&xr(r,e),e!=null&&this.__v&&(t&&this.__h.push(t),no(this))},sr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),no(this))},sr.prototype.render=$i,di=[],zf=0,_c=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Kf=Mr,yc=0;var gn,It,h0,$n=0,Hs=[],l0=le.__r,c0=le.diffed,d0=le.__c,v0=le.unmount;function ei(e,t){le.__h&&le.__h(It,e,$n||t),$n=0;var r=It.__H||(It.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function jf(e){return $n=1,Gf(Oc,e)}function Gf(e,t,r){var n=ei(gn++,2);return n.__c||(n.__c=It,n.__=[r?r(t):Oc(void 0,t),function(o){var i=e(n.__[0],o);n.__[0]!==i&&(n.__[0]=i,n.__c.setState({}))}]),n.__}function kc(e,t){var r=ei(gn++,3);!le.__s&&Zf(r.__H,t)&&(r.__=e,r.__H=t,It.__H.__h.push(r))}function Vf(e,t){var r=ei(gn++,4);!le.__s&&Zf(r.__H,t)&&(r.__=e,r.__H=t,It.__h.push(r))}function Tc(e){return $n=5,ya(function(){return{current:e}},[])}function Cc(e,t,r){$n=6,Vf(function(){typeof e=="function"?e(t()):e&&(e.current=t())},r==null?r:r.concat(e))}function ya(e,t){var r=ei(gn++,7);return Zf(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function Ic(e,t){return $n=8,ya(function(){return e},t)}function Pc(e){var t=It.context[e.__c],r=ei(gn++,9);return r.__c=e,t?(r.__==null&&(r.__=!0,t.sub(It)),t.props.value):e.__}function Bc(e,t){le.useDebugValue&&le.useDebugValue(t?t(e):e)}function D3(e){var t=ei(gn++,10),r=jf();return t.__=e,It.componentDidCatch||(It.componentDidCatch=function(n){t.__&&t.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function H3(){Hs.some(function(e){if(e.__P)try{e.__H.__h.forEach(Fs),e.__H.__h.forEach(zs),e.__H.__h=[]}catch(t){return e.__H.__h=[],le.__e(t,e.__v),!0}}),Hs=[]}function Fs(e){e.t&&e.t()}function zs(e){var t=e.__();typeof t=="function"&&(e.t=t)}function Zf(e,t){return!e||t.some(function(r,n){return r!==e[n]})}function Oc(e,t){return typeof t=="function"?t(e):t}le.__r=function(e){l0&&l0(e),gn=0,(It=e.__c).__H&&(It.__H.__h.forEach(Fs),It.__H.__h.forEach(zs),It.__H.__h=[])},le.diffed=function(e){c0&&c0(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(Hs.push(t)!==1&&h0===le.requestAnimationFrame||((h0=le.requestAnimationFrame)||function(n){var o,i=function(){clearTimeout(l),cancelAnimationFrame(o),setTimeout(n)},l=setTimeout(i,100);typeof window!="undefined"&&(o=requestAnimationFrame(i))})(H3))}},le.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Fs),r.__h=r.__h.filter(function(n){return!n.__||zs(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],le.__e(n,r.__v)}}),d0&&d0(e,t)},le.unmount=function(e){v0&&v0(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){le.__e(n,t.__v)}}};function Jf(e,t){for(var r in t)e[r]=t[r];return e}function Ks(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}var Lc=function(e){var t,r;function n(o){var i;return(i=e.call(this,o)||this).isPureReactComponent=!0,i}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.shouldComponentUpdate=function(o,i){return Ks(this.props,o)||Ks(this.state,i)},n}(sr);function Nc(e,t){function r(o){var i=this.props.ref,l=i==o.ref;return!l&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!l:Ks(this.props,o)}function n(o){return this.shouldComponentUpdate=r,Ar(e,Jf({},o))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var p0=le.__b;function qc(e){function t(r){var n=Jf({},r);return delete n.ref,e(n,r.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}le.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),p0&&p0(e)};var g0=function(e,t){return e?qr(e).reduce(function(r,n,o){return r.concat(t(n,o))},[]):null},Uc={map:g0,forEach:g0,count:function(e){return e?qr(e).length:0},only:function(e){if((e=qr(e)).length!==1)throw new Error("Children.only() expects only one child.");return e[0]},toArray:qr},F3=le.__e;function $c(e){return e&&((e=Jf({},e)).__c=null,e.__k=e.__k&&e.__k.map($c)),e}function Eo(){this.__u=0,this.o=null,this.__b=null}function Dc(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function Hc(e){var t,r,n;function o(i){if(t||(t=e()).then(function(l){r=l.default||l},function(l){n=l}),n)throw n;if(!r)throw t;return Ar(r,i)}return o.displayName="Lazy",o.t=!0,o}function xn(){this.i=null,this.l=null}le.__e=function(e,t,r){if(e.then){for(var n,o=t;o=o.__;)if((n=o.__c)&&n.__c)return n.__c(e,t.__c)}F3(e,t,r)},(Eo.prototype=new sr).__c=function(e,t){var r=this;r.o==null&&(r.o=[]),r.o.push(t);var n=Dc(r.__v),o=!1,i=function(){o||(o=!0,n?n(l):l())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){i(),t.__c&&t.__c()};var l=function(){var v;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});v=r.o.pop();)v.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(i,i)},Eo.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=$c(this.__b),this.__b=null),[Ar(sr,null,t.u?null:e.children),t.u&&e.fallback]};var m0=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(xn.prototype=new sr).u=function(e){var t=this,r=Dc(t.__v),n=t.l.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),m0(t,e,n)):o()};r?r(i):i()}},xn.prototype.render=function(e){this.i=null,this.l=new Map;var t=qr(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},xn.prototype.componentDidUpdate=xn.prototype.componentDidMount=function(){var e=this;e.l.forEach(function(t,r){m0(e,r,t)})};var z3=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(r){return r.children},e}();function K3(e){var t=this,r=e.container,n=Ar(z3,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.v.parentNode&&t.s.removeChild(t.v),vi(t.h),t.p=!1),e.vnode?t.p?(r.__k=t.__k,xi(n,r),t.__k=r.__k):(t.v=document.createTextNode(""),Ac("",r),r.appendChild(t.v),t.p=!0,t.s=r,xi(n,r,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),vi(t.h)),t.h=n,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),vi(t.h)},null}function Fc(e,t){return Ar(K3,{vnode:e,container:t})}var _0=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;sr.prototype.isReactComponent={};var zc=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103;function Ws(e,t,r){if(t.__k==null)for(;t.firstChild;)t.removeChild(t.firstChild);return xi(e,t),typeof r=="function"&&r(),e?e.__c:null}function W3(e,t,r){return Ac(e,t),typeof r=="function"&&r(),e?e.__c:null}var y0=le.event;function Xa(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(r){this["UNSAFE_"+t]=r}})}le.event=function(e){y0&&(e=y0(e)),e.persist=function(){};var t=!1,r=!1,n=e.stopPropagation;e.stopPropagation=function(){n.call(e),t=!0};var o=e.preventDefault;return e.preventDefault=function(){o.call(e),r=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return r},e.nativeEvent=e};var w0={configurable:!0,get:function(){return this.class}},b0=le.vnode;le.vnode=function(e){e.$$typeof=zc;var t=e.type,r=e.props;if(t){if(r.class!=r.className&&(w0.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",w0)),typeof t!="function"){var n,o,i;for(i in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&t==="select"&&(qr(r.children).forEach(function(l){r.value.indexOf(l.props.value)!=-1&&(l.props.selected=!0)}),delete r.value),r)if(n=_0.test(i))break;if(n)for(i in o=e.props={},r)o[_0.test(i)?i.replace(/[A-Z0-9]/,"-$&").toLowerCase():i]=r[i]}(function(l){var v=e.type,g=e.props;if(g&&typeof v=="string"){var x={};for(var y in g)/^on(Ani|Tra|Tou)/.test(y)&&(g[y.toLowerCase()]=g[y],delete g[y]),x[y.toLowerCase()]=y;if(x.ondoubleclick&&(g.ondblclick=g[x.ondoubleclick],delete g[x.ondoubleclick]),x.onbeforeinput&&(g.onbeforeinput=g[x.onbeforeinput],delete g[x.onbeforeinput]),x.onchange&&(v==="textarea"||v.toLowerCase()==="input"&&!/^fil|che|ra/i.test(g.type))){var S=x.oninput||"oninput";g[S]||(g[S]=g[x.onchange],delete g[x.onchange])}}})(),typeof t=="function"&&!t.m&&t.prototype&&(Xa(t.prototype,"componentWillMount"),Xa(t.prototype,"componentWillReceiveProps"),Xa(t.prototype,"componentWillUpdate"),t.m=!0)}b0&&b0(e)};var j3="16.8.0";function Kc(e){return Ar.bind(null,e)}function Yf(e){return!!e&&e.$$typeof===zc}function Wc(e){return Yf(e)?$3.apply(null,arguments):e}function jc(e){return!!e.__k&&(xi(null,e),!0)}function Gc(e){return e&&(e.base||e.nodeType===1&&e)||null}var Vc=function(e,t){return e(t)},G3={useState:jf,useReducer:Gf,useEffect:kc,useLayoutEffect:Vf,useRef:Tc,useImperativeHandle:Cc,useMemo:ya,useCallback:Ic,useContext:Pc,useDebugValue:Bc,version:"16.8.0",Children:Uc,render:Ws,hydrate:Ws,unmountComponentAtNode:jc,createPortal:Fc,createElement:Ar,createContext:Rc,createFactory:Kc,cloneElement:Wc,createRef:bc,Fragment:$i,isValidElement:Yf,findDOMNode:Gc,Component:sr,PureComponent:Lc,memo:Nc,forwardRef:qc,unstable_batchedUpdates:Vc,Suspense:Eo,SuspenseList:xn,lazy:Hc},V3=Object.freeze(Object.defineProperty({__proto__:null,default:G3,version:j3,Children:Uc,render:Ws,hydrate:W3,unmountComponentAtNode:jc,createPortal:Fc,createFactory:Kc,cloneElement:Wc,isValidElement:Yf,findDOMNode:Gc,PureComponent:Lc,memo:Nc,forwardRef:qc,unstable_batchedUpdates:Vc,Suspense:Eo,SuspenseList:xn,lazy:Hc,createElement:Ar,createContext:Rc,createRef:bc,Fragment:$i,Component:sr,useState:jf,useReducer:Gf,useEffect:kc,useLayoutEffect:Vf,useRef:Tc,useImperativeHandle:Cc,useMemo:ya,useCallback:Ic,useContext:Pc,useDebugValue:Bc,useErrorBoundary:D3},Symbol.toStringTag,{value:"Module"})),Z3=T0(V3);function Zc(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var kt=kM,Jc=Zc(qi),J3=Zc(B3),z=Z3;function Y3(e){Jc.toString(e,{type:"terminal"}).then(console.log)}var X3=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Q3(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}var e6="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",t6="WalletConnect",r6=300,n6="rgb(64, 153, 255)",Yc="walletconnect-wrapper",x0="walletconnect-style-sheet",Xc="walletconnect-qrcode-modal",i6="walletconnect-qrcode-close",Qc="walletconnect-qrcode-text",o6="walletconnect-connect-button";function a6(e){return z.createElement("div",{className:"walletconnect-modal__header"},z.createElement("img",{src:e6,className:"walletconnect-modal__headerLogo"}),z.createElement("p",null,t6),z.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},z.createElement("div",{id:i6,className:"walletconnect-modal__close__icon"},z.createElement("div",{className:"walletconnect-modal__close__line1"}),z.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function s6(e){return z.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:o6+"-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}var f6="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function u6(e){var t=e.color,r=e.href,n=e.name,o=e.logo,i=e.onClick;return z.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},z.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),z.createElement("div",{className:"walletconnect-modal__base__row__right"},z.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+o+"') "+t,backgroundSize:"100%"}}),z.createElement("img",{src:f6,className:"walletconnect-modal__base__row__right__caret"})))}function h6(e){var t=e.color,r=e.href,n=e.name,o=e.logo,i=e.onClick,l=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return z.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},z.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+o+"') "+t,backgroundSize:"100%"}}),z.createElement("div",{style:{fontSize:l},className:"walletconnect-connect__button__text"},n))}var l6=5,Qa=12;function c6(e){var t=kt.isAndroid(),r=z.useState(""),n=r[0],o=r[1],i=z.useState(""),l=i[0],v=i[1],g=z.useState(1),x=g[0],y=g[1],S=l?e.links.filter(function(O){return O.name.toLowerCase().includes(l.toLowerCase())}):e.links,R=e.errorMessage,I=l||S.length>l6,M=Math.ceil(S.length/Qa),T=[(x-1)*Qa+1,x*Qa],A=S.length?S.filter(function(O,$){return $+1>=T[0]&&$+1<=T[1]}):[],C=!t&&M>1,k=void 0;function B(O){o(O.target.value),clearTimeout(k),O.target.value?k=setTimeout(function(){v(O.target.value),y(1)},1e3):(o(""),v(""),y(1))}return z.createElement("div",null,z.createElement("p",{id:Qc,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&z.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:B}),z.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":I&&S.length?"__wrap":"")},t?z.createElement(s6,{name:e.text.connect,color:n6,href:e.uri,onClick:z.useCallback(function(){kt.saveMobileLinkInfo({name:"Unknown",href:e.uri})},[])}):A.length?A.map(function(O){var $=O.color,D=O.name,K=O.shortName,F=O.logo,he=kt.formatIOSMobile(e.uri,O),P=z.useCallback(function(){kt.saveMobileLinkInfo({name:D,href:he})},[A]);return I?z.createElement(h6,{color:$,href:he,name:K||D,logo:F,onClick:P}):z.createElement(u6,{color:$,href:he,name:D,logo:F,onClick:P})}):z.createElement(z.Fragment,null,z.createElement("p",null,R.length?e.errorMessage:!!e.links.length&&!S.length?e.text.no_wallets_found:e.text.loading))),C&&z.createElement("div",{className:"walletconnect-modal__footer"},Array(M).fill(0).map(function(O,$){var D=$+1,K=x===D;return z.createElement("a",{style:{margin:"auto 10px",fontWeight:K?"bold":"normal"},onClick:function(){return y(D)}},D)})))}function d6(e){var t=!!e.message.trim();return z.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var v6=function(e){try{var t="";return Promise.resolve(Jc.toString(e,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(t=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t})}catch(r){return Promise.reject(r)}};function p6(e){var t=z.useState(""),r=t[0],n=t[1],o=z.useState(""),i=o[0],l=o[1];z.useEffect(function(){try{return Promise.resolve(v6(e.uri)).then(function(g){l(g)})}catch(g){Promise.reject(g)}},[]);var v=function(){var g=J3(e.uri);g?(n(e.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return z.createElement("div",null,z.createElement("p",{id:Qc,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),z.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),z.createElement("div",{className:"walletconnect-modal__footer"},z.createElement("a",{onClick:v},e.text.copy_to_clipboard)),z.createElement(d6,{message:r}))}function g6(e){var t=kt.isAndroid(),r=kt.isMobile(),n=r?e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0:e.qrcodeModalOptions&&e.qrcodeModalOptions.desktopLinks?e.qrcodeModalOptions.desktopLinks:void 0,o=z.useState(!1),i=o[0],l=o[1],v=z.useState(!1),g=v[0],x=v[1],y=z.useState(!r),S=y[0],R=y[1],I={mobile:r,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},M=z.useState(""),T=M[0],A=M[1],C=z.useState(!1),k=C[0],B=C[1],O=z.useState([]),$=O[0],D=O[1],K=z.useState(""),F=K[0],he=K[1],P=function(){g||i||n&&!n.length||$.length>0||z.useEffect(function(){var s=function(){try{if(t)return Promise.resolve();l(!0);var f=Q3(function(){var a=e.qrcodeModalOptions&&e.qrcodeModalOptions.registryUrl?e.qrcodeModalOptions.registryUrl:kt.getWalletRegistryUrl();return Promise.resolve(fetch(a)).then(function(h){return Promise.resolve(h.json()).then(function(p){var w=p.listings,m=r?"mobile":"desktop",u=kt.getMobileLinkRegistry(kt.formatMobileRegistry(w,m),n);l(!1),x(!0),he(u.length?"":e.text.no_supported_wallets),D(u);var c=u.length===1;c&&(A(kt.formatIOSMobile(e.uri,u[0])),R(!0)),B(c)})})},function(a){l(!1),x(!0),he(e.text.something_went_wrong),console.error(a)});return Promise.resolve(f&&f.then?f.then(function(){}):void 0)}catch(a){return Promise.reject(a)}};s()})};P();var d=r?S:!S;return z.createElement("div",{id:Xc,className:"walletconnect-qrcode__base animated fadeIn"},z.createElement("div",{className:"walletconnect-modal__base"},z.createElement(a6,{onClose:e.onClose}),k&&S?z.createElement("div",{className:"walletconnect-modal__single_wallet"},z.createElement("a",{onClick:function(){return kt.saveMobileLinkInfo({name:$[0].name,href:T})},href:T,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(k?$[0].name:"")+" \u203A")):t||i||!i&&$.length?z.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(d?" right__selected":"")},z.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?z.createElement(z.Fragment,null,z.createElement("a",{onClick:function(){return R(!1),P()}},e.text.mobile),z.createElement("a",{onClick:function(){return R(!0)}},e.text.qrcode)):z.createElement(z.Fragment,null,z.createElement("a",{onClick:function(){return R(!0)}},e.text.qrcode),z.createElement("a",{onClick:function(){return R(!1),P()}},e.text.desktop))):null,z.createElement("div",null,S||!t&&!i&&!$.length?z.createElement(p6,Object.assign({},I)):z.createElement(c6,Object.assign({},I,{links:$,errorMessage:F})))))}var m6={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},_6={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},y6={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},w6={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},b6={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},x6={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},M6={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},S6={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},M0={de:m6,en:_6,es:y6,fr:w6,ko:b6,pt:x6,zh:M6,fa:S6};function E6(){var e=kt.getDocumentOrThrow(),t=e.getElementById(x0);t&&e.head.removeChild(t);var r=e.createElement("style");r.setAttribute("id",x0),r.innerText=X3,e.head.appendChild(r)}function A6(){var e=kt.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",Yc),e.body.appendChild(t),t}function ed(){var e=kt.getDocumentOrThrow(),t=e.getElementById(Xc);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=e.getElementById(Yc);r&&e.body.removeChild(r)},r6))}function R6(e){return function(){ed(),e&&e()}}function k6(){var e=kt.getNavigatorOrThrow().language.split("-")[0]||"en";return M0[e]||M0.en}function T6(e,t,r){E6();var n=A6();z.render(z.createElement(g6,{text:k6(),uri:e,onClose:R6(t),qrcodeModalOptions:r}),n)}function C6(){ed()}var td=function(){return typeof ce!="undefined"&&typeof ce.versions!="undefined"&&typeof ce.versions.node!="undefined"};function I6(e,t,r){console.log(e),td()?Y3(e):T6(e,t,r)}function P6(){td()||C6()}var B6={open:I6,close:P6},O6=B6,rd={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(g,x,y){this.fn=g,this.context=x,this.once=y||!1}function i(g,x,y,S,R){if(typeof y!="function")throw new TypeError("The listener must be a function");var I=new o(y,S||g,R),M=r?r+x:x;return g._events[M]?g._events[M].fn?g._events[M]=[g._events[M],I]:g._events[M].push(I):(g._events[M]=I,g._eventsCount++),g}function l(g,x){--g._eventsCount===0?g._events=new n:delete g._events[x]}function v(){this._events=new n,this._eventsCount=0}v.prototype.eventNames=function(){var x=[],y,S;if(this._eventsCount===0)return x;for(S in y=this._events)t.call(y,S)&&x.push(r?S.slice(1):S);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(y)):x},v.prototype.listeners=function(x){var y=r?r+x:x,S=this._events[y];if(!S)return[];if(S.fn)return[S.fn];for(var R=0,I=S.length,M=new Array(I);R<I;R++)M[R]=S[R].fn;return M},v.prototype.listenerCount=function(x){var y=r?r+x:x,S=this._events[y];return S?S.fn?1:S.length:0},v.prototype.emit=function(x,y,S,R,I,M){var T=r?r+x:x;if(!this._events[T])return!1;var A=this._events[T],C=arguments.length,k,B;if(A.fn){switch(A.once&&this.removeListener(x,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,y),!0;case 3:return A.fn.call(A.context,y,S),!0;case 4:return A.fn.call(A.context,y,S,R),!0;case 5:return A.fn.call(A.context,y,S,R,I),!0;case 6:return A.fn.call(A.context,y,S,R,I,M),!0}for(B=1,k=new Array(C-1);B<C;B++)k[B-1]=arguments[B];A.fn.apply(A.context,k)}else{var O=A.length,$;for(B=0;B<O;B++)switch(A[B].once&&this.removeListener(x,A[B].fn,void 0,!0),C){case 1:A[B].fn.call(A[B].context);break;case 2:A[B].fn.call(A[B].context,y);break;case 3:A[B].fn.call(A[B].context,y,S);break;case 4:A[B].fn.call(A[B].context,y,S,R);break;default:if(!k)for($=1,k=new Array(C-1);$<C;$++)k[$-1]=arguments[$];A[B].fn.apply(A[B].context,k)}}return!0},v.prototype.on=function(x,y,S){return i(this,x,y,S,!1)},v.prototype.once=function(x,y,S){return i(this,x,y,S,!0)},v.prototype.removeListener=function(x,y,S,R){var I=r?r+x:x;if(!this._events[I])return this;if(!y)return l(this,I),this;var M=this._events[I];if(M.fn)M.fn===y&&(!R||M.once)&&(!S||M.context===S)&&l(this,I);else{for(var T=0,A=[],C=M.length;T<C;T++)(M[T].fn!==y||R&&!M[T].once||S&&M[T].context!==S)&&A.push(M[T]);A.length?this._events[I]=A.length===1?A[0]:A:l(this,I)}return this},v.prototype.removeAllListeners=function(x){var y;return x?(y=r?r+x:x,this._events[y]&&l(this,y)):(this._events=new n,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=r,v.EventEmitter=v,e.exports=v})(rd);var L6=rd.exports,nd={},Xf={},Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});var N6=function(){function e(t){this.type=t,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return e}();Qf.ProgressEvent=N6;var ti={},wa=Ie&&Ie.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ti,"__esModule",{value:!0});var q6=function(e){wa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);ti.SecurityError=q6;var U6=function(e){wa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);ti.InvalidStateError=U6;var $6=function(e){wa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);ti.NetworkError=$6;var D6=function(e){wa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);ti.SyntaxError=D6;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});var H6=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(t,r){t=t.toLowerCase(),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(r.handleEvent||r)},e.prototype.removeEventListener=function(t,r){if(t=t.toLowerCase(),!!this.listeners[t]){var n=this.listeners[t].indexOf(r.handleEvent||r);n<0||this.listeners[t].splice(n,1)}},e.prototype.dispatchEvent=function(t){var r=t.type.toLowerCase();if(t.target=this,this.listeners[r])for(var n=0,o=this.listeners[r];n<o.length;n++){var i=o[n];i.call(this,t)}var l=this["on"+r];return l&&l.call(this,t),!0},e}();Di.XMLHttpRequestEventTarget=H6;var eu={},F6=Ie&&Ie.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(eu,"__esModule",{value:!0});var z6=Di,K6=function(e){F6(t,e);function t(){var r=e.call(this)||this;return r._contentType=null,r._body=null,r._reset(),r}return t.prototype._reset=function(){this._contentType=null,this._body=null},t.prototype._setData=function(r){if(r!=null)if(typeof r=="string")r.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new L(r,"utf-8");else if(L.isBuffer(r))this._body=r;else if(r instanceof ArrayBuffer){for(var n=new L(r.byteLength),o=new Uint8Array(r),i=0;i<r.byteLength;i++)n[i]=o[i];this._body=n}else if(r.buffer&&r.buffer instanceof ArrayBuffer){for(var n=new L(r.byteLength),l=r.byteOffset,o=new Uint8Array(r.buffer),i=0;i<r.byteLength;i++)n[i]=o[i+l];this._body=n}else throw new Error("Unsupported send() data "+r)},t.prototype._finalizeHeaders=function(r,n){this._contentType&&!n["content-type"]&&(r["Content-Type"]=this._contentType),this._body&&(r["Content-Length"]=this._body.length.toString())},t.prototype._startUpload=function(r){this._body&&r.write(this._body),r.end()},t}(z6.XMLHttpRequestEventTarget);eu.XMLHttpRequestUpload=K6;var io={};(function(){function e(o,i,l,v){return this instanceof e?(this.domain=o||void 0,this.path=i||"/",this.secure=!!l,this.script=!!v,this):new e(o,i,l,v)}e.All=Object.freeze(Object.create(null)),io.CookieAccessInfo=e;function t(o,i,l){return o instanceof t?o:this instanceof t?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(l||"/"),this.explicit_path=!1,this.domain=i||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,o&&this.parse(o,i,l),this):new t(o,i,l)}io.Cookie=t,t.prototype.toString=function(){var i=[this.name+"="+this.value];return this.expiration_date!==1/0&&i.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&i.push("domain="+this.domain),this.path&&i.push("path="+this.path),this.secure&&i.push("secure"),this.noscript&&i.push("httponly"),i.join("; ")},t.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;t.prototype.parse=function(i,l,v){if(this instanceof t){var g=i.split(";").filter(function(I){return!!I}),x,y=g[0].match(/([^=]+)=([\s\S]*)/);if(!y){console.warn("Invalid cookie header encountered. Header: '"+i+"'");return}var S=y[1],R=y[2];if(typeof S!="string"||S.length===0||typeof R!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+i+"'");return}for(this.name=S,this.value=R,x=1;x<g.length;x+=1)switch(y=g[x].match(/([^=]+)(?:=([\s\S]*))?/),S=y[1].trim().toLowerCase(),R=y[2],S){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=R?Number(Date.parse(R)):1/0;break;case"path":this.path=R?R.trim():"",this.explicit_path=!0;break;case"domain":this.domain=R?R.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=v||"/"),this.explicit_domain||(this.domain=l),this}return new t().parse(i,l,v)},t.prototype.matches=function(i){return i===e.All?!0:!(this.noscript&&i.script||this.secure&&!i.secure||!this.collidesWith(i))},t.prototype.collidesWith=function(i){if(this.path&&!i.path||this.domain&&!i.domain||this.path&&i.path.indexOf(this.path)!==0||this.explicit_path&&i.path.indexOf(this.path)!==0)return!1;var l=i.domain&&i.domain.replace(/^[\.]/,""),v=this.domain&&this.domain.replace(/^[\.]/,"");if(v===l)return!0;if(v){if(!this.explicit_domain)return!1;var g=l.indexOf(v);return!(g===-1||g!==l.length-v.length)}return!0};function n(){var o,i,l;return this instanceof n?(o=Object.create(null),this.setCookie=function(g,x,y){var S,R;if(g=new t(g,x,y),S=g.expiration_date<=Date.now(),o[g.name]!==void 0){for(i=o[g.name],R=0;R<i.length;R+=1)if(l=i[R],l.collidesWith(g))return S?(i.splice(R,1),i.length===0&&delete o[g.name],!1):(i[R]=g,g);return S?!1:(i.push(g),g)}return S?!1:(o[g.name]=[g],o[g.name])},this.getCookie=function(g,x){var y,S;if(i=o[g],!!i)for(S=0;S<i.length;S+=1){if(y=i[S],y.expiration_date<=Date.now()){i.length===0&&delete o[y.name];continue}if(y.matches(x))return y}},this.getCookies=function(g){var x=[],y,S;for(y in o)S=this.getCookie(y,g),S&&x.push(S);return x.toString=function(){return x.join(":")},x.toValueString=function(){return x.map(function(I){return I.toValueString()}).join("; ")},x},this):new n}io.CookieJar=n,n.prototype.setCookies=function(i,l,v){i=Array.isArray(i)?i:i.split(r);var g=[],x,y;for(i=i.map(function(S){return new t(S,l,v)}),x=0;x<i.length;x+=1)y=i[x],this.setCookie(y,l,v)&&g.push(y);return g}})();var W6=Ie&&Ie.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j6=Ie&&Ie.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(Xf,"__esModule",{value:!0});var js=gr,id=gr,S0=gr,es=gr,E0=Qf,Ji=ti,G6=Di,A0=eu,R0=io,ba=function(e){W6(t,e);function t(r){r===void 0&&(r={});var n=e.call(this)||this;return n.UNSENT=t.UNSENT,n.OPENED=t.OPENED,n.HEADERS_RECEIVED=t.HEADERS_RECEIVED,n.LOADING=t.LOADING,n.DONE=t.DONE,n.onreadystatechange=null,n.readyState=t.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new A0.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+S0.type()+" "+S0.arch()+") node.js/"+ce.versions.node+" v8/"+ce.versions.v8,n._anonymous=r.anon||!1,n}return t.prototype.open=function(r,n,o,i,l){if(o===void 0&&(o=!0),r=r.toUpperCase(),this._restrictedMethods[r])throw new t.SecurityError("HTTP method "+r+" is not allowed in XHR");var v=this._parseUrl(n,i,l);this.readyState===t.HEADERS_RECEIVED||(this.readyState,t.LOADING),this._method=r,this._url=v,this._sync=!o,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(t.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},t.prototype.setRequestHeader=function(r,n){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");var o=r.toLowerCase();if(this._restrictedHeaders[o]||/^sec-/.test(o)||/^proxy-/.test(o)){console.warn('Refused to set unsafe header "'+r+'"');return}n=n.toString(),this._loweredHeaders[o]!=null?(r=this._loweredHeaders[o],this._headers[r]=this._headers[r]+", "+n):(this._loweredHeaders[o]=r,this._headers[r]=n)},t.prototype.send=function(r){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new t.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(r);case"http:":case"https:":return this._sendHttp(r);default:throw new t.NetworkError("Unsupported protocol "+this._url.protocol)}},t.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},t.prototype.getResponseHeader=function(r){if(this._responseHeaders==null||r==null)return null;var n=r.toLowerCase();return this._responseHeaders.hasOwnProperty(n)?this._responseHeaders[r.toLowerCase()]:null},t.prototype.getAllResponseHeaders=function(){var r=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(n){return n+": "+r._responseHeaders[n]}).join(`\r
`)},t.prototype.overrideMimeType=function(r){if(this.readyState===t.LOADING||this.readyState===t.DONE)throw new t.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=r.toLowerCase()},t.prototype.nodejsSet=function(r){if(this.nodejsHttpAgent=r.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=r.httpsAgent||this.nodejsHttpsAgent,r.hasOwnProperty("baseUrl")){if(r.baseUrl!=null){var n=es.parse(r.baseUrl,!1,!0);if(!n.protocol)throw new t.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=r.baseUrl}},t.nodejsSet=function(r){t.prototype.nodejsSet(r)},t.prototype._setReadyState=function(r){this.readyState=r,this.dispatchEvent(new E0.ProgressEvent("readystatechange"))},t.prototype._sendFile=function(r){throw new Error("Protocol file: not implemented")},t.prototype._sendHttp=function(r){if(this._sync)throw new Error("Synchronous XHR processing not implemented");r&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),r=null):r=r||"",this.upload._setData(r),this._finalizeHeaders(),this._sendHxxpRequest()},t.prototype._sendHxxpRequest=function(){var r=this;if(this.withCredentials){var n=t.cookieJar.getCookies(R0.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=n}var o=this._url.protocol==="http:"?[js,this.nodejsHttpAgent]:[id,this.nodejsHttpsAgent],i=o[0],l=o[1],v=i.request.bind(i),g=v({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:l});this._request=g,this.timeout&&g.setTimeout(this.timeout,function(){return r._onHttpTimeout(g)}),g.on("response",function(x){return r._onHttpResponse(g,x)}),g.on("error",function(x){return r._onHttpRequestError(g,x)}),this.upload._startUpload(g),this._request===g&&this._dispatchProgress("loadstart")},t.prototype._finalizeHeaders=function(){this._headers=j6({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},t.prototype._onHttpResponse=function(r,n){var o=this;if(this._request===r){if(this.withCredentials&&(n.headers["set-cookie"]||n.headers["set-cookie2"])&&t.cookieJar.setCookies(n.headers["set-cookie"]||n.headers["set-cookie2"]),[301,302,303,307,308].indexOf(n.statusCode)>=0){this._url=this._parseUrl(n.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=n,this._response.on("data",function(l){return o._onHttpResponseData(n,l)}),this._response.on("end",function(){return o._onHttpResponseEnd(n)}),this._response.on("close",function(){return o._onHttpResponseClose(n)}),this.responseUrl=this._url.href.split("#")[0],this.status=n.statusCode,this.statusText=js.STATUS_CODES[this.status],this._parseResponseHeaders(n);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(t.HEADERS_RECEIVED)}},t.prototype._onHttpResponseData=function(r,n){this._response===r&&(this._responseParts.push(new L(n)),this._loadedBytes+=n.length,this.readyState!==t.LOADING&&this._setReadyState(t.LOADING),this._dispatchProgress("progress"))},t.prototype._onHttpResponseEnd=function(r){this._response===r&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(t.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},t.prototype._onHttpResponseClose=function(r){if(this._response===r){var n=this._request;this._setError(),n.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},t.prototype._onHttpTimeout=function(r){this._request===r&&(this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},t.prototype._onHttpRequestError=function(r,n){this._request===r&&(this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},t.prototype._dispatchProgress=function(r){var n=new t.ProgressEvent(r);n.lengthComputable=this._lengthComputable,n.loaded=this._loadedBytes,n.total=this._totalBytes,this.dispatchEvent(n)},t.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},t.prototype._parseUrl=function(r,n,o){var i=this.nodejsBaseUrl==null?r:es.resolve(this.nodejsBaseUrl,r),l=es.parse(i,!1,!0);l.hash=null;var v=(l.auth||"").split(":"),g=v[0],x=v[1];return(g||x||n||o)&&(l.auth=(n||g||"")+":"+(o||x||"")),l},t.prototype._parseResponseHeaders=function(r){this._responseHeaders={};for(var n in r.headers){var o=n.toLowerCase();this._privateHeaders[o]||(this._responseHeaders[o]=r.headers[n])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},t.prototype._parseResponse=function(){var r=L.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(r.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=r;return;case"arraybuffer":this.responseText=null;for(var n=new ArrayBuffer(r.length),o=new Uint8Array(n),i=0;i<r.length;i++)o[i]=r[i];this.response=n;return;case"text":default:try{this.responseText=r.toString(this._parseResponseEncoding())}catch{this.responseText=r.toString("binary")}this.response=this.responseText}},t.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},t.ProgressEvent=E0.ProgressEvent,t.InvalidStateError=Ji.InvalidStateError,t.NetworkError=Ji.NetworkError,t.SecurityError=Ji.SecurityError,t.SyntaxError=Ji.SyntaxError,t.XMLHttpRequestUpload=A0.XMLHttpRequestUpload,t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t.cookieJar=R0.CookieJar(),t}(G6.XMLHttpRequestEventTarget);Xf.XMLHttpRequest=ba;ba.prototype.nodejsHttpAgent=js.globalAgent;ba.prototype.nodejsHttpsAgent=id.globalAgent;ba.prototype.nodejsBaseUrl=null;(function(e){function t(n){for(var o in n)e.hasOwnProperty(o)||(e[o]=n[o])}Object.defineProperty(e,"__esModule",{value:!0}),t(Xf);var r=Di;e.XMLHttpRequestEventTarget=r.XMLHttpRequestEventTarget})(nd);const V6=Sl("XMLHttpRequest")||nd.XMLHttpRequest;class Z6 extends L6{constructor(t){super(),this.url=t}formatError(t,r,n=-1){return{error:{message:r,code:n},id:t.id,jsonrpc:t.jsonrpc}}send(t,r){return new Promise(n=>{if(t.method==="eth_subscribe"){const v=this.formatError(t,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",v),n(v)}const o=new V6;let i=!1;const l=(v,g)=>{if(!i)if(o.abort(),i=!0,r)r(v,g);else{const{id:x,jsonrpc:y}=t,S=v?{id:x,jsonrpc:y,error:{message:v.message,code:v.code}}:{id:x,jsonrpc:y,result:g};this.emit("payload",S),n(S)}};o.open("POST",this.url,!0),o.setRequestHeader("Content-Type","application/json"),o.timeout=60*1e3,o.onerror=l,o.ontimeout=l,o.onreadystatechange=()=>{if(o.readyState===4)try{const v=JSON.parse(o.responseText);l(v.error,v.result)}catch(v){l(v)}},o.send(JSON.stringify(t))})}}const J6=Gy,Y6=lw,X6=vw,Q6=_w,eS=$w,tS=Qb,rS=nx;class sS extends J6{constructor(t){if(super({pollingInterval:t.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=O6,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const r=await this.getWalletConnector();if(r)return this.start(),this.subscribeWalletConnector(),r.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async r=>this.send(r),this.send=async(r,n)=>{if(typeof r=="string"){const o=r;let i=n;return o==="personal_sign"&&(i=wo(i)),this.sendAsyncPromise(o,i)}if(r=Object.assign({id:Bs(),jsonrpc:"2.0"},r),r.method==="personal_sign"&&(r.params=wo(r.params)),n){this.sendAsync(r,n);return}return this.sendAsyncPromise(r.method,r.params)},this.onConnect=r=>{this.connectCallbacks.push(r)},this.triggerConnect=r=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(n=>n(r))},this.bridge=t.connector?t.connector.bridge:t.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof t.qrcode=="undefined"||t.qrcode!==!1,this.qrcodeModal=t.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=t.qrcodeModalOptions,this.wc=t.connector||new RM({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:t==null?void 0:t.storageId,signingMethods:t==null?void 0:t.signingMethods,clientMeta:t==null?void 0:t.clientMeta}),this.rpc=t.rpc||null,!this.rpc&&(!t.infuraId||typeof t.infuraId!="string"||!t.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=t.infuraId||"",this.chainId=(t==null?void 0:t.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(t){try{let r,n=null;const o=await this.getWalletConnector();switch(t.method){case"wc_killSession":await this.close(),n=null;break;case"eth_accounts":n=o.accounts;break;case"eth_coinbase":n=o.accounts[0];break;case"eth_chainId":n=o.chainId;break;case"net_version":n=o.chainId;break;case"eth_uninstallFilter":this.sendAsync(t,i=>i),n=!0;break;default:r=await this.handleOtherRequests(t)}return r||this.formatResponse(t,n)}catch(r){throw this.emit("error",r),r}}async handleOtherRequests(t){if(!Cf.includes(t.method)&&t.method.startsWith("eth_"))return this.handleReadRequests(t);const n=await(await this.getWalletConnector()).sendCustomRequest(t);return this.formatResponse(t,n)}async handleReadRequests(t){if(!this.http){const r=new Error("HTTP Connection not available");throw this.emit("error",r),r}return this.http.send(t)}formatResponse(t,r){return{id:t.id,jsonrpc:t.jsonrpc,result:r}}getWalletConnector(t={}){const{disableSessionCreation:r=!1}=t;return new Promise((n,o)=>{const i=this.wc;this.isConnecting?this.onConnect(l=>n(l)):!i.connected&&!r?(this.isConnecting=!0,i.on("modal_closed",()=>{o(new Error("User closed modal"))}),i.createSession({chainId:this.chainId}).then(()=>{i.on("connect",(l,v)=>{if(l)return this.isConnecting=!1,o(l);this.isConnecting=!1,this.connected=!0,v&&this.updateState(v.params[0]),this.emit("connect"),this.triggerConnect(i),n(i)})}).catch(l=>{this.isConnecting=!1,o(l)})):(this.connected||(this.connected=!0,this.updateState(i.session)),n(i))})}async subscribeWalletConnector(){const t=await this.getWalletConnector();t.on("disconnect",r=>{if(r){this.emit("error",r);return}this.onDisconnect()}),t.on("session_update",(r,n)=>{if(r){this.emit("error",r);return}this.updateState(n.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(t){const{accounts:r,chainId:n,networkId:o,rpcUrl:i}=t;(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.emit("accountsChanged",r)),(!this.chainId||n&&this.chainId!==n)&&(this.chainId=n,this.emit("chainChanged",n)),(!this.networkId||o&&this.networkId!==o)&&(this.networkId=o,this.emit("networkChanged",o)),this.updateRpcUrl(this.chainId,i||"")}updateRpcUrl(t,r=""){const n={infuraId:this.infuraId,custom:this.rpc||void 0};r=r||w2(t,n),r?(this.rpcUrl=r,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${t}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new Z6(this.rpcUrl),this.http.on("payload",t=>this.emit("payload",t)),this.http.on("error",t=>this.emit("error",t)))}sendAsyncPromise(t,r){return new Promise((n,o)=>{this.sendAsync({id:Bs(),jsonrpc:"2.0",method:t,params:r||[]},(i,l)=>{if(i){o(i);return}n(l.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new X6({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new Y6),this.addProvider(new rS),this.addProvider(new Q6),this.addProvider(new tS),this.addProvider(new eS(this.configWallet())),this.addProvider({handleRequest:async(t,r,n)=>{try{const{error:o,result:i}=await this.handleRequest(t);n(o,i)}catch(o){n(o)}},setEngine:t=>t})}configWallet(){return{getAccounts:async t=>{try{const n=(await this.getWalletConnector()).accounts;n&&n.length?t(null,n):t(new Error("Failed to get accounts"))}catch(r){t(r)}},processMessage:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signMessage([t.from,t.data]);r(null,o)}catch(n){r(n)}},processPersonalMessage:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signPersonalMessage([t.data,t.from]);r(null,o)}catch(n){r(n)}},processSignTransaction:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signTransaction(t);r(null,o)}catch(n){r(n)}},processTransaction:async(t,r)=>{try{const o=await(await this.getWalletConnector()).sendTransaction(t);r(null,o)}catch(n){r(n)}},processTypedMessage:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signTypedData([t.from,t.data]);r(null,o)}catch(n){r(n)}}}}}export{sS as default};
